if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("usePremiumMusicVideoInterruptionSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3656947831001794"}),null);
__d("usePremiumMusicVideoInterruptionSubscription.graphql",["usePremiumMusicVideoInterruptionSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PremiumMusicVideoInterruptionSubscribeResponsePayload",kind:"LinkedField",name:"premium_music_video_interruption_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disable_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePremiumMusicVideoInterruptionSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePremiumMusicVideoInterruptionSubscription",selections:c},params:{id:b("usePremiumMusicVideoInterruptionSubscription_facebookRelayOperation"),metadata:{subscriptionName:"premium_music_video_interruption_subscribe"},name:"usePremiumMusicVideoInterruptionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:null,name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"useOzQuickStarterData_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementationsImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useResolvedVideoPlayerConfigs_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerBuilder_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"InstreamVideoAdBreaksPlayer_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerVideoIsCastingCover_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useOzImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useOzImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useOzQuickStarterData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"representation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mime_codec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"segment_type",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:null,name:"useOzQuickStarterData_video",selections:[{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],concreteType:"VideoPrefetchResources",kind:"LinkedField",name:"dash_prefetch_resources",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"audio",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"video",plural:!0,selections:a,storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useProgressiveImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProgressiveImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useShakaImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShakaImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,concreteType:"VideoPlayerShakaLiveP2PInit",kind:"LinkedField",name:"video_player_shaka_live_p2p_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"json_encoded_video_data",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoImplementationsImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsImpl_video",selections:[{args:null,kind:"FragmentSpread",name:"useOzImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useShakaImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useProgressiveImplementationData_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("FBRTCConstants",["keyMirror"],(function(a,b,c,d,e,f,g){var h=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway",CLIENT_REPORTED_EVENT:"client_reported_event"}),i=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"}),j=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"}),k=Object.freeze({LL_NIL:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5}),l=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),m=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",SD_VIDEO:"SD_VIDEO",HD_IDEAL_LQ_REQUIRED_VIDEO:"HD_IDEAL_LQ_REQUIRED_VIDEO",FHD_IDEAL_LQ_REQUIRED_VIDEO:"FHD_IDEAL_LQ_REQUIRED_VIDEO"}),n=Object.freeze({FHD_HEIGHT:1080,HD_HEIGHT:720,LQ_HEIGHT:180,SD_HEIGHT:480,FHD_WIDTH:1920,HD_WIDTH:1280,LQ_WIDTH:320,SD_WIDTH:848,VLQ_FRAME_RATE:5,LQ_FRAME_RATE:15,FRAME_RATE:30}),o=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20,KILLED:21,TX_ACK_TIMEOUT:22}),p=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout","Killed","TxAckTimeout"],q=Object.freeze({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",AUDIO_ONLY_DISALLOWED:"CollabAudioOnlyDisallowed",UNKNOWN:"CollabUnknown",KILLED_VIA_THRIFT_API:"CollabKilledViaThriftApi"}),r=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10}),s=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});c=c("keyMirror")({AUDIO:null,VIDEO:null});var t=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),u=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"}),v=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"}),w=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1}),x=Object.freeze({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"});function a(a){switch(a){case k.LL_DEBUG:return"d";case k.LL_BASIC:return"b";case k.LL_WARNING:return"w";case k.LL_INFO:return"i";case k.LL_VERBOSE:return"v";case k.LL_NIL:default:return null}}function b(a){switch(a){case"d":return k.LL_DEBUG;case"b":return k.LL_BASIC;case"w":return k.LL_WARNING;case"i":return k.LL_INFO;case"v":return k.LL_VERBOSE;default:return k.LL_NIL}}function d(a){switch(a){case k.LL_BASIC:return"basic";case k.LL_DEBUG:return"debug";case k.LL_WARNING:return"warning";case k.LL_INFO:return"info";case k.LL_VERBOSE:return"verbose";default:return""}}function e(a){return p.indexOf(a)}function f(a){a=p[a];return!a?"Unknown":a}function y(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}g.PayloadType=h;g.ChildWindowMessageType=i;g.CallType=j;g.UploadLogLevel=k;g.StreamType=l;g.VideoQuality=m;g.RTCConstraints=n;g.CallEndReason=o;g.CollabCallEndSubreason=q;g.UIEventType=r;g.CallBlockingConstants=s;g.IncomingCallDialogTypes=c;g.SignalingProtocol=t;g.GroupVideoViewLayout=u;g.Orientation=v;g.ClientReportedEventType=w;g.SDPSemantics=x;g.convertFromUploadLogLevel=a;g.convertToUploadLogLevel=b;g.uploadLogLevelString=d;g.endCallReasonFromString=e;g.callEndReasonString=f;g.fullCallEndReasonString=y}),98);
__d("FBRTCLocalUploadLogLevel",["CurrentUser","FBRTCConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Math.max(h(),a)}function h(){return c("CurrentUser").isEmployee()||c("CurrentUser").isTestUser()?d("FBRTCConstants").UploadLogLevel.LL_DEBUG:d("FBRTCConstants").UploadLogLevel.LL_NIL}g.getUploadLogLevel=a;g.getLocalUploadLogLevel=h}),98);
__d("BrowserPushCommands",[],(function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c};e.exports=d}),null);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function(a,b,c,d,e,f,g){function a(a){var b="(messages)(.*?)(?:(tid=))([^&]*)";a=a.match(b);if(!a)return!0;var d=a.pop();c("Bootloader").loadModules(["FantaTabActions"],function(a){a.openTab(d)},"BrowserPushMessageRedirectUtil");return!1}g["default"]=a}),98);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function(a,b,c,d,e,f,g){function h(a){if(a.data.command&&a.data.command===d("BrowserPushCommands").REDIRECT){if(typeof window.onbeforeunload==="function"&&window.onbeforeunload()===void 0)a.ports[0].postMessage({command:d("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:d("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!d("URISchemes").isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!c("isFacebookURI")(new(c("URI"))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);c("BrowserPushMessageRedirectUtil")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){c("EventListener").listen(window,"message",function(a){a.origin===""&&h(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&h(a)})}};b=a;g["default"]=b}),98);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(a,b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(d("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){c("Visibility").isHidden()||h(),c("Visibility").addListener(c("Visibility").VISIBLE,h)}};b=a;g["default"]=b}),98);
__d("NUXWizardTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:NUXWizardLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:NUXWizardLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:NUXWizardLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEligibleSteps=function(a){this.$1.eligible_steps=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setInitializedPlatforms=function(a){this.$1.initialized_platforms=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setIsInNuxCometFlow=function(a){this.$1.is_in_nux_comet_flow=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setStage=function(a){this.$1.stage=a;return this};c.setStep=function(a){this.$1.step=a;return this};c.setTimeSinceStepsCalculated=function(a){this.$1.time_since_steps_calculated=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={eligible_steps:!0,event:!0,event_type:!0,initialized_platforms:!0,is_in_nux_comet_flow:!0,platform:!0,stage:!0,step:!0,time_since_steps_calculated:!0};f["default"]=a}),66);
__d("MPushPermissionUtil",["BanzaiLogger","NUXWizardTypedLogger","gkx"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=c("gkx")("910664");d&&c("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:a});if(b){d=null;b="step";a==="allow"?(d="allow",b="conversion"):a==="deny"?d="deny":a==="install_ignore"?d="ignore":a==="turn_on_attempt"&&(d="show_browser_dialog");if(d!==null){a=new(c("NUXWizardTypedLogger"))().setEvent(d).setEventType(b).setPlatform("mobile").setStep("turn_on_notification");a.logVital()}}}g.logEvent=a}),98);
__d("PushRegistrationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b}function a(a,b){var c=g(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}f.normalizeSubscriptionEndpoint=g;f.setupPushRegistrationData=a}),66);
__d("ServiceWorkerRegistration",["BrowserPaymentHandlerConfig","ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],(function(a,b,c,d,e,f){var g=!!navigator.serviceWorker,h={},i={name:"Facebook Pay",method:self.location.origin+"/pay"};function j(a){if(!b("BrowserPaymentHandlerConfig").enabled)return;(a=a.paymentManager)==null?void 0:(a=a.instruments)==null?void 0:a.set("Facebook",i)}function k(){var a=navigator.serviceWorker;if(!g||!a)throw new Error("serviceWorker is not supported in this browser");return a}var l={isSupported:function(){return g},registerWorkerIfUnregisteredAfterDD:function(a){b("Run").onAfterLoad(function(){l.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){if(h[a])return h[a];var c=k(),d=h[a]=new(b("Promise"))(function(d,e){b("promiseDone")(l.getWorkerRegistration(a),function(f){if(!f){var g=b("EventListener").listen(window,"message",function(a){(a==null?void 0:(a=a.data)==null?void 0:a.command)==="ServiceWorkerInstallError"&&e()});b("promiseDone")(b("Promise").resolve(c.register(a,{updateViaCache:"all"})),function(){g.remove(),b("promiseDone")(b("Promise").resolve(c.ready),d)})}else d(f)})});b("promiseDone")(d,function(b){h[a]=null,j(b)});return d},unregisterControllingWorker:function(){return new(b("Promise"))(function(a,c){c=new(b("ClientServiceWorkerMessage"))("unregister",{},function(){a(!0)});c.sendViaController()})},getWorkerRegistration:function(a){var b=k();return b.getRegistration(a)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?b("Promise").resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=l}),null);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["BrowserPushMessageHandler","BrowserPushPubKey","BrowserPushVisibilityChanger","MPushPermissionUtil","Promise","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){var g=window.Notification,h=new Map();a=function(){"use strict";a.get=function(b,c){if(h.has(c))return h.get(c);b=new a(b,c);h.set(c,b);return b};function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(b("Promise"))(function(d,e){a.pushPermissionIsDenied()&&(b("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),e(new Error("No permission or not supported"))),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.send()};c.getMutedUntilInServer=function(a){var c=this;return new(b("Promise"))(function(d,e){c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.getPushSubscription().then(function(g){if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(b){a!==0&&b.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(b.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(b("Promise"))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.getPushSubscription().then(function(f){f?(d.$4(a,c,f),e(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f))):e(null)})["catch"](function(){e(null)})})};c.$5=function(c,d,e){var f=this;return new(b("Promise"))(function(b,g){if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,g,h){var i=this;g===void 0&&(g=!1);h===void 0&&(h=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(b("Promise"))(function(j,k){i.getPushSubscription().then(function(k){j(!!k||c&&!a.pushPermissionIsPending()),k?g?i.$4(d,f,k):b("BrowserPushVisibilityChanger").listenForVisibility():!k&&c&&(a.pushPermissionIsOn()?i.registerPush(d,f,h)["catch"](function(){}):i.$5(e,f,!1))})["catch"](function(){c&&i.$5(e,f,!1),h&&b("ServiceWorkerRegistration").unregisterControllingWorker(),k()})})};c.$6=function(){return new(b("Promise"))(function(a,b){g.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d){var e=this;d===void 0&&(d=!1);return new(b("Promise"))(function(b,f){e.$7(a,c,!0,null,d).then(function(a){if(typeof a!=="string"){f(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](f)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){d.waitForKaiOS().done(function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d);f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e){d===void 0&&(d=!1);e===void 0&&(e=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,e,d)};c.registerPushWithFinishedCallBack=function(a,c,d,e){var f=this;e===void 0&&(e=!1);return new(b("Promise"))(function(b,g){f.$7(a,c,!1,d,e).then(function(a){if(typeof a!=="boolean"){g(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](g)})};c.$7=function(c,d,e,f,g){var h=this;if(a.$1)return new(b("Promise"))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return b("Promise").reject(new Error("PushManager not found."));a.$1=!0;return new(b("Promise"))(function(i,j){var k=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(h.$3),l=h.$6();b("Promise").all([k,l]).then(function(k){var l=k[0];if(!a.pushPermissionIsOn()){g&&l.unregister();throw new Error("Push permission was denied")}e||i(!0);k=b("BrowserPushPubKey").appServerKey;var m=b("gkx")("1511920")&&k!=null&&k!="";m=m?{userVisibleOnly:!0,applicationServerKey:k}:{userVisibleOnly:!0};l.pushManager.subscribe(m).then(function(a){e&&i(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),h.$4(c,d,a),f&&f(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,g&&l.unregister(),j(b)})})["catch"](function(b){a.$1=!1,j(b)})})};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(b("Promise"))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(b("Promise"))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a}),null);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("incognito",["Promise","UserAgent","WebStorage","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=window.RequestFileSystem||window.webkitRequestFileSystem;if(!a){d.next=3;break}return d.abrupt("return",new(b("Promise"))(function(b){return a(window.TEMPORARY,10,function(){return b(!1)},function(){return b(!0)})}));case 3:if(!(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))){d.next=5;break}return d.abrupt("return",!window.indexedDB);case 5:if(!c("UserAgent").isBrowser("Firefox >= 16")){d.next=7;break}return d.abrupt("return",new(b("Promise"))(function(a){var b=window.indexedDB.open("__test__");b.onsuccess=function(){return a(!1)};b.onerror=function(b){b.preventDefault(),a(!0)}}));case 7:if(!(c("gkx")("676917")&&(c("UserAgent").isPlatform("iOS")&&c("UserAgent").isBrowser("Safari >= 10.3")||c("UserAgent").isPlatform("Mac OS X")&&c("UserAgent").isBrowser("Safari >= 11.1")))){d.next=18;break}d.prev=8;window.openDatabase("sid","1.0","",0);d.next=16;break;case 12:d.prev=12;d.t0=d["catch"](8);if(!(d.t0.name==="SecurityError")){d.next=16;break}return d.abrupt("return",!0);case 16:d.next=20;break;case 18:if(!c("UserAgent").isBrowser("Safari")){d.next=20;break}return d.abrupt("return",!c("WebStorage").getLocalStorage());case 20:return d.abrupt("return",!1);case 21:case"end":return d.stop()}},null,this,[[8,12]])}g["default"]=a}),98);
__d("BrowserPushDirectPromptInstallerComet",["AsyncRequest","BanzaiLogger","Promise","PushNotificationsEventEmitter","PushRegistration","QE2Logger","XBrowserPushDisabledController","XBrowserPushXOutController","XPushRegisterServiceWorkerController","incognito"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,d){d===void 0&&(d="prompt");b=babelHelpers["extends"]({appID:b,event:a,surface:d},h);c("BanzaiLogger").log("BrowserPushLoggerConfig",b)}function k(){h!=null&&h.xout_count===0&&i&&d("QE2Logger").logExposureForUser(i)}function l(a){var b=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setMethod("POST").send();j("xout",a)}function a(a,b){a=c("PushRegistration").get(a,b);return a.getSubscription()}function e(a,b){a=c("PushRegistration").get(a,b);j("turn_off",b);return a.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest"))}function m(a,b,d,e){a=c("PushRegistration").get(a,b);j("turn_on",b);return a.registerPushWithFinishedCallBack(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),function(){},e).then(function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),j("install",b)})["catch"](function(a){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()?(c("PushNotificationsEventEmitter").emit("openPushBlockedNotice",d),j("deny",b)):j("install_ignore",b),l(b)})}function f(a,d,e,f,g,h,i,j){var l=c("PushRegistration").get(a,d);l=l.isPushRegistered(e,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!g,i);b("Promise").all([l,c("incognito")()]).then(function(b){var e=b[0];b=b[1];if(e||b)return;k();if(c("PushRegistration").pushPermissionIsPending()){if(!j||f)return;c("PushNotificationsEventEmitter").emit("openInstallPush",{appID:d,browserName:h,path:a,workerIsForPushOnly:i})}else f||m(a,d,h,i)})["catch"](function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()&&k()})}function n(a){h=a}function o(a){i=a}g.genPushSubscription=a;g.genDisableNotifications=e;g.genEnableNotifications=m;g.installPush=f;g.setLogExtraData=n;g.setQEUniverseName=o}),98);
__d("NotificationPermissionNoticeComet.react",["fbt","Locale","react","stylex","useCometCallout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={calloutMaxWidth:{maxWidth:"nqmqzb3c"},root:{left:"tkt9xfrv",maxWidth:"nqmqzb3c",position:"poy2od1o",top:"kr520xx4"}};function a(a){var b=a.shortText?h._(/*FBT_CALL*/"Click the lock to give {browser_name} permission to send you desktop notifications."/*FBT_CALL*/,[h._param("browser_name",a.browserName)]):h._(/*FBT_CALL*/"If you change your mind, click the lock to give {browser_name} permission to send you desktop notifications."/*FBT_CALL*/,[h._param("browser_name",a.browserName)]),e=d("Locale").isRTL();e=e?"end":"start";e={align:e,arrowStyle:"inset",label:b,onHide:a.onHide,position:"below",type:"accent",xstyle:j.calloutMaxWidth};b=c("useCometCallout")(e,!0);return i.jsx("div",{className:c("stylex")(j.root),ref:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseAccessibleElement_DEPRECATED.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.id;return h.jsx("span",{className:"rfua0xdk pmk7jnqg stjgntxs ni8dbmo4 ay7djpcl ema1e40h q45zohi1","data-html2canvas-ignore":"true",id:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("NotificationPermissionRequestComet.react",["fbt","BaseAccessibleElement_DEPRECATED.react","BaseModal.react","CometHideLayerOnEscape.react","CometVisualCompletion","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect;function a(a){j(function(){window.addEventListener("mousedown",a.onClick);c("CometVisualCompletion").addAnnotationInt("pushRequestOverlay",1);return function(){window.removeEventListener("mousedown",a.onClick)}},[a.onClick]);return i.jsx(c("BaseModal.react"),{stackingBehavior:"above-everything",children:i.jsx(c("CometHideLayerOnEscape.react"),{onHide:a.onClick,children:i.jsx(c("BaseAccessibleElement_DEPRECATED.react"),{children:i.jsxs("div",{"aria-label":h._(/*FBT_CALL*/"Push notifications request"/*FBT_CALL*/),"aria-modal":"true",role:"alertdialog",children:[h._(/*FBT_CALL*/"To allow or block browser notifications from Facebook, go to your browser settings."/*FBT_CALL*/),i.jsx("button",{onClick:a.onClick,children:h._(/*FBT_CALL*/"Close"/*FBT_CALL*/)})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePremiumMusicVideoInterruptionSubscription",["CometRelay","react","usePremiumMusicVideoInterruptionSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("usePremiumMusicVideoInterruptionSubscription.graphql");function a(a){var b=d("CometRelay").useRelayEnvironment();i(function(){if(a==null)return;var c=d("CometRelay").requestSubscription(b,{subscription:j,variables:{input:{user_id:a}}});return function(){c.dispose()}},[a,b])}g["default"]=a}),98);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1779508")}g["default"]=a}),98);
__d("CometFullScreen",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;return typeof c==="function"?c.call(a):b("Promise").reject()}function c(){var a=document.exitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen;return typeof a==="function"?a.call(document):b("Promise").reject()}function d(){return(document.webkitFullscreenEnabled===!0||document.mozFullScreenEnabled===!0||document.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof document.webkitExitFullscreen==="function"||typeof document.mozCancelFullScreen==="function"||typeof document.msExitFullscreen==="function"||typeof document.exitFullscreen==="function")}function g(){return document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||null}function e(){return g()!=null}function h(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function i(a){var b=window.document,c=!1,d=!0;h().forEach(function(e){b.addEventListener(e,a,{capture:c,passive:d})});return function(){h().forEach(function(d){b.removeEventListener(d,a,c)})}}f.requestFullScreen=a;f.exitFullScreen=c;f.isSupported=d;f.getFullScreenElement=g;f.isFullScreen=e;f.getFullScreenChangeEventNames=h;f.subscribeToFullScreenChangeEvent=i}),66);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){var a=c("qex")._("1634")||!1;a&&b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);var b=c("qex")._("1635");if(b!=null&&b>0)return!isNaN(a)&&a>0&&a<=b}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;!!c("qex")._("1633")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;!!c("qex")._("1633")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("useEventCallbackOn",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c){h(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}g["default"]=a}),98);
__d("useIsBackgrounded",["VideoPlayerShakaGlobalConfig","react","useEventCallbackOn"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useCallback,i=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function j(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var k=b();function l(){var b=a.document.hasFocus?a.document.hasFocus():!0,c=j(),e=d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return c||(e?!1:!b)}function e(b){var e=i(function(){return l()}),f=e[0],g=e[1],j=!!b&&b.scrollTerminatesBackgrounded===!0;e=h(function(){g(l())},[g,l]);b=e;var m=h(function(){var a=l();a&&j&&f&&g(!1)},[f,j,g]);d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(b=function(){});c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,k,e);c("useEventCallbackOn")(a.window,"scroll",m);return f}g["default"]=e}),98);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,c=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:c,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("wrapWithContextProviders",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return h.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b}),98);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:1269159","react","setTimeout","wrapWithContextProviders"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState;function m(a){var b=k(a);j(function(){b.current=a},[a]);var d=l(!1),e=d[0],f=d[1];d=l(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=c("setTimeout")(function(){f(!0)},b.current);a=function(){c("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;j(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function n(){var a=l(!1),b=a[0],c=a[1];a=3e3;a=m(a);var d=a.isIdle,e=a.pingNotIdle;a=i(function(){c(!0),e()},[e]);var f=i(function(){c(!1),e()},[e]),g=i(function(){c(!0),e()},[e]),h=i(function(){e()},[e]),j=i(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:h,onMouseEnter:a,onMouseLeave:f,onMouseMove:g,onMouseUp:j}}function o(a){var b=n(),e=b.isHovering,f=b.isIdle,g=b.onMouseDown,i=b.onMouseEnter,j=b.onMouseLeave,k=b.onMouseMove;b=b.onMouseUp;var l=d("VideoPlayerHooks").useIsFullscreen();return h.jsx("div",babelHelpers["extends"]({className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(l&&f?" sorcqhzv":"")},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:g,onMouseEnter:i,onMouseLeave:j,onMouseMove:k,onMouseUp:b,children:h.jsx(d("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:e,children:h.jsx(d("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:f,children:a.children})})}))}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var f=a.adClientToken,g=a.audioAvailabilityInfo,i=a.autoplayGatingResult,j=a.broadcastStatus,k=a.canAutoplay,l=a.controller,m=a.dimensions,n=a.initialTracePolicy,p=a.instanceKey,q=a.isFullscreen,r=a.isNCSR,s=a.isPremiumMusicVideo,t=a.lastMuteReason,u=a.lastPauseReason,v=a.lastPlayReason,w=a.originalHeight,x=a.originalWidth,y=a.videoFBID,z=a.videoPlayerPassiveViewabilityInfo,A=a.videoState,B=a.volumeSetting,C=A.activeCaptions,D=A.activeEmsgBoxes,E=A.availableVideoQualities,F=A.bufferEnd,G=A.captionDisplayStyle,H=A.captionsLoaded,I=A.captionsVisible,J=A.currentVideoQuality,K=A.duration,L=A.ended,M=A.error,N=A.inbandCaptionsAutogenerated,O=A.inPlayStalling,P=A.isAbrEnabled,Q=A.isExternalMedia,R=A.isLiveRewindActive,S=A.lastPlayedTimeMs,T=A.latencyLevel,U=A.loopCount,V=A.loopCurrent,W=A.muted,X=A.paused,Y=A.playerImplementationName,Z=A.playing,$=A.seekableRanges,aa=A.seeking,ba=A.selectedVideoQuality,ca=A.stalling,da=A.streamInterrupted,ea=A.targetAudioQuality,fa=A.targetPlaybackRate,ga=A.targetVideoQuality,ha=A.volume;A=A.watchTimeMs;e=h.jsx(o,{children:e});b("cr:1269159")(p,{controller:l,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:z});a=d("wrapWithContextProviders").wrapWithContextProviders(e,[d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VideoFBIDContext,y),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").StallingContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlayingContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InPlayStallingContext,O),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").BufferEndContext,F),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastMuteReasonContext,t),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPlayReasonContext,v),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPauseReasonContext,u),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PausedContext,X),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CurrentVideoQualityContext,J),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").MutedContext,W),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VolumeContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SelectedVideoQualityContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SeekingContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").DurationContext,K),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").EndedContext,L),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ErrorContext,M),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").DimensionsContext,m||null),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InstanceKeyContext,p),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ControllerContext,l),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AvailableVideoQualitiesContext,E),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlayerImplementationNameContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsAbrEnabledContext,P),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").TargetAudioQualityContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").TargetVideoQualityContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlaybackRateContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CanAutoplayContext,k),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VolumeSettingContext,B),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AutoplayGatingResultContext,i),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").BroadcastStatusContext,j),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LoopCountContext,U),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LoopCurrentContext,V),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AdClientTokenContext,f),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ActiveCaptionsContext,C),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionsVisibleContext,I),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionDisplayStyleContext,G),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionsLoadedContext,H),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,N),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").StreamInterruptedContext,da),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").WatchTimeContext,A),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPlayedTimeContext,S),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SeekableRangesContext,$),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LatencyLevelContext,T),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsLiveRewindActiveContext,R),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AudioAvailabilityInfoContext,g),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsNCSRContext,r),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsPremiumMusicVideoContext,s),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InitialTracePolicyContext,n),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ActiveEmsgBoxesContext,D),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsExternalMediaContext,Q),function(a){return h.jsx(d("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider,{originalHeight:w,originalWidth:x,children:a})},function(a){return h.jsx(c("VideoPlayerViewabilityProvider.react"),{isFullscreen:q,videoPlayerPassiveViewabilityInfo:z,children:a})}]);return h.jsx("div",{"data-instancekey":p,"data-testid":void 0,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=h.memo(a);g["default"]=e}),98);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"id-pv-"+c("cometUniqueID")()}function b(a){if(typeof a==="string"){var b="id-pv-";if(a.indexOf(b)===0&&a.length>b.length)return a;else throw c("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+c("cometUniqueID")()}g.makeVideoID=a;g.ensureVideoID=b;g.makePlaceID=d}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;e=function(a,b){var e=c("usePrevious")(a);h(function(){a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},[a,e,b])};f=function(a,b){var c=i(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))};var j=c("gkx")("1375802")?f:e;function a(a){var b=a.portalingEnabled;a=a.portalingFromVideoID;var c=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),g=e!=null&&f!=null,k=(g||c!=null)&&(b||a!=null),l=i(function(){return d("GlobalVideoPortsID").makePlaceID()});l=l[0];var m=i(function(){return d("GlobalVideoPortsID").makeVideoID()}),n=m[0];m=m[1];b=k&&b&&a!=null;a=b&&a!=null?a:n;j(b,m);h(function(){k&&!g&&c&&c()},[g,k,c]);return{canBecomePortableLater:k,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:l}}g.useRegenerateUniqueVideoID_exportedForTest=j;g.useVideoPlayerPortalingPlaceState=a}),98);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","gkx","killswitch","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext;e=b.useEffect;var j=b.useRef,k=b.useState,l=c("gkx")("3501")?e:c("useLayoutEffect_SAFE_FOR_SSR");function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentVideoID,f=a.fullscreenController,g=a.globalVideoPortsManager,m=a.globalVideoPortsState,n=a.implementations,o=a.isFullscreen,p=a.portablePlaceMetaData,q=a.renderComponents,r=a.renderPlaceholder,s=a.thisPlaceID,t=a.trackingDataEncrypted,u=a.trackingNodes,v=a.viewportMarginsForViewability;a=k(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var w=a[0],x=j(null);l(function(){g.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:f,implementations:n,injectCoreVideoStatesRef:x,isFullscreen:o,portablePlaceContainer:w,portablePlaceID:s,portablePlaceMetaData:p,portableVideoID:e,renderComponents:q,renderPlaceholder:r,trackingDataEncrypted:t,trackingNodes:u,viewportMarginsForViewability:v})},[].concat(c("getOwnObjectValues")(b),[e,f,o,g,w],c("getOwnObjectValues")(p||{}),[q,r,s,t,u,v]));l(function(){return function(){g.removePlace({portablePlaceID:s})}},[g,s]);a=g.getPortableVideoState(m,e);var y=i(c("BaseContextualLayerAnchorRootContext")),z=j(null);return h.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:o&&!c("killswitch")("WORKPLACE_VIDEO_FULLSCREEN_CONTEXT_LAYER_ROOT")?z:y,children:[h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:w},s),h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:(m=(y=g.getCurrentPlaceStateForVideo(m,e))==null?void 0:y.portablePlaceID)!=null?m:null,currentVideoID:e,injectCoreVideoStatesRef:x,previousPlaceMetaData:(y=a==null?void 0:a.previousPlaceMetaData)!=null?y:null,renderComponents:q,thisPlaceID:s}),h.jsx("div",{ref:z})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","recoverableViolation","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState,m={bottom:0,left:0,right:0,top:0},n=h.forwardRef(function(a,b){var c=a.children;a=a.debugRole;return h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:a,ref:b,children:c})});function a(a){var b=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,o=a.renderComponents,p=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);j(function(){return function(){}},[]);var q=f!=null?d("GlobalVideoPortsID").ensureVideoID(f):null;f!=null&&q==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(f)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");f=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:e,portalingFromVideoID:q});e=f.canBecomePortableLater;q=f.currentVideoID;var r=f.globalVideoPortsManager,s=f.globalVideoPortsState;f=f.thisPlaceID;var t=i(c("BaseViewportMarginsContext")),u=k(null),v=c("useStable")(function(){return d("VideoPlayerFullscreenController").createFullscreenController(u)}),w=l(v.getIsFullscreen()),x=w[0],y=w[1];j(function(){var a=v.subscribe(function(){var a=v.getIsFullscreen();y(a)});y(v.getIsFullscreen());return function(){a.remove()}},[v,y]);w=i(c("CometTrackingNodesContext"));w=w.join("");var z=i(c("CometTrackingCodeContext"));z=(z=z.encrypted_tracking[0])!=null?z:"";t=x?m:t;if(!e)return h.jsx(n,{debugRole:null,ref:u,children:h.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:q,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:f,children:h.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:v,implementations:b,isFullscreen:x,renderWithCoreVideoStates:o,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t}))})});if(r&&s)return h.jsx(n,{debugRole:null,ref:u,children:h.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:q,fullscreenController:v,globalVideoPortsManager:r,globalVideoPortsState:s,implementations:b,isFullscreen:x,portablePlaceMetaData:g,renderComponents:o,renderPlaceholder:p,thisPlaceID:f,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t})});else return h.jsx(n,{debugRole:null,ref:u,children:h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:q,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:p,thisPlaceID:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext;c={initialTracePolicy:null,routeTracePolicy:null};var i=b.createContext(c);function a(){return h(i)}g.VideoPlayerTracePolicyContext=i;g.useVideoPlayerTracePolicy=a}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.children,c=a.initialTracePolicy,e=a.routeTracePolicy;a=j(c);var f=a[0],g=a[1];a=j(e);var k=a[0],l=a[1];i(function(){f!==c&&g(c),k!==e&&l(e)},[c,e,f,k]);return h.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:k},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,j=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var k=i(function(a){return h.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:b}))},[b]);return h.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:h.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:g,renderComponents:k,renderPlaceholder:j}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzError","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var d=b.prototype;d.componentDidCatch=function(a,b){b=b.componentStack;var d=c("getErrorSafe")(a);d.componentStack=b;b=this.props;var e=b.description,f=b.onError;b=b.project;a=a instanceof c("oz-player/utils/OzError")?a.getType():a!=null&&typeof a.name==="string"?a.name:d.name;d.name=a;a="VideoPlayerErrorBoundary caught an "+a;e!=null&&(a=a+" ("+e+")");e=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE"];var g=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired"];e=e.every(function(a){return d.name!==a})&&g.every(function(a){return!d.message.startsWith(a)});g=c("FBLogger")(b==null?"comet_video_player":b).catching(d);e?g.fatal(a):g.warn(a);f!=null&&f(d)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("InstreamVideoAdBreaksPlayer.react",["CometPlaceholder.react","CometRelay","InstreamVideoAdBreaksPlayer_video.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.playerFormat,f=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("InstreamVideoAdBreaksPlayer_video.graphql"),a);var g=a.id,j=a.instream_extra_config;a=a.instream_video_ad_breaks_comet;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:a,props:{instreamExtraConfig:{instreamHaloDelayTimeSeconds:j==null?void 0:j.instream_halo_delay_time_seconds},instreamVideoAdBreaksComet:a,playerFormat:e,subOrigin:f,videoFBID:g}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCover.react",["fbt","cr:1405514","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var c;c=(c=a.message)!=null?c:h._(/*FBT_CALL*/"Sorry, we're having trouble playing this video."/*FBT_CALL*/);return i.jsx(b("cr:1405514"),{debugError:a.debugError,message:c,onRetry:a.onRetry})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerRetryableErrorBoundary.react",["VideoPlayerErrorBoundary.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState;function a(a){var b=a.children,d=a.description,e=a.fallback;a=j(0);var f=a[0],g=a[1],k=i(function(){g(function(a){return a+1})},[]);a=i(function(a){return f>=3?e({error:a,retry:null}):e({error:a,retry:k})},[e,k,f]);return h.jsx(c("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:b},f)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a}),98);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b+"::"+a;return b}f["default"]=a}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","gkx","makeAudioSymbol","react","useCometUniqueID","useDebouncedComet","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useContext,i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(){var a=c("useCometUniqueID")(),b=d("VideoPlayerHooks").useInstanceKey(),e=j(function(){return c("makeAudioSymbol")(a,b)},[a,b]),f=d("CometAudioManagerHooks").useAudioApi(),g=k(f);i(function(){g.current=f},[f]);var m=d("VideoPlayerHooks").useController(),n=200,o=d("VideoPlayerHooks").useLastPlayReason(),p=d("VideoPlayerHooks").useLastMuteReason(),q=d("VideoPlayerHooks").useMuted();n=c("CometThrottle")(d("VideoPlayerHooks").useVolume,n,{trailing:!0});var r=d("VideoPlayerHooks").useIsHovering(),s=n(),t=c("usePrevious")(s),u=d("VideoPlayerHooks").usePaused(),v=h(d("CometAudioManagerContexts").CometAudioLocalScopeContext),w=h(d("CometAudioManagerContexts").CometAudioGroupContext),x=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),y=d("VideoPlayerHooks").useVolumeSetting(),z=j(function(){return(w==null?void 0:w.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[w==null?void 0:w.groupID]);n=l(!0);var A=n[0];n=n[1];var B=j(function(){return{audioLocalScope:v,controller:m,groupID:z,instanceKey:b,lastMuteReason:p,lastPlayReason:o,muted:q,paused:u,previousVolume:t,symbol:e,videoPlayerPortalingPlaceInfo:x,volume:s}},[v,m,z,b,p,o,q,u,t,e,x,s]);i(function(){y!=null&&m.setVolume(y)},[m,y]);n=w||{allowSound:A,groupID:z,setAllowSound:n};var C=k(n);i(function(){f&&f.register(B,C.current);return function(){f&&f.unregister(e,z)}},[f,B,z,e]);var D=c("useDebouncedComet")(function(a,b){a==null?void 0:a.update(b)},{wait:50});i(function(){c("gkx")("1613919")?r&&D(f,B):f==null?void 0:f.update(B)},[f,B,D,r]);i(function(){!A&&g.current&&m.setMuted(!0,"audio_manager_initiated")},[A,g,m]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return h(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b}),98);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b+"::"+a;return b}f["default"]=a}),66);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a){var b=i(a),d=j(function(){return new(c("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];h(function(){b.current!==a&&f(function(){return new(c("AutoplayRulesEngine"))(a)})},[a]);h(function(){b.current=e.getRules()},[e]);return e}g["default"]=a}),98);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(){var a=c("useCometUniqueID")();return a}function i(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(b){c("removeFromArray")(a,b),a.push(b)},unregisterControllingComponent:function(b){var d=a.length;d>1&&c("removeFromArray")(a,b);return d>1}}}function b(){var a=h(function(){return i()});a=a[0];return a}g.useAutoplayControlID=a;g.createConcurrentAutoplayManagementAPI=i;g.useConcurrentAutoplayManagementAPI=b}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState,i=5e3;function a(){var a=function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},b=h(a()),d=b[0],e=b[1];c("useInterval")(function(){return e(a())},i);return d}g["default"]=a}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.startTransition,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(){var a=d("VideoPlayerHooks").useAdClientToken(),b=d("VideoPlayerHooks").useAutoplayGatingResult(),e=d("VideoPlayerHooks").useBroadcastStatus(),f=d("VideoPlayerHooks").useEnded(),g=d("VideoPlayerHooks").useIsExternalMedia(),n=d("VideoPlayerHooks").useIsFrozenPassive(),o=d("VideoPlayerHooks").useLastPauseReason(),p=d("VideoPlayerHooks").useLastPlayReason(),q=d("VideoPlayerHooks").useMuted(),r=d("VideoPlayerHooks").usePaused(),s=i(c("HiddenSubtreePassiveContext")),t=!a,u=c("useIsBackgrounded")({scrollTerminatesBackgrounded:t}),v=c("useVideoPlayerBandwidthEstimate")(),w=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),x=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();t=m(s.getCurrentState().backgrounded);var y=t[0],z=t[1];t=m(s.getCurrentState().hidden);var A=t[0],B=t[1];j(function(){function a(a,b){B(a),z(b)}var b=s.subscribeToChanges(function(b){c("gkx")("1500552")?h(function(){var b=s.getCurrentState();a(b.hidden,b.backgrounded)}):a(b.hidden,b.backgrounded)}),d=s.getCurrentState().hidden,e=s.getCurrentState().backgrounded;c("gkx")("1500552")?h(function(){var b=s.getCurrentState();a(b.hidden,b.backgrounded)}):a(d,e);return function(){b.remove()}},[s,z,B]);t=m(function(){return n.getCurrentState()});var C=t[0],D=t[1];j(function(){var a=n.subscribeToChanges(function(a){D(a)}),b=n.getCurrentState();D(b);return function(){a.remove()}},[n,D]);var E=k(function(){return{adClientToken:a,autoplayGatingResult:b,bandwidthEstimate:v,broadcastStatus:e,controllerIsFrozen:C,currentSubtreeIsBackgrounded:y,currentSubtreeIsHidden:A,ended:f,hiddenSubtreePassive:s,isBackgrounded:u,isExternalMedia:g,isFrozenPassive:n,lastPauseReason:o,lastPlayReason:p,muted:q,paused:r,videoPlayerExtendedPassiveViewabilityInfo:x,videoPlayerPassiveViewabilityInfo:w}},[a,b,v,e,C,y,A,f,s,u,g,n,o,p,q,r,x,w]);t=m(E);var F=t[0],G=t[1],H=l(F);j(function(){H.current=F},[F]);j(function(){var a=!1;for(var b in E)if(Object.prototype.hasOwnProperty.call(E,b)&&E[b]!==H.current[b]){a=!0;break}a&&G(E)},[E,G]);return F}g["default"]=a}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(){var a=c("useCometUniqueID")(),b=d("VideoPlayerHooks").useCanAutoplay(),e=d("VideoPlayerHooks").useInstanceKey(),f=k(function(){return c("makeSelectedAutoplayVideoSymbol")(a,e)},[a,e]),g=l(f);j(function(){g.current=f},[f]);var n=i(c("HiddenSubtreePassiveContext")),o=d("VideoPlayerHooks").useController(),p=l(!1),q=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();j(function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[ASSUME CONTROL] "+q),o.registerControllingComponent(q)},[o,q]);var r=d("VideoPlayerHooks").useVideoPlayerPassiveViewabilityInfo(),s=o.getCurrentState();s=s.paused;var t=l(s),u=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),v=l(u);j(function(){v.current=u},[u]);var w=h(function(){var a=o.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=t.current;t.current=a;var e=r==null?void 0:r.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;v.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(p.current=!0)}},[o,r]),x=l(w);j(function(){x.current=w},[w]);j(function(){var a=o.subscribe(function(){w()});return function(){a.remove()}},[o,w]);var y=c("useVideoAutoplayState")(),z=c("useAutoplayRulesEngine")(u.autoplayLocalRules),A=b==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");s=m(function(){return A});var B=s[0],C=s[1];s=m(null);var D=s[0],E=s[1];s=m(function(){return z.evaluateAutoplay(y,A)});var F=s[0],G=s[1];s=m(null);var H=s[0],I=s[1],J=l(F),K=d("VideoPlayerAutoplayHooks").useAutoplayApi(),L=l(K);j(function(){L.current=K},[K]);var M=b!=="dangerously_disable_autoplay_management";j(function(){K.register(f,e,u,o,n,M);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:J.current}});return function(){K.unregister(f),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:J.current}})}},[K,u,o,n,e,M,f]);j(function(){var a=function(){var b=z.evaluateAutoplay(y,A);J.current=b;var e=z.getRules(),h=z.getIndexOfLastWinningRule(),a=h>=0?e[h]:A;e=r&&r.getCurrent();h=o.getCurrentState();h=h.paused;(H===null||H!==b)&&(G(b),I(b));if(b==="PAUSE"&&!h&&o.isControllingComponent(q)){h=!0;x.current();if(p.current){p.current=!1;var i=e==null?void 0:e.positionToViewport;i&&o.scrollIntoView(i.top<0);h=!1}if(h){i="[PAUSE] via short-circuit on "+a.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(g.current,i);o.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}})}}(D===null||D!==a)&&(C(function(){return a}),E(function(){return a}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}}));d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[DECISION: "+b+"] from "+a.name);e&&K.update(f,b,e)},b=n.subscribeToChanges(function(a){n.getCurrentState().hidden||n.getCurrentState().backgrounded?o.isControllingComponent(q)||o.unregisterControllingComponent(q):o.registerControllingComponent(q)}),e=r?r.subscribe(function(){n.getCurrentState().hidden||n.getCurrentState().backgrounded?o.isControllingComponent(q)||o.unregisterControllingComponent(q):o.registerControllingComponent(q),a()}):null;a();return function(){b.remove(),e&&e.remove()}},[K,q,z,o,A,n,D,H,C,G,E,I,f,y,r]);j(function(){var a=o.isControllingComponent(q),b=o.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(F,J.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[PAUSE] the video for "+F),o.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:L.current.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:F}}))},[F,o,q]);j(function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[RELEASE CONTROL] "+q),o.unregisterControllingComponent(q)}},[o,q]);c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:B,autoplayApiRef:L,autoplayDecision:F,autoplayLocalScope:u,symbol:f});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("VideoPlayerHooks").usePlaying(),b=c("useCometUniqueID")();h(function(){if(a){d("WebSessionExtender").subscribe(b,"video");return function(){d("WebSessionExtender").unsubscribe(b)}}},[a,b]);return null}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("VideoPlayerHooks").useStalling(),b=d("VideoPlayerHooks").useStreamInterrupted(),c=d("VideoPlayerHooks").useIsLiveRewindActive();b=b&&!c;c=a;a=b?"live_video_interrupted_overlay":c?"spinner":"none";return{liveVideoInterruptedOverlayVisible:b,loadingIndicatorType:a,spinnerVisible:c}}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),j=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators"));function a(){var a=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),b=a.loadingIndicatorType;a=a.spinnerVisible;var d=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{})});a=h.jsx(i,{isVisible:a});var e=null;switch(b){case"spinner":e=a;break;case"live_video_interrupted_overlay":e=d;break;case"none":default:e=a}return{loadingIndicatorElement:e,loadingIndicatorType:b}}g["default"]=a}),98);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null)return;var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null)return;var b=!1;b||(b=this.$5?!0:c("gkx")("1124976"));if(!b)return;if(a.playing){if(this.$2==null){b=this.$3.getPlayheadPosition();b>=0&&(this.$2=b)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10)return;this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null)return;b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?a.toString():null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a}),98);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}f["default"]=a}),66);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","gkx","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react").useEffect;var h=c("gkx")("3501")?b:c("useLayoutEffect_SAFE_FOR_SSR");e=d("createVideoStateHook").createVideoStateHook(null);var i=e.setterHook;f=d("createVideoStateHook").createVideoStateHook(null);var j=f.setterHook;b=f.valueHook;function a(a){var b=a.disableSubscription,e=a.playerFormat,f=a.subOrigin,g=a.videoFBID,k=d("VideoPlayerHooks").useIsLive(),l=d("VideoPlayerHooks").useIsFullscreen(),m=d("VideoPlayerHooks").useController(),n=i(),o=j();h(function(){if(b===!0)return;var a=new(c("UnifiedVideoCVCSubscription"))(g,c("getPlayerFormatForLogData")(l,e),f,m,k,function(a){o(a)});n(a);return function(){a.destroy()}},[l,k,b,e,o,n,f,m,g])}e=b;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=e}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:1969470","cr:946298","gkx","react","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.children,f=a.disableCVCSubscription,g=a.disableLoadingIndicator;g=g===void 0?!1:g;var i=a.disableLogging,j=a.instreamVideoAdBreaksPlayer,k=a.playerFormat,l=a.subOrigin,m=a.videoFBID;a=a.videoPlayerSpherical;d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({disableSubscription:i===!0||f,playerFormat:k,subOrigin:l,videoFBID:m});b("cr:1969470")();i=c("useVideoPlayerDefaultLoadingIndicators")();f=i.loadingIndicatorElement;return h.jsxs(h.Fragment,{children:[a,g?null:f,c("gkx")("1586633")?h.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,h.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[e,j]}),h.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),h.jsx(c("CoreVideoPlayerAudioClient.react"),{}),b("cr:1954434")?h.jsx(b("cr:1954434"),{}):null,b("cr:946298")?h.jsx(b("cr:946298"),{subOrigin:l}):null,h.jsx(c("VideoPlayerWebSessionExtender.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("normalizeVideoPlayerLoopCount",["gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:c("gkx")("159")&&d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","gkx","normalizeVideoPlayerLoopCount","react","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.disableCVCSubscription;d=d===void 0?!1:d;var e=a.disableLoadingIndicator,f=a.disableLogging,g=a.implementations,i=a.instreamVideoAdBreaksPlayer,j=a.portalingEnabled,k=a.portalingFromVideoID,l=a.portalingPlaceMetaData,m=a.portalingRenderPlaceholder,n=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableCVCSubscription","disableLoadingIndicator","disableLogging","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerSpherical"]);var o=c("usePlayerOriginRouteTracePolicy")(),p=c("useRouteProductAttribution")(),q=a.loopCount,r=a.playerFormat,s=a.subOrigin,t=a.videoFBID;q=c("normalizeVideoPlayerLoopCount")(q);return h.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{disableLogging:f,implementations:g,loopCount:q,portalingEnabled:j,portalingFromVideoID:k,portalingPlaceMetaData:l,portalingRenderPlaceholder:m,productAttribution:c("gkx")("1759997")?p:null,routeTracePolicy:o,children:h.jsx(c("VideoPlayerXImplSurface.react"),{children:b,disableCVCSubscription:d,disableLoadingIndicator:e,disableLogging:f,instreamVideoAdBreaksPlayer:i,playerFormat:r,subOrigin:s,videoFBID:t,videoPlayerSpherical:n})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerXImplRelayWrapper.react",["VideoPlayerXImpl.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerXImpl.react")}),98);
__d("defaultErrorBoundaryFallback",["fbt","VideoPlayerFallbackCover.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return a&&c("gkx")("1792489")?a.message.toLowerCase().indexOf("audio_renderer_error")>=0:!1}function a(a){var b=a.error;a=a.retry;var d=j(b),e=null;a=a;d&&(e=h._(/*FBT_CALL*/"Audio renderer error: Please restart your computer."/*FBT_CALL*/),a=null);return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:b,message:e,onRetry:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getVideoPlayerAutoplayProps",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b!=null?b:"respect_user_settings";var d=b==="dangerously_always_autoplay";c=c!=null?c:"unknown";var e=a.autoplaySetting||"default_autoplay",f=e==="off";d=d||b==="respect_user_settings"&&!f&&a.canAutoplay;f=b==="do_not_autoplay"?c:a.autoplayGatingResult;c=d?"allow":b==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:f,autoplaySetting:e,canAutoplay:c}}f["default"]=a}),66);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}f.makeGraphQLVideoAutoplayGatingResult=a}),66);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);return d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay)}g["default"]=a}),98);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;d={fairplayCert:b,graphApiVideoLicenseUri:(b=d)!=null?b:null,videoLicenseUriMap:e,widevineCert:a};return d.graphApiVideoLicenseUri===null&&c("isEmptyObject")(d.videoLicenseUriMap)?null:d}g.makeGraphQLVideoDRMInfo=a}),98);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","gkx","react","useGraphQLVideoDRMInfo_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useRef,k=e.useState;function l(a){if(a!=null){a=m(a);return d("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function m(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoDRMInfo_video.graphql"),a);var e=a.drm_info,f=k(e),g=f[0],m=f[1];i(function(){m(e)},[e]);f=k(function(){return l(g)});var n=f[0],o=f[1];i(function(){o(l(g))},[g]);f=j(null);var p=l(a.drm_info),q=j(null);f.current!==a.drm_info&&(f.current=a.drm_info,q.current=p);return c("gkx")("1718203")?q.current:n}g["default"]=a}),98);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);function a(a){return(a=g.cast(a))!=null?a:null}f.HiveTechOrder=g;f.hiveTechOrderOrNull=a}),66);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","react","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useRef;function j(a){var b=null;if(a){var e,f,g,h,i;e={delay_p2p_until_play:(e=(e=a.config)==null?void 0:e.delay_p2p_until_play)!=null?e:!1,disable_hivejava_for_livevc:(e=(e=a.config)==null?void 0:e.disable_hivejava_for_livevc)!=null?e:!1};var j=a.ticket,k=a.community_info;f=(f=a.hive_initialization_options)==null?void 0:f.debug_level;g=(g=(g=a.hive_initialization_options)==null?void 0:g.hive_tech_order.map(function(a){var b=d("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);b==null&&a!=null&&c("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return b}).filter(Boolean))!=null?g:[];h=(h=a.hive_initialization_options)==null?void 0:(h=h.hive_java)==null?void 0:h.min_version;i=((i=a.hive_initialization_options)==null?void 0:i.hive_java)?{minVersion:h}:null;h=a.hive_initialization_options?{HiveJava:i,debugLevel:f,hiveTechOrder:g}:null;f={communityId:(a=k==null?void 0:k.community_id)!=null?a:"unknowncustomer",communityName:(i=k==null?void 0:k.community_name)!=null?i:"Unknown Customer"};b={community_info:f,config:e,hive_initialization_options:h,ticket:j}}return b}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoP2PSettings_video.graphql"),a);var c=i(null),e=i(null);a=j((a=a.p2p_settings)!=null?a:null);var f=JSON.stringify(a);if(c.current!==f){c.current=(c=f)!=null?c:null;e.current=(f=a)!=null?f:null}return e.current}g["default"]=a}),98);
__d("useOzQuickStarterData",["CometRelay","useOzQuickStarterData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a.url!=null&&a.start!=null&&a.end!=null&&a.representation_id!=null&&a.mime_codec!=null&&a.segment_type!=null?{end:a.end,mimeCodec:a.mime_codec,representationID:a.representation_id,segmentType:a.segment_type,start:a.start,url:a.url}:null}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useOzQuickStarterData_video.graphql"),a);a=a.dash_prefetch_resources;return a==null?null:{audio:a.audio.map(i).filter(Boolean),video:a.video.map(i).filter(Boolean)}}g["default"]=a}),98);
__d("VideoPlayerWwwLogger",["VideoPlayerWwwFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return{access_token:a.logData.access_token,ad_client_token:a.logData.ad_client_token,attribution_id:a.logData.attribution_id,attribution_id_v2:a.logData.attribution_id_v2,attribution_id_v2_root:a.logData.attribution_id_v2_root,audio_only:a.logData.audio_only,audio_representation_id:a.logData.audio_representation_id,autoplay_eligible:a.logData.autoplay_eligible,autoplay_failure_reasons:a.logData.autoplay_failure_reasons,autoplay_setting:a.logData.autoplay_setting,available_qualities:a.logData.available_qualities,broadcaster_origin:a.logData.broadcaster_origin,browser_tab_id:a.logData.browser_tab_id,caption_state:a.logData.caption_state,cast_client_app_id:a.logData.cast_client_app_id,current_playback_speed:a.logData.current_playback_speed,current_viewability_percentage:Number(a.logData.current_viewability_percentage),current_volume:a.logData.current_volume,dash_perf_logging_enabled:a.logData.dash_perf_logging_enabled,data_connection_quality:a.logData.data_connection_quality,debug_reason:a.logData.debug_reason,device_id:a.logData.device_id,device_type:a.logData.device_type,dropped_frame_count:Number(a.logData.dropped_frame_count),error:a.logData.error,error_code:a.logData.error_code,error_description:a.logData.error_description,error_domain:a.logData.error_domain,error_type:a.logData.error_type,error_user_info:a.logData.error_user_info,event_name:a.eventType,event_seq_num:a.logData.event_seq_num,external_log_id:a.logData.external_log_id,external_log_type:a.logData.external_log_id,feed_aggregation_type:a.logData.feed_aggregation_type,feed_position:a.logData.feed_position,frame_events:a.logData.frame_events,ft:a.logData.ft,interrupt_count:a.logData.interrupt_count!==null?Number(a.logData.interrupt_count):null,interrupt_time:Number(a.logData.interrupt_time),is_abr_enabled:a.logData.is_abr_enabled,is_fbms:a.logData.is_fbms,is_live_video_rewound:a.logData.is_live_video_rewound,is_p2p_playback:a.logData.is_p2p_playback,is_predictive_playback:a.logData.is_predictive_playback,is_sound_on:a.logData.is_sound_on,is_stalling:a.logData.is_stalling,is_templated_manifest:a.logData.is_templated_manifest,last_viewability_percentage:Number(a.logData.last_viewability_percentage),live_trace_source_id:a.logData.live_trace_source_id,live_trace_stream_id:a.logData.live_trace_stream_id,live_trace_stream_type:a.logData.live_trace_stream_type,next_representation_id:a.logData.next_representation_id,notification_id:a.logData.notification_id,notification_medium:a.logData.notification_medium,permalink_share_id:a.logData.permalink_share_id,playback_caption_format:a.logData.playback_caption_format,playback_caption_locale:a.logData.playback_caption_locale,playback_duration:a.logData.playback_duration,playback_is_broadcast:a.logData.playback_is_broadcast,playback_is_drm:a.logData.playback_is_drm,playback_is_live_streaming:a.logData.playback_is_live_streaming,player_format:a.logData.player_format,player_instance_key:a.logData.player_instance_key,player_mode:a.logData.player_mode,player_origin:a.logData.player_origin,player_state:a.logData.player_state,player_suborigin:a.logData.player_suborigin,player_version:a.logData.player_version,reaction_video_channel_type:a.logData.reaction_video_channel_type,representation_id:a.logData.representation_id,resource_url:a.logData.resource_url,routeTracePolicy:a.routeTracePolicy,seq_num:a.logData.seq_num,source:a.source_VPL_LOGGING_HACK,source_VPL_LOGGING_HACK:a.logData.source_VPL_LOGGING_HACK,stall_count:Number(a.logData.stall_count),stall_count_200_ms:Number(a.logData.stall_count_200_ms),stall_time:Number(a.logData.stall_time),state:a.logData.state,streaming_format:a.logData.streaming_format,time_ms:a.logData.time_ms,total_frame_count:Number(a.logData.total_frame_count),tracking_data_encrypted:a.logData.tracking_data_encrypted,tracking_nodes:a.logData.tracking_nodes,tv_session_id:a.logData.tv_session_id,v2_heart_beat:a.logData.v2_heart_beat,video_bandwidth:a.logData.video_bandwidth,video_buffer_end_position:a.logData.video_buffer_end_position,video_chaining_depth_level:a.logData.video_chaining_depth_level,video_chaining_parent_video_id:a.logData.video_chaining_parent_video_id,video_chaining_session_id:a.logData.video_chaining_session_id,video_channel_id:a.logData.video_channel_id,video_id:a.logData.video_id,video_last_start_time_position:a.logData.video_last_start_time_position,video_play_reason:a.logData.video_play_reason,video_player_height:Number(a.logData.video_player_height),video_player_width:Number(a.logData.video_player_width),video_time_position:a.logData.video_time_position,web_client_revision:a.logData.web_client_revision}}a={logComet:function(a){c("VideoPlayerWwwFalcoEvent").log(function(){return h(a)})},logCometImmediately:function(a){c("VideoPlayerWwwFalcoEvent").logImmediately(function(){return h(a)})}};b=a;g["default"]=b}),98);
__d("VideoPlayerBanzaiLogFlusher",["VideoPlayerWwwLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("emptyFunction");b=function(){function a(a){this.$1=a}var b=a.prototype;b.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var b={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.source_VPL_LOGGING_HACK};if(a.source_VPL_LOGGING_HACK==="animated_image_share"&&c("gkx")("1710047"))return;b=(b=a.logData)==null?void 0:b.ad_client_token;b!=null?c("VideoPlayerWwwLogger").logCometImmediately(a):c("VideoPlayerWwwLogger").logComet(a)})};b.discardLogsWithoutFlushing=function(){var a=this.$1.consumeLoggerEvents()};return a}();g["default"]=b}),98);
__d("VideoPlayerCaptionsController",["JSResourceForInteraction","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),i=c("JSResourceForInteraction")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var b=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,g=null,j=null,k=null;function l(a){var b=i.load().then(function(c){if(b!==j)return;f=new c({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(b!==j)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return b}function m(){var a=h.load().then(function(b){if(a!==k)return;g=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(b){if(a!==k)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+b.message,"comet_video_player")});return a}b!=null?j=l(b):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),g&&(g.destroy(),g=null),j&&(j=null),k&&(k=null)},getCaptionFormat:function(){return f?"webvtt":g?"cea608":null},handleCea608BytesReceived:function(a){g&&g.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){var b;f.source&&f.source.handleTimeUpdate(a);return(b=(b=f)==null?void 0:b.getCurrentScreenRepresentation())!=null?b:null}else if(g){g.source&&g.source.handleTimeUpdate(a);return(a=(b=g)==null?void 0:b.getCurrentScreenRepresentation())!=null?a:null}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){g&&(g.destroy(),g=null),a&&(k=m())}}}g.createCaptionsController=a}),98);
__d("VideoPlayerImplementationErrorNormalization",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getType();switch(b){case"OZ_NETWORK":b=(b=(b=a.getExtra())==null?void 0:b.code)!=null?b:"0";b=parseInt(b,10);return b<100||b>599?"NetworkError":"HTTPError";case"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":a=(b=a.getExtra())==null?void 0:b.mimeType;if(a!=null&&a.indexOf("video")>-1)return"VideoDecodeError";else if(a!=null&&a.indexOf("audio")>-1)return"AudioDecodeError";else return"GenericDecodeError"}return null}function b(a){switch(a){case"MEDIA_ERR_NETWORK":return"NetworkError";case"MEDIA_ERR_ABORTED":case"MEDIA_ERR_DECODE":case"MEDIA_ERR_SRC_NOT_SUPPORTED":case"MEDIA_ERR_UNKNOWN":return"GenericDecodeError";case"OZ_REPRESENTATION_PARSER":case"OZ_XML_PARSER":return"ManifestParseError";case"BUFFERING_TIMEOUT":case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError"}return null}f.getVideoPlayerNormalizedErrorTypeFromOzError=a;f.getErrorTypeFromErrorName=b}),66);
__d("VideoPlayerImplementationErrors",["NetworkStatus","VideoPlayerImplementationErrorNormalization","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";var h={BUFFERING_TIMEOUT_INPLAY:"30000",BUFFERING_TIMEOUT_INPLAY_NO_NETWORK:"30001",BUFFERING_TIMEOUT_LIVEREWIND_INPLAY:"30010",BUFFERING_TIMEOUT_LIVEREWIND_INPLAY_NO_NETWORK:"30011",BUFFERING_TIMEOUT_LIVEREWIND_START:"30012",BUFFERING_TIMEOUT_LIVEREWIND_START_NO_NETWORK:"30013",BUFFERING_TIMEOUT_START:"30002",BUFFERING_TIMEOUT_START_NO_NETWORK:"30003"};function a(a){var b=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=c("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:b,errorName:c("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function b(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function e(a,b,d,e,f){var g,i=function(){if(f)if(e==="in_play"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_INPLAY;else if(e==="in_play"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_INPLAY_NO_NETWORK;else if(e==="start/unpause"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_START;else if(e==="start/unpause"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_START_NO_NETWORK;else return 0;else if(e==="in_play"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_INPLAY;else if(e==="in_play"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_INPLAY_NO_NETWORK;else if(e==="start/unpause"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_START;else if(e==="start/unpause"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_START_NO_NETWORK;else return 0}();g={message:String((g=b==null?void 0:b.message)!=null?g:""),name:String((g=b==null?void 0:b.name)!=null?g:"UnknownError"),stack:String((b==null?void 0:b.stack)||new Error().stack)};b={createdTimestamp:Date.now(),errorCode:String(i),errorDescription:g.name+" "+g.message,errorLocation:d,errorName:a,stack:g.stack,url:null};return b}function i(a,b,c){var d;d={message:String((d=b==null?void 0:b.message)!=null?d:""),name:String((d=b==null?void 0:b.name)!=null?d:"UnknownError"),stack:String((b==null?void 0:b.stack)||new Error().stack)};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null};return b}function f(a,b){if(a instanceof c("oz-player/utils/OzError")){var e=a,f=e.getExtra();e={createdTimestamp:Date.now(),errorCode:f.code,errorDescription:e.getDescription(),errorLocation:b,errorName:e.getType(),errorType:d("VideoPlayerImplementationErrorNormalization").getVideoPlayerNormalizedErrorTypeFromOzError(e),stack:e.stack,url:f.url};return e}else return i("OZ_JAVASCRIPT_NATIVE",a,b)}function j(a,b){a=a.message;var c="The video node set its error property to a MediaError",d=a.split(": ");d.length>1&&(a=d.shift(),c=d.join(": "));return{createdTimestamp:Date.now(),errorDescription:c,errorLocation:b,errorName:a,errorType:"GenericDecodeError"}}g.createVideoPlayerErrorFromHTMLVideoElementError=a;g.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=b;g.createVideoPlayerBufferingErrorFromGenericError=e;g.createVideoPlayerErrorFromGenericError=i;g.createVideoPlayerErrorFromOzImplementationError=f;g.createVideoPlayerErrorFromVideoNodeError=j}),98);
__d("VideoPlayerImplementationReactVideoElement.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alt,d=a.implementationExposedState,e=a.src,f=a.videoElementCallbacks;a=a.videoElementRefCallback;var g=d.hasPlayEverBeenRequested;d=d.isExternalMedia;g=d&&!g?null:e;e=d&&c("gkx")("2449")?babelHelpers["extends"]({crossOrigin:"anonymous"},f):babelHelpers["extends"]({},f);return h.jsx("video",babelHelpers["extends"]({"aria-label":(d=b)!=null?d:void 0,className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0,playsInline:!0},e,{ref:a,src:g}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowArrayEqual","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var b=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;b=h({bufferingDetected:b,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=b?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;c("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a){return a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1}function k(a,b){var c=b.videoElementPlayheadPosition;return c==null?[]:a.emsgBoxes.filter(function(a){a=a.box;var b=a.getDuration()||0;a=a.getStartTime();return a!=null&&c>=a&&c<a+b})}function l(a,b,e){switch(e.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":case"host_call_set_latency_level":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([e])});case"controller_set_latency_level_requested":case"implementation_set_latency_level_requested":return babelHelpers["extends"]({},a,{latencyLevel:e.payload.latencyLevel});case"controller_set_player_format":return babelHelpers["extends"]({},a,{playerFormat:e.payload.playerFormat});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(b.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var f=a.playbackState,g=f;switch(f){case"playing":case"stalling":case"ended":case"paused":g="stalling";break;default:f;c("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}f=!0;return babelHelpers["extends"]({},a,{playbackState:g,waitingForDomPlaying:f});case"dom_event_playing":g=a.bufferingDetected;f=a.seeking;var h=!1,l=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:g,prevPlaybackState:l,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":g=a.activeEmsgBoxes;l=k(a,b);f=c("shallowArrayEqual")(g,l)?g:l;if(a.waitingForDomTimeUpdateAfterSeeked){h=a.bufferingDetected;g=a.seeking;l=!1;var m=a.playbackState;return babelHelpers["extends"]({},a,{activeEmsgBoxes:f,playbackState:i({bufferingDetected:h,prevPlaybackState:m,seeking:g,waitingForDomPlaying:l}),waitingForDomPlaying:l,waitingForDomTimeUpdateAfterSeeked:!1})}return babelHelpers["extends"]({},a,{activeEmsgBoxes:f});case"dom_event_seeking":h=a.playbackState;m=h;switch(h){case"paused":case"ended":break;case"stalling":case"playing":m="stalling";break;default:h,c("recoverableViolation")("unexpected playbackState: "+h,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:m,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":g=a.bufferingDetected;l=a.waitingForDomPlaying;f=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:g,prevPlaybackState:h,seeking:f,waitingForDomPlaying:l}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":m=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:"dom_event_error",hostCallError:null,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:c("gkx")("2011")?a.error:m,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:e.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":g=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:e.payload.errorLocation,hostCallError:e.payload.hostCallError,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:g,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":l=(h=e.payload.streamingFormat)!=null?h:a.streamingFormat;return babelHelpers["extends"]({},a,{availableQualities:e.payload.availableQualities,selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:l,targetVideoQuality:e.payload.targetVideoQuality,videoProjection:e.payload.videoProjection});case"implementation_engine_representation_blocked":return babelHelpers["extends"]({},a,{availableQualities:e.payload.availableQualities});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:e.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:e.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:e.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPausedTimeMs:Date.now(),lastPauseReason:e.payload.reason,lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{hasPlayEverBeenRequested:!0,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,lastPlayReason:e.payload.reason,loopCurrent:j(a)?e.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=b.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seeking:!0,seekTargetPosition:e.payload.seekTargetPosition});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality});case"controller_set_caption_display_style_requested":return babelHelpers["extends"]({},a,{captionDisplayStyle:e.payload.captionDisplayStyle});case"controller_set_caption_format_requested":return babelHelpers["extends"]({},a,{captionFormat:e.payload.captionFormat});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:e.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:e.payload.reason,muted:e.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:e.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(m=b.videoElementPlayheadPosition)!=null?m:a.implementationSeekSourcePosition,scrubbing:!1,seeking:e.payload.seekTargetPosition!=null,seekTargetPosition:e.payload.seekTargetPosition});case"buffering_begin_requested":g=a.playbackState;h=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":h="stalling";break;default:g;c("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}l=e.payload.bufferingType;return babelHelpers["extends"]({},a,{bufferingDetected:!0,lastBufferingType:l,playbackState:h});case"buffering_end_requested":f=a.seeking;b=a.waitingForDomPlaying;m=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:m,playbackState:i({bufferingDetected:m,prevPlaybackState:g,seeking:f,waitingForDomPlaying:b})});case"controller_set_captions_visible_requested":l=e.payload.captionsVisible;return a.captionsVisible===l?a:babelHelpers["extends"]({},a,{activeCaptions:l?a.activeCaptions:null,captionsLocale:l?a.captionsLocale:null,captionsVisible:l});case"controller_set_active_captions_requested":h=e.payload.activeCaptions;g=(m=h==null?void 0:h.rows)!=null?m:[];f=e.payload.captionsLocale;b=a.activeCaptions;var n=(l=b==null?void 0:b.rows)!=null?l:[];return n.length===g.length&&g.every(function(a,b){return n[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:h,captionsLocale:f});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1,captionsLocale:null});case"inband_captions_autogenerated_changed":m=e.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===m?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:m});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":b=e.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:b});case"controller_set_is_live_rewind_active_requested":l=e.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:l});case"loop_count_change_requested":g=e.payload.loopCount;return g===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:g,loopCurrent:0});case"player_dimensions_changed":h=e.payload.dimensions;f=h.height;m=h.width;return m===a.dimensions.width&&f===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:f,width:m}});case"emsg_box_received":b=e.payload.emsgBox;return babelHelpers["extends"]({},a,{emsgBoxes:[].concat(a.emsgBoxes,[b])});case"register_emsg_observer":l=new Set(a.emsgObserverTokens);l.add(e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:l});case"unregister_emsg_observer":g=new Set(a.emsgObserverTokens);g["delete"](e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:g});default:return a}}function m(a,b,d){var e=b.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!c("shallowEqual")(e,a.uncontrolledState);b=l(a.controlledState,e,b);var f=!c("shallowEqual")(b,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?b:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var n,o;function p(a){var b=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,k=!1,l=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw c("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(l)try{o=b()}catch(a){l=!1,g=a}var p=h;o=m(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!k&&(d!=null||g!=null)){k=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var q,r;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return p({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function b(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}function f(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c(e,f))}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:f(function(a,b){return{payload:{videoElementError:b.error,videoElementNetworkState:b.networkState,videoElementReadyState:b.readyState},type:"dom_event_error"}}),onLoadedData:c,onLoadedMetadata:c,onLoadStart:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_playing"}}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}g.createVideoPlayerImplementationStateMachine=p;g.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;g.createReactVideoElementCallbacksForStateMachine=b}),98);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(){return"id-vpdom-"+c("cometUniqueID")()}function i(a){var b=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),c("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":b.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_latency_level":b.setLatencyLevel(d.payload.latencyLevel);break;default:d.type;return!1}return!0}function j(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}g.makeHostCallID=h;g.applyOrQueueHostCall=j;g.flushHostCallQueue=a}),98);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}f.getVideoPlayerMutedStateChange=a}),66);
__d("VideoPlayerImplementationStateMachineLogger",["CometProductAttribution","NetworkStatus","PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","qex","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=.5,j=(b=c("qex")._("1675"))!=null?b:0,k=c("gkx")("3954")?1e3:Number.POSITIVE_INFINITY,l=null,m=function(a){var b;l=(b=l)!=null?b:document.createElement("video");return!("canPlayType"in l)?"":l.canPlayType(a)};e=c("emptyFunction");f=c("emptyFunction");b=c("emptyFunction");e=c("emptyFunction");var n=(f=d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?f:!1;function o(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,errorRecoveryAttemptState:{currentRecoverableError:null,eventsLogged:0,repeatCount:0},hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallCountTotal:0,stallDuration:0,stallDurationTotal:0,stallStartTimestamp:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function p(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var b=new Map(),e=a.initialLoggingMetaData,f=e,g=[],l=o(),q=new Set(c("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function r(a){l.debugSubscribers.push(a);return function(){c("removeFromArray")(l.debugSubscribers,a)}}function s(a){l.debugSubscribers.forEach(function(b){return b(a)})}function t(a){var b=l.stallStartTimestamp;if(b>0){l.stallCount+=1;l.stallCountTotal+=1;l.hasPendingRequestedPlaying&&(l.startStallCountTotal+=1);a=a-b;l.stallDurationTotal+=a;l.stallDuration+=a;l.stallCount200ms+=a>200?1:0;l.hasPendingRequestedPlaying&&(l.startStallDurationTotal+=a)}}function u(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=l.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":l.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":l.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function v(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?l.interruptStartTimestamp=c:a&&!b&&l.interruptStartTimestamp>0&&(l.interruptEndTimestamp=c,l.interruptCount+=1,l.interruptDuration+=l.interruptEndTimestamp-l.interruptStartTimestamp)}function w(a,b,d){var e=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var f=b.controlledState.playbackState;a!=="stalling"&&f==="stalling"&&(s("stall_start"),l.stallStartTimestamp=e);if(a==="stalling"&&f!=="stalling"){e=0;c("gkx")("3881")&&d.type==="dom_event_playing"&&(e=Math.max(b.uncontrolledState.perfTimestamp-d.payload.domEventPerfTimestamp,0));t(b.uncontrolledState.clockTimestamp-e);l.stallStartTimestamp=0;s("stall_end")}}function x(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":l.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":l.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function y(a,b,c){if(l.interruptCount>0&&l.interruptDuration>0){a={interrupt_count:l.interruptCount,interrupt_time:l.interruptDuration};l.interruptCount=0;l.interruptDuration=0;l.interruptStartTimestamp=0;l.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function z(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:l.stallCount,stall_count_200_ms:l.stallCount200ms,stall_time:l.stallDuration};l.stallCount=0;l.stallCount200ms=0;l.stallDuration=0;l.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(l.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":t(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(t(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function A(a,b){a=a.current;var c=null;switch(b){case"finished_playing":case"paused":case"heart_beat":a&&(c=a.getAndFlushTracedFrames());return c!=null?JSON.stringify(c):null;default:return null}}function B(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function C(){return{state:l.hasLoggedStartedPlaying?c("VideoPlayerLoggerPlayerStates").UNPAUSED:c("VideoPlayerLoggerPlayerStates").STARTED}}function D(a){if(c("gkx")("2714")&&(a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){var b=a==null?void 0:a.v2;b=b[b.length-1];return[b["class"],b.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return(a=a==null?void 0:(b=a.v2)==null?void 0:b.map(function(a){return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}).join(";"))!=null?a:""}function E(f){var h=f.eventType,i=f.logDataOverrides,j=f.prevState,k=f.state;f=u(k,h);f=f.video_last_start_time_position;var m=z(j,k,h),o=m.stall_count,r=m.stall_count_200_ms;m=m.stall_time;var s=y(j,k,h),t=s.interrupt_count;s=s.interrupt_time;var v=A(a.initialLoggingMetaData.videoLiveTraceRef,h),w=[],C=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;C&&w.push(C);C=h==="entered_fs"?!0:h==="exited_fs"?!1:l.lastLoggedFullscreenState;var E=c("getPlayerFormatForLogData")(C,e.coreVideoPlayerMetaData.playerFormat),F=k.uncontrolledState.viewabilityPercentage,G=Boolean(k.uncontrolledState.isFBIsLiveTemplated),H=Boolean(k.uncontrolledState.isFBWasLive),I=k.uncontrolledState.videoElementPlaybackRate;I=I==null||I===0?l.lastLoggedPlaybackSpeed:I;var J=a.initialLoggingMetaData.productAttribution,K=null,L=null;c("gkx")("3013")&&(K=J!=null?d("CometProductAttribution").minifyProductAttributionV2(J):null,L=J!=null?D(J):null);L={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:e.coreVideoPlayerMetaData.adClientToken,attribution_id:J!=null&&Object.prototype.hasOwnProperty.call(J,"0")?JSON.stringify({0:J["0"]}):null,attribution_id_v2:K,attribution_id_v2_root:L,audio_only:e.coreVideoPlayerMetaData.audioOnly,audio_representation_id:k.uncontrolledState.audioRepresentationID,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(w),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,available_qualities:k.controlledState.availableQualities.length,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:c("getVideoBrowserTabId")(),caption_state:p(k,h),current_playback_speed:n?I:null,current_viewability_percentage:F,dash_perf_logging_enabled:e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass!=null&&e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass.isEnabled(),data_connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return k.uncontrolledState.estimatedBandwidth}),dropped_frame_count:k.uncontrolledState.videoElementDroppedFrameCount,external_log_id:e.coreVideoPlayerMetaData.externalLogID,external_log_type:e.coreVideoPlayerMetaData.externalLogType,frame_events:v,interrupt_count:t,interrupt_time:s,is_abr_enabled:k.isAbrEnabled,is_fbms:k.uncontrolledState.isFBMS,is_live_video_rewound:k.controlledState.isLiveRewindActive,is_predictive_playback:k.uncontrolledState.isPredictiveDash,is_sound_on:!k.controlledState.muted,is_stalling:k.controlledState.playbackState==="stalling",is_templated_manifest:G||H,last_viewability_percentage:l.lastLoggedViewabilityPercentage,playback_caption_format:k.controlledState.captionFormat,playback_caption_locale:k.controlledState.captionsLocale,playback_duration:k.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:E,player_instance_key:e.instanceKey,player_origin:e.coreVideoPlayerMetaData.playerOriginOverride,player_state:B(k),player_suborigin:e.coreVideoPlayerMetaData.subOrigin,player_version:k.playerVersion,representation_id:k.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:e.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:o,stall_count_200_ms:r,stall_time:m,streaming_format:k.controlledState.streamingFormat,total_frame_count:k.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:c("gkx")("1434599")&&h==="heart_beat"?!0:null,video_bandwidth:k.uncontrolledState.estimatedBandwidth,video_buffer_end_position:k.uncontrolledState.videoElementLastBufferEndPosition,video_id:e.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:f,video_play_reason:k.controlledState.lastPlayReason,video_player_height:(J=e.dimensions)==null?void 0:J.height,video_player_width:(K=e.dimensions)==null?void 0:K.width,video_time_position:k.uncontrolledState.videoElementPlayheadPosition,web_client_revision:c("SiteData").client_revision};w={event_seq_num:++l.vplEventSequenceNumber,seq_num:q.has(h)?++l.sequenceNumber:null,time_ms:Date.now()};var M={};b.forEach(function(a,b){M[b]=a});v=e.coreVideoPlayerMetaData.additionalLogData;t=babelHelpers["extends"]({},v,M);s=babelHelpers["extends"]({},t,L,i,w);H=(G=l.initialSuborigin)!=null?G:e.coreVideoPlayerMetaData.subOrigin;o=(E=s.source_VPL_LOGGING_HACK)!=null?E:H;m=(r=e.coreVideoPlayerMetaData.initialTracePolicy)!=null?r:e.coreVideoPlayerMetaData.routeTracePolicy;f={eventType:h,logData:s,routeTracePolicy:m,source_VPL_LOGGING_HACK:o};g.push(f);x(j,k,h);l.initialSuborigin==null&&H!=null&&(l.initialSuborigin=H);l.lastLoggedFullscreenState=C;l.lastLoggedPlaybackSpeed=I;h==="viewability_changed"&&(l.lastLoggedViewabilityPercentage=F)}var F={};function G(a,b,c){E({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,C()),prevState:a,state:b});l.hasPendingRequestedPlaying=!0;l.canLogPausedOrFinishedPlaying=!0;return F}function H(a,b,c){if(!l.canLogPausedOrFinishedPlaying)return F;else if(l.hasPendingRequestedPlaying){I(a,b,c);l.canLogPausedOrFinishedPlaying=!1;l.hasPendingRequestedPlaying=!1;return F}else{E({eventType:"paused",logDataOverrides:c,prevState:a,state:b});l.canLogPausedOrFinishedPlaying=!1;l.hasPendingRequestedPlaying=!1;return F}}function I(a,b,c){E({eventType:"cancelled_requested_playing",logDataOverrides:babelHelpers["extends"]({},c,C()),prevState:a,state:b});return F}function J(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&l.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){I(a,b,{debug_reason:"not_allowed"});return F}else return F}else return F}function K(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!l.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;G(a,b,c);return F}else return F}function L(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&l.canLogPlayingEvent){E({eventType:l.hasLoggedStartedPlaying?"unpaused":"started_playing",prevState:a,state:b});l.hasLoggedStartedPlaying=!0;l.canLogPlayingEvent=!1;l.hasPendingRequestedPlaying=!1;return F}else return F}function M(a,b,d){var e=b.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){H(a,b);l.isLoggingScrubbingSequence=!0;return F}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!l.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!l.hasPendingRequestedPlaying){H(a,b);l.shouldLogRequestedPlayingForScrub=!0;return F}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){G(a,b,{video_time_position:d.payload.seekTargetPosition});return F}else if(a.controlledState.seeking&&!b.controlledState.seeking){d=b.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!c("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>i)&&(l.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&G(a,b),E({eventType:"scrubbed",prevState:a,state:b}),l.isLoggingScrubbingSequence=!1,l.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(l.canLogPlayingEvent=!0));return F}else return F}function N(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&l.canLogPausedOrFinishedPlaying){E({eventType:"finished_playing",prevState:a,state:b});l.canLogPausedOrFinishedPlaying=!1;return F}else return F}function O(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!l.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){H(a,b);return F}else return F}function P(a,b,d){var e=b.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){c("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?H(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&H(a,b,{debug_reason:"unloaded"});return F}else return F}function Q(a,b,c){if(c.type==="implementation_engine_representation_blocked"){c=c.payload.blockedRepresentationID;E({eventType:"video_playback_fallback",logDataOverrides:{representation_id:c},prevState:a,state:b})}return F}function R(a,b,e){e=b.controlledState.muted;var f=b.controlledState.volume,g=a.controlledState.muted,h=a.controlledState.volume;e=d("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:e,currVolume:f,prevMuted:g,prevVolume:h});g={current_volume:Math.round(f*100)};switch(e){case"muted":E({eventType:"muted",logDataOverrides:g,prevState:a,state:b});return F;case"unmuted":E({eventType:"unmuted",logDataOverrides:g,prevState:a,state:b});return F;case null:if(h<f){E({eventType:"volume_increase",logDataOverrides:g,prevState:a,state:b});return F}else if(h>f){E({eventType:"volume_decrease",logDataOverrides:g,prevState:a,state:b});return F}else return F;default:e;c("recoverableViolation")('Unexpected mutedStateChange "'+e+'"',"comet_video_player");return F}}function S(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=l.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){E({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});l.lastTrackedRepresentation=c;s("quality_change");return F}else if(d==null&&d!==c){l.lastTrackedRepresentation=c;return F}else return F}function T(a,b){var d=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(e.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:e.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:e.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:c("mapObject")(c("VideoMimeTypes"),m),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:l.lastLoggedError,stack:d==null?void 0:d.stack,stallCount:l.stallCount,stallTime:l.stallDuration,state:B(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:b,state:a}}}function U(a,b,e){var f=b.controlledState.error;if(f!=null&&f!==l.lastLoggedError&&f.errorCode!=="410"){var g=f.errorDescription,h=f.errorName,i=f.errorType,j=f.url,k=f.errorCode==null||f.errorCode===""?h:f.errorCode;e=T(b,e);E({eventType:"error",logDataOverrides:babelHelpers["extends"]({},c("gkx")("1565232")?C():null,{error:h,error_code:k,error_description:g,error_domain:h,error_type:(k=i)!=null?k:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(h),error_user_info:JSON.stringify(e),resource_url:j}),prevState:a,state:b});l.lastLoggedError=f}return F}function V(a,b){var c=l.errorRecoveryAttemptState.currentRecoverableError;if(c!=null){var d=c.errorCode,e=c.errorName,f=c.errorType;c=c.url;l.errorRecoveryAttemptState.eventsLogged++;l.errorRecoveryAttemptState.repeatCount=0;E({eventType:"error_recovery_attempt",logDataOverrides:{error:e,error_code:d,error_domain:e,error_type:f,resource_url:c},prevState:a,state:b})}return F}function W(a,b,d){if(d.type==="error_recovery_attempt"&&l.errorRecoveryAttemptState.eventsLogged<k){var e=l.errorRecoveryAttemptState.currentRecoverableError;d=d.payload.recoverableError;if(c("gkx")("1541")&&d!=null&&d.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return F;l.errorRecoveryAttemptState.currentRecoverableError=d;e==null||e.errorName!==d.errorName||e.errorCode!==d.errorCode?V(a,b):(l.errorRecoveryAttemptState.repeatCount++,l.errorRecoveryAttemptState.repeatCount>j&&V(a,b))}return F}function X(a,b,c){if(!n)return F;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&l.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==l.lastLoggedPlaybackSpeed&&E({eventType:"playback_speed_changed",prevState:a,state:b});return F}function Y(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?l.nextHeartbeatTime=null:c!=="stalling"&&l.nextHeartbeatTime==null&&(l.nextHeartbeatTime=Date.now()+h);var d=l.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&E({eventType:"heart_beat",prevState:a,state:b}),l.nextHeartbeatTime=e+h)}return F}function Z(a,b,c){if(c.type==="implementation_mounted"){E({eventType:"player_loaded",prevState:a,state:b});return F}else return F}function $(a,b,c){E({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function aa(a,b,c){c=e.coreVideoPlayerMetaData.playerFormat;f.coreVideoPlayerMetaData.playerFormat!==c&&E({eventType:"player_format_changed",prevState:a,state:b});return F}function ba(a,b,c){if(c.type==="dom_event_timeupdate"){c=l.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(E({eventType:"played_for_three_seconds",prevState:a,state:b}),l.nextPlayedThreeSecondsPlayheadPosition=null)}}return F}function ca(a,b,c){if(c.type!=="notify_fullscreen_changed")return F;c=l.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){$(a,b,d);return F}else if(c===!0&&d===!1){$(a,b,d);return F}else return F}function da(a,b,d){d=e.coreVideoPlayerMetaData.adClientToken;if((d==null||d==="")&&c("gkx")("1401747"))return F;d=b.controlledState.playbackState;var f=l.lastLoggedViewabilityPercentage,g=b.uncontrolledState.viewabilityPercentage;if(d!=="paused"&&d!=="ended"&&f!=null&&f!==g){E({eventType:"viewability_changed",prevState:a,state:b});return F}else return F}function ea(a,b,c){if(c.type==="controller_set_captions_visible_requested"){E({eventType:"caption_change",prevState:a,state:b});return F}else return F}function fa(a){f=e;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;e=a}}return{addDebugSubscriber:function(a){return r(a)},consumeLoggerEvents:function(){var a=g.splice(0);return a},getLoggerState:function(){return l},handleStateMachine:function(a,b,c){fa(c);var d=b.controlledState.playbackState;w(a,b,c);v(a,b);var e=[aa,ca,da,J,K,M,L,N,O,Q,R,P,Z,ea,S,U,W,Y,X,ba];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(l.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(l.hasPausedOnce=!0,l.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(l.hasPausedOnce=!0,l.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(l.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(l.shouldIgnoreDomPlay=!1,l.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;E({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,c){b.set(a,c)}}}g.HEARTBEAT_INTERVAL=h;g.createVideoPlayerImplementationStateMachineLogger=a}),98);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}f["default"]=a}),66);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;var g=Date.now(),h=typeof c("performance").now==="function"?c("performance").now():0;if(e==null){var i={audioRepresentationID:void 0,clockTimestamp:g,currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,perfTimestamp:h,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return i}i=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();f={audioRepresentationID:b?b.getAudioRepresentationIDAtTime(i):void 0,clockTimestamp:g,currentPlayingVideoQuality:b?b.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:b?b.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:b?b.isFBIsLiveTemplated():void 0,isFBMS:b?b.isFBMS():void 0,isFBWasLive:b?b.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:b?b.isPredictiveDash():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,perfTimestamp:h,videoElementDebugCurrentSrc:c("gkx")("1526990")?(g=e.getUnderlyingVideoElement())==null?void 0:g.currentSrc:void 0,videoElementDebugSrc:c("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:i,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:b?b.getVideoRepresentationIDAtTime(i):void 0,viewabilityPercentage:a?c("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return f}g.createVideoPlayerImplementationStateMachineStateUncontrolledState=a}),98);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,e=a.captionDisplayStyle,f=a.dimensions,g=a.isAbrEnabled,h=a.playerImplementationName,i=a.playerVersion;a=a.streamingFormat;var j=!0,k=1,l=d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,activeEmsgBoxes:[],availableQualities:[],bufferingDetected:!1,captionDisplayStyle:e,captionFormat:null,captionsLoaded:!1,captionsLocale:null,captionsVisible:b,dimensions:f,emsgBoxes:[],emsgObserverTokens:new Set(),error:null,hasPlayEverBeenRequested:!1,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isLiveRewindActive:!1,lastBufferingType:null,lastMuteReason:null,lastPausedTimeMs:0,lastPauseReason:null,lastPlayedTimeMs:0,lastPlayReason:null,latencyLevel:"normal",loopCount:0,loopCurrent:0,muted:j,playbackState:"paused",playerFormat:"unknown",scrubbing:!1,seekableRanges:null,seeking:!1,seekTargetPosition:null,selectedVideoQuality:"notselected",streamEnded:!1,streamingFormat:a,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",videoProjection:null,volume:k,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:g,playerImplementationName:h,playerVersion:i,uncontrolledState:l}}g.createVideoPlayerImplementationStateMachineInitialState=a}),98);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){d("Random").coinflip(c)&&d("ODS").bumpEntityKey(2079,a,b,c)};g.bumpEntityKey=a}),98);
__d("VideoPlayerImplementationEngineAPI",["ErrorMetadata","FBLogger","NetworkStatus","PlaybackSpeedExperiments","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationReactVideoElement.react","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerODS","clearTimeout","cr:683059","deepEquals","err","gkx","killswitch","qex","react","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useSEOLoggedOutWebCrawler","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");f=d("react");var i=f.useEffect,j=f.useRef,k=f.useState,l=(f=c("qex")._("1653"))!=null?f:6e4,m=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var b=a.prototype;b.playRequest=function(a){var b=this;this.$1.push(a);return function(){c("removeFromArray")(b.$1,a)}};b.pauseRequest=function(a){var b=this;this.$2.push(a);return function(){c("removeFromArray")(b.$2,a)}};b.scrubBeginRequest=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};b.scrubEndRequest=function(a){var b=this;this.$4.push(a);return function(){c("removeFromArray")(b.$4,a)}};return a}();function n(a){var b=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.getCurrentExposedState,g=a.getCurrentIsFullscreen,h=a.getCurrentLiveRewindPlayheadPosition,i=a.getCurrentPlayheadPosition,j=a.loggerAPI,k=a.pauseImpl,l=a.playImpl,n=a.registerEmsgObserverImpl,o=a.scrubBeginImpl,p=a.scrubEndImpl,q=a.seekImpl,r=a.selectVideoQualityImpl,s=a.setCaptionsDisplayStyleImpl,t=a.setCaptionsUrlImpl,u=a.setCaptionsVisibleImpl,v=a.setIsLiveRewindActiveImpl,w=a.setLatencyLevelImpl,x=a.setMutedImpl,y=a.setPlaybackRateImpl,z=a.setVolumeImpl,A=a.subscribers,B=a.unregisterEmsgObserverImpl,C=a.videoElementAPIRef,D=new Set(),E=!1,F=null,G=[],H=[],I=[],J=[],K=new m({pauseRequestCallbacks:H,playRequestCallbacks:G,scrubBeginRequestCallbacks:I,scrubEndRequestCallbacks:J}),L={freeze:function(){if(!f().paused)throw c("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var b=!1;D.size===0&&(b=!0,F={exposedState:f(),isFullscreen:g(),liveRewindPlayheadPosition:h(),playheadPosition:i()});D.add(a);b&&(E=!0,A.forEach(function(a){a()}))}finally{E=!1}return a},isFrozen:function(){return F!=null},unfreeze:function(a){if(!D.has(a))throw c("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");D["delete"](a);D.size===0&&(F=null,A.forEach(function(a){a()}))}},M=babelHelpers["extends"]({},b,L,j,{debugAPI:d,getCurrentState:function(){return F!=null?F.exposedState:f()},getIsFullscreen:function(){return F!=null?F.isFullscreen:g()},getLiveRewindPlayheadPosition:function(){return F!=null?F.liveRewindPlayheadPosition:h()},getPlayheadPosition:function(){return F!=null?F.playheadPosition:i()},internal_getVideoElement:function(){var a=C.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},observeOn:function(){return K},pause:function(a){if(L.isFrozen())return;H.forEach(function(b){return b(a)});k(a)},play:function(a){if(L.isFrozen())return;G.forEach(function(b){return b(a)});l(a)},registerEmsgObserver:function(){var a={};n(a);return a},requestSetIsFullscreen:function(a){if(L.isFrozen())return;var b=e.current;if(b){var c=M.internal_getVideoElement();b.requestSetIsFullscreen(a,c)}},scrollIntoView:function(a){var b=M.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(L.isFrozen())return;I.forEach(function(a){return a()});o()},scrubEnd:function(a){if(L.isFrozen())return;J.forEach(function(b){return b(a)});p(a)},seek:function(a){if(L.isFrozen())return;q(a)},selectVideoQuality:function(a){if(L.isFrozen())return;r(a)},setCaptionsDisplayStyle:function(a){if(L.isFrozen())return;s(a)},setCaptionsUrl:function(a){if(L.isFrozen())return;t(a)},setCaptionsVisible:function(a){if(L.isFrozen())return;u(a)},setIsLiveRewindActive:function(a){if(L.isFrozen())return;v(a)},setLatencyLevel:function(a){if(L.isFrozen())return;w(a)},setMuted:function(a,b){if(L.isFrozen())return;x(a,b)},setPlaybackRate:function(a){if(L.isFrozen())return;y(a)},setVolume:function(a){if(L.isFrozen())return;z(a)},subscribe:function(a){var b=function(){if(L.isFrozen()&&!E)return;a()},d=e.current,f=d?d.subscribe(b):null;A.push(b);return{remove:function(){f&&f.remove(),c("removeFromArray")(A,b)}}},unregisterEmsgObserver:function(a){B(a)},videoElementAPIRef:C});return M}function o(a){var b=a.concurrentAutoplayManagementAPI,d=a.createExposedState,e=a.debugAPI,f=a.fullscreenControllerRef,g=a.logger,h=a.machine,i=a.subscribers,j=a.videoElementAPIRef;a={setAdditionalLogData:function(a,b){g.setAdditionalLogData(a,b)}};return n({concurrentAutoplayManagementAPI:b,debugAPI:e,fullscreenControllerRef:f,getCurrentExposedState:function(){return d(h.getCurrentState())},getCurrentIsFullscreen:function(){var a=f.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=h.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=(a=c("gkx")("3464")?(a=j.current)==null?void 0:a.getPlayheadPosition():void 0)!=null?a:h.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},loggerAPI:a,pauseImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_play_requested"})},registerEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"register_emsg_observer"})},scrubBeginImpl:function(){h.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){h.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsDisplayStyleImpl:function(a){h.dispatch({payload:{captionDisplayStyle:a},type:"controller_set_caption_display_style_requested"})},setCaptionsUrlImpl:function(a){h.dispatch({payload:{captionsUrl:a},type:"controller_set_captions_url_requested"})},setCaptionsVisibleImpl:function(a){h.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){h.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){h.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){h.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPlaybackRateImpl:function(a){h.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){h.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:i,unregisterEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"unregister_emsg_observer"})},videoElementAPIRef:j})}function p(a){a=a.current;if(a==null)throw c("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function q(a){var e=a.alwaysShowCaptions,f=a.areCaptionsAutogenerated,g=a.captionDisplayStyle,h=a.captionsControllerRef,i=a.debugLogId,j=a.dimensions,k=a.engineExtrasAPI,m=a.engineMetadata,n=a.fullscreenControllerRef,o=a.handleFatalError,q=a.handleStateMachine,s=a.videoElementAPIRef,t=a.videoLiveTraceRef,u=a.videoPlayerPassiveViewabilityInfoRef;function v(a){d("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:k,hostCall:a,machine:y,videoElementAPI:s.current})}var w=null,x=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){q(a,b,c);return!0},function(a,b,e){if(c("gkx")("1633455")&&(a.controlledState.streamInterrupted===!1&&b.controlledState.streamInterrupted===!0||a.controlledState.streamInterrupted===!0&&b.controlledState.streamInterrupted===!1)){a=b.controlledState;b=a.bufferingDetected;var f=a.lastBufferingType,g=a.streamInterrupted;a=a.targetPlaybackRate;g?(b&&y.dispatch({type:"buffering_end_requested"}),v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:e.type},type:"host_call_set_playback_rate"})):(v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:e.type},type:"host_call_set_playback_rate"}),b&&y.dispatch({payload:{bufferingType:f||"in_play"},type:"buffering_begin_requested"}))}return!0},function(a,b,e){if(a.controlledState.bufferingDetected===!1&&b.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&b.controlledState.bufferingDetected===!1){w!==null&&(c("clearTimeout")(w),w=null);if(b.controlledState.bufferingDetected&&(!c("gkx")("1633455")||!b.controlledState.streamInterrupted)){e=function a(){w=null;if(c("gkx")("1849507")&&!c("NetworkStatus").isOnline())w=c("setTimeout")(a,g);else{var e=d("VideoPlayerImplementationErrors").createVideoPlayerBufferingErrorFromGenericError("BUFFERING_TIMEOUT",c("err")("The video has been in a buffering state for over "+g+" ms."),"buffering_timeout",f,b.controlledState.isLiveRewindActive);x&&(x.log(),x=null);y.dispatch({payload:{fatalError:e},type:"implementation_fatal_error"});e=k.getPerfLoggerProvider();e==null?void 0:e.getOperationLogger("buffering_timeout").setType(f).setInitiator("engine_api").setLength(g).setResult("failed").log()}};var f=(a=b.controlledState.lastBufferingType)!=null?a:"in_play";a=(a=c("qex")._("1654"))!=null?a:l;var g=f==="in_play"?a:l;w=c("setTimeout")(e,g);a=k.getPerfLoggerProvider();x=a?a.getOperationLogger("buffering").setState("buffering").setType(f).start():null}else!b.controlledState.bufferingDetected&&x!=null&&(x.log(),x=null)}return!0},function(a,b,d){if(!(d.type==="implementation_engine_destroy_requested"))return!0;w!==null&&c("clearTimeout")(w);w=null;return!1},function(a,b,c){if(!(c.type==="implementation_engine_initialized"))return!0;a=p(s);c=c.type;d("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:k,machine:y,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&y.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(!(c.type==="controller_pause_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="paused"))return!1;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(!(c.type==="controller_play_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="stalling"))return!1;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(!(c.type==="controller_seek_requested"))return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&v({payload:{currentTime:a,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(!(c.type==="controller_muted_requested"))return!0;a=b.controlledState.muted;if(!(a===c.payload.muted))return!1;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_begin_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_end_requested"))return!0;a=b.controlledState;b=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;b&&e!=null?(v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),v({payload:{currentTime:e,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type+":seek"},type:"host_call_set_current_time"})):v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_begin_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_set_playback_rate"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.payload.playbackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_end_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_volume_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(!(c.type==="controller_quality_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="controller_set_latency_level_requested"||c.type==="implementation_set_latency_level_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:c.payload.latencyLevel,reason:c.type},type:"host_call_set_latency_level"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=h.current;var e=b.controlledState.captionsVisible,f=s.current;f=f?f.getPlayheadPosition():0;if(d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&b.controlledState.isLiveRewindActive){var g=b.controlledState.seekableRanges;g=g!=null?(g=g.end(g.length()-1))!=null?g:0:0;f>=g&&y.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(!k.getRepresentationCaptionsExpectedFromManifest()&&c&&e&&b.controlledState.captionsLoaded){g=c.handleTimeUpdate(f);e=c.getCaptionFormat();b=a.controlledState.activeCaptions;c=a.controlledState.captionFormat;e!==c&&y.dispatch({payload:{captionFormat:e},type:"controller_set_caption_format_requested"});r(b,g)&&y.dispatch({payload:{activeCaptions:g,captionsLocale:null},type:"controller_set_active_captions_requested"})}a=t.current;a!=null&&a.onUpdateStatus({position:f});return!1},function(a,b,c){if(!(c.type==="cea608_bytes_received"))return!0;a=h.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(!(c.type==="controller_set_captions_url_requested"))return!0;a=h.current;if(a){b=c.payload.captionsUrl;a.updateCaptionsUrl(b)}return!1},function(a,b,c){if(!(c.type==="controller_set_is_live_rewind_active_requested"))return!0;k.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!c.payload.isLiveRewindActive&&y.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1}];var y=d("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=s.current;return d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:k,fullscreenControllerRef:n,videoElementAPI:a,videoLiveTraceRef:t,videoPlayerPassiveViewabilityInfoRef:u})},debugLogId:i,initialState:d("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:e,areCaptionsAutogenerated:f,captionDisplayStyle:g,dimensions:j,isAbrEnabled:m.isAbrEnabled,playerImplementationName:m.playerImplementationName,playerVersion:m.playerVersion,streamingFormat:m.streamingFormat}),onFatalError:o,stateTransitionHandlers:a});return y}function r(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function s(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function t(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function u(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.activeEmsgBoxes,f=c.availableQualities,g=c.captionDisplayStyle,h=c.captionsLoaded,i=c.captionsVisible,j=c.error,k=c.hasPlayEverBeenRequested,l=c.inbandCaptionsAutogenerated,m=c.isLiveRewindActive,n=c.lastMuteReason,o=c.lastPauseReason,p=c.lastPlayedTimeMs,q=c.lastPlayReason,r=c.latencyLevel,s=c.loopCount,t=c.loopCurrent,u=c.muted,v=c.playbackState,w=c.seekableRanges,x=c.seeking,y=c.seekTargetPosition,z=c.selectedVideoQuality,A=c.streamInterrupted,B=c.targetAudioQuality,C=c.targetPlaybackRate,D=c.targetVideoQuality,E=c.videoProjection,F=c.volume;c=c.watchTimeMs;var G=a.uncontrolledState,H=G.currentPlayingVideoQuality,I=G.videoElementDuration;G=G.videoElementLastBufferEndPosition;var J=v==="ended",K=v==="paused"||J,L=v==="playing",M=v==="inPlayStalling";v=v==="stalling"||M;G={activeCaptions:d,activeEmsgBoxes:e,availableVideoQualities:f,bufferEnd:(d=G)!=null?d:0,captionDisplayStyle:g,captionsLoaded:h,captionsVisible:i,currentVideoQuality:(e=H)!=null?e:"",duration:(f=I)!=null?f:0,ended:J,error:j,hasPlayEverBeenRequested:k,inbandCaptionsAutogenerated:l,inPlayStalling:M,isAbrEnabled:b.isAbrEnabled,isExternalMedia:b.isExternalMedia,isLiveRewindActive:m,lastMuteReason:n,lastPauseReason:o,lastPlayedTimeMs:p,lastPlayReason:q,latencyLevel:r,loopCount:s,loopCurrent:t,muted:u,paused:K,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:L,seekableRanges:w,seeking:x,seekTargetPosition:y,selectedVideoQuality:z,stalling:v,streamInterrupted:A,targetAudioQuality:B,targetPlaybackRate:C,targetVideoQuality:D,videoProjection:E,volume:F,watchTimeMs:c};return G}function a(a){var b,e=a.createDebugAPI,f=a.createVideoPlayerError,g=a.debugLog;g=a.debugLogId;var h=a.destroyEngineParts,i=a.engineExtrasAPI,j=a.engineMetadata,k=a.handleFatalError,l=a.handleVideoElementMounted,m=a.handleVideoElementUnmounted,n=a.handleVideoInfoChange,p=a.initialProps,r=a.setExposedStateInReact,v=d("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:g,initialLoggingMetaData:p.loggingMetaData}),w=new(c("VideoPlayerBanzaiLogFlusher"))(v),x={current:(a=p.videoPlayerPassiveViewabilityInfo)!=null?a:null},y={current:(a=p.fullscreenController)!=null?a:null},z={current:null},A=p.videoLiveTraceRef;a=d("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var B=[],C=function(){B.forEach(function(a){a()}),p.disableLogging?w.discardLogsWithoutFlushing():w.flushLogs()},D={current:null},E={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:p.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:!1,sideLoadCaptionsExpectedFromProps:p.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=p.captionsUrl)!=null?b:null}},F={current:null},G={current:null},H=new(c("SubscriptionsHandler"))(),I="before_mounted";function J(){return I==="mounted"}var K={current:null},L=function(a){a=u({engineMetadata:j,state:a});return a},M={current:null},N={current:null},O=function(a){if(J()){if(a===M.current)return;var b=L(a);if(N.current!=null&&c("deepEquals")(N.current,b))return;M.current=a;N.current=b;r(b)}};b=function(a,b,c){v.handleStateMachine(a,b,c),O(b),C()};var P=function(a,b){},Q=function(a){P(a,"state_machine_fatal_error")},R=q({alwaysShowCaptions:Boolean(p.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(p.areCaptionsAutogenerated),captionDisplayStyle:p.captionDisplayStyle,captionsControllerRef:z,debugLogId:g,dimensions:p.dimensions,engineExtrasAPI:i,engineMetadata:j,fullscreenControllerRef:y,handleFatalError:Q,handleStateMachine:b,videoElementAPIRef:K,videoLiveTraceRef:A,videoPlayerPassiveViewabilityInfoRef:x}),S=!1,T=function(a){var b=D.current!=null,d=K.current!=null;H.release();R.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroy_requested"});try{c("gkx")("1494163")?h(["destroyEngine("+a+")"]):S||(S=!0,h(["destroyEngine("+a+")"]))}catch(e){if(c("gkx")("1494163"))try{c("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:j.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:b}))}catch(a){}}var e=z.current;e!=null&&(R.getCurrentState().controlledState.captionsLoaded&&R.dispatch({type:"captions_unloaded"}),z.current=null,e.destroy());s(null,y,F,R);t(null,x,G,R);R.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroyed"})};P=function(a,b){a=f(a,b);R.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});T("implementation_fatal_error");k(a)};function U(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function V(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function W(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var X=function(a){var b=U(a),c=V(a),e=W(a),f=z.current;e!==W(E.current)&&R.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?c!==V(E.current)&&(f.updateInbandCaptionsExpected(c),!c&&R.getCurrentState().controlledState.captionsLoaded&&R.dispatch({type:"captions_unloaded"})):(b||c)&&f==null&&(z.current=d("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){R.getCurrentState().controlledState.captionsLoaded||R.dispatch({type:"captions_loaded"})}}));E.current=a},Y=function(a){i!=null&&a&&a.width>0&&a.height>0&&(i.setDimensions(a),R.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},Z=function(a){a!==R.getCurrentState().controlledState.loopCount&&R.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},aa=function(a){"srcObject"in a&&(a.srcObject=null)},$=function(a,b){if(D.current===a)return;if(!J()&&c("gkx")("1405244"))return;if(!J()){var e=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(I);e&&d("VideoPlayerODS").bumpEntityKey("comet_video_player",e,1)}a!=null&&D.current!=null&&D.current!==a&&c("recoverableViolation")("The video element was recreated","comet_video_player");e=D.current;e&&aa(e);D.current=a;c("gkx")("1494163")&&(a==null&&(K.current=null));D.current!=null?(R.dispatch({type:"implementation_video_node_mounted"}),l([].concat(b,["handleVideoElement(non-null)"]))):(R.dispatch({type:"implementation_video_node_unmounted"}),m([].concat(b,["handleVideoElement(null)"])))};g=p.loggingMetaData.instanceKey;Q=function(a){var b;if(!J())return;s((b=a.fullscreenController)!=null?b:null,y,F,R);t((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,x,G,R);if(!n(a)){b={inbandCaptionsAutogeneratedFromManifest:E.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:E.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:E.current.representationCaptionsExpectedFromManifest,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};X(b);Y(a.dimensions);Z((b=a.loopCount)!=null?b:0)}R.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};b=function(){if(I!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(I);a&&d("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}J()||(I="mounted",H.addSubscriptions(d("RunComet").onUnload(function(){T("page_unload")})),R.dispatch({type:"implementation_mounted"}),l(["handleReactMount"]))};g=function(){if(!J()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(I);a&&d("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}J()&&(I="unmounted",R.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),T("implementation_unmounted:react_effect_cleanup"))};a=o({concurrentAutoplayManagementAPI:a,createExposedState:L,debugAPI:e({getVideoElementAPI:function(){return K.current},logger:v}),fullscreenControllerRef:y,logger:v,machine:R,subscribers:B,videoElementAPIRef:K});e=d("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(R,$);var ba=L(R.getInitialState());b={destroy:T,handleReactMount:b,handleReactPropsChanged:Q,handleReactUnmount:g,implementationController:a,initialExposedState:ba,logFlusher:w,machine:R,notifySubscribers:C,videoElementCallbacks:e,videoElementRefCallback:function(a){$(a,["videoElementRefCallback"])}};return{engine:b,getCaptionsInfo:function(){return E.current},getVideoElement:function(){return D.current},getVideoLiveTrace:function(){return A.current},handleCaptionsInfoChange:X,handleFatalImplementationError:P,logger:v,machine:R,videoElementAPIRef:K}}function v(a,b){var d,e=c("err")(a.errorName+": "+a.errorDescription);e.name=a.errorName;e.errorName=a.errorName;e.type="error";a.stack!=null&&a.stack!==""&&(e.stack=a.stack);var f=new(c("ErrorMetadata"))();f.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(d=a.errorCode)!=null?d:""],["COMET_VIDEO","ERROR_URL",(d=a.url)!=null?d:""]);b!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",b);d=a.originalError;d!=null&&(typeof d==="string"?f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d):d instanceof Error&&d.message!=null&&f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d.message));e.metadata=f;return e}function e(a,b){var d=k(null),e=d[0],f=d[1],g=j(!1),l=j(null);d=k(null);var m=d[0],n=d[1];d=a.wrapVideoPixels_EXPERIMENTAL;i(function(){m||(l.current=null)},[m]);var o=j(a),p=j(b),q=c("useStable")(function(){return p.current({debugLogId:String(o.current.loggingMetaData.instanceKey),handleFatalError:function(a){if(g.current&&c("gkx")("1722590"))return;c("gkx")("1444664")?l.current||(l.current=a,n(a)):n(a)},initialProps:o.current,setExposedStateInReact:f})});e=(b=e)!=null?b:q.initialExposedState;b=(b=e.error)!=null?b:m;if(b!=null){if(c("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw c("unrecoverableViolation")(b.errorName+": "+b.errorDescription,"comet_video_player",{error:b.originalError instanceof Error?b.originalError:void 0});var r=a.VideoPlayerShakaPerformanceLoggerClass;r&&(c("gkx")("2007883")||c("qex")._("1655"))&&r.flushQueuedLogs();throw v(b,o.current.videoFBID)}i(function(){q.handleReactMount();return function(){g.current=!0,q.handleReactUnmount()}},[q]);var s=j(null);i(function(){a!==s.current&&q.handleReactPropsChanged(a),s.current=a});r=c("useSEOLoggedOutWebCrawler")();b=h.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,implementationExposedState:e,src:r?a.seoWebCrawlerLookasideUrl:null,videoElementCallbacks:r?null:q.videoElementCallbacks,videoElementRefCallback:r?null:q.videoElementRefCallback});r=a.renderWithVideoImplementationStates({implementationController:q.implementationController,videoState:e});d=h.jsxs(h.Fragment,{children:[d?d(b):b,r]});return{engine:q,exposedState:e,reactVideoComponents:r,reactVideoFrame:b,reactVideoFrameAndComponents:d}}g.internal_createVideoPlayerImplementationControllerImpl=n;g.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=q;g.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=u;g.createVideoPlayerImplementationEngine=a;g.internal_makeExpandedErrorFromVideoPlayerError=v;g.useVideoPlayerImplementationEngine=e}),98);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality","VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return isNaN(a)?0:a}function i(a){return h(a.duration)}function j(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function k(a){return h(a.currentTime)}function l(a){return a.buffered.length===0?0:a.buffered.start(0)}function a(a,e){var f=e!==!0,g=null,h=function(b){f?b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b):g=b};return{getCanPlayPromise:function(){return new(b("Promise"))(function(b,c){a.readyState===4?b():a.addEventListener("canplay",function(){return b()})})},getDOMLoadedMetadataPromise:function(){return new(b("Promise"))(function(b,c){a.addEventListener("loadedmetadata",function(){return b()})})},getDroppedFrameCount:function(){return d("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return i(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return j(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return k(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return d("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){f||(f=!0,h(g),g=null);var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){var d=b;if(b===0){b=c("VideoPlayerOzWWWGlobalConfig").getNumber("clamp_seek_to_first_buffer_range_epsilon",0);if(b>0){var e=l(a);e>0&&e<=b&&(d=e)}}a.currentTime=d},setSrc:h,setVolume:function(b){a.volume=b}}}g.getDurationFromVideoElement=i;g.getLastBufferEndPositionFromVideoElement=j;g.getPlayheadPositionFromVideoElement=k;g.createVideoPlayerImplementationEngineVideoElementAPI=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator","qex"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return a.getSelectedVideoQuality()}function i(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getQualityLabel()}function j(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function k(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function l(a,b){var c=j(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getOzQuickStarter,f=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b,c;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);c=(c=e())==null?void 0:c.getAudioRepresentationIDAtTime(a);return(b=(a=b)!=null?a:c)!=null?b:null},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingVideoQuality:function(){var a=d();return a?i(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){if(c("qex")._("1656")){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))}return!1},getStreamType:function(){return"dash"},getUserSelectedVideoQuality:function(){var a=d();return a?j(a):""},getVideoProjectionType:function(){var a=d();return a!=null?k(a):null},getVideoRepresentationIDAtTime:function(a){var b,c;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);c=(c=e())==null?void 0:c.getVideoRepresentationIDAtTime(a);return(b=(a=b)!=null?a:c)!=null?b:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),f(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&l(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["MosUtils","OzSystemicRiskUtils","oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};a=function(){function a(a,b,c,d,e,f,g,h){this.$11=!1,this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$7=f,this.$8=g,this.$9=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b=this;this.$3=a;a=this.$3.find(function(a){return a.getQualityLabel()===b.$2.getQualityLabel()});this.$2=(a=a)!=null?a:this.$3[0]};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$6,this.$5),f=this.$5.getDuration();f=isNaN(f)?h:f;if(this.$3.length===0){this.$10="no available representations";return this.$2}var g=this.$5.getCurrentTime();f=this.$9==="static"?(f-g)*1e3:h;g=this.$8();a=b.getBool("systemic_risk_use_fetch_range_duration",!1)?this.$12(a):i;var j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);if(j==null){this.$10="missing bandwidth diagnostics";return this.$2}var k=this.$13(this.$3).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}),l=null,m=null,n=null;for(var o=0;o<k.length;o++){var p=k[Math.max(o-1,0)],q=this.$14(p,g);p=Math.min(p.getHeight(),p.getWidth());m=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:j,bitrate:k[o].getBandwidth(),bufferAhead:e,config:this.$1.getLegacyConfig(),hasMadeInitialDecision:this.$11,initialRiskFactor:b.getNumber("systemic_risk_abr_initial_risk_factor",1),lowMosResolution:b.getNumber("systemic_risk_abr_low_mos_resolution",0),minWatchableMos:b.getNumber("systemic_risk_abr_min_watchable_mos",0),previousMos:q,previousResolution:p,remainingVideoDurationMs:f,segmentFetchRangeDurationMs:a});q=m;p=q.multiplier;if(isNaN(p)){n=m;l=this.$2;break}q=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(k[o].getBandwidth(),m.multiplier,a,j);if(q)n=m,l=k[o];else break}l==null?this.$2=b.getBool("respect_playback_restrictions_in_abr_fallback",!1)&&k.length>0?k[0]:this.$3[0]:this.$2=l;this.$15((p=n)!=null?p:m,{isSystemicRiskABREnabled:b.getBool("use_systemic_risk_abr",!1),noRepresentationSelected:l==null,representationCount:k.length});this.$11||(this.$11=!0);return this.$2};b.$12=function(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b};b.$14=function(a,b){a=a.getCustomField("playbackResolutionMos");a=d("MosUtils").parsePlaybackMos(String(a));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$13=function(a){var b=this;if(!this.$1.getLegacyConfig().getBool("systemic_risk_abr_apply_representation_restrictions",!1))return a;var c=this.$1.getLegacyConfig().getBool("exclude_large_representations_after_restrictions",!1),e=a;a=function(){e=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(b.$1,e,b.$8(),b.$7)};var f=function(){e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(b.$1,b.$4,b.$8(),e)};c||(a(),f());c&&(f(),a());return e};b.$15=function(a,b){if(a==null)return;var c=b.isSystemicRiskABREnabled,d=b.noRepresentationSelected;b=b.representationCount;this.$10=[[j.LOW_MOS,a.lowMos],[j.ENCODING,a.encoding],[j.BANDWIDTH,a.bandwidth],[j.MULTIPLIER,a.multiplier],[j.BUFFER,a.buffer],[j.PREVIOUS_MOS,a.previousMos],[j.PREVIOUS_RESOLUTION,a.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");c||(this.$10+="disabled;");d&&(this.$10+="none-selected-of-"+b+";")};b.getLastEvaluationReason=function(){return this.$10};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:72","gkx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,i=c("qex")._("1658");function j(a){return i!==null&&i!==void 0&&i!==""?i:null}function a(a){return h.test(a.getDomain())}function b(a,b,d,e,f){if(f.current!=null)return;var g=!0,h=function(){if(g)return!1;var a=f.current!==i;return a&&c("gkx")("1508440")?!0:!1},i=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=i;g=!1;a=function(a){if(h())return;if(c("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})};d=function(){if(h())return;e.dispatch({type:"buffering_end_requested"})};i.addListener("enterBuffering",a);i.addListener("leaveBuffering",d)}function d(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];d&&a!=null&&e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,null));return e}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function f(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function k(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function l(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function m(){return function(a,b,d,e,f,g,h,i){return a.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(a,b,d,e,f,g,h,i):null}}function n(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.playbackIsLiveStreaming,h=b.playbackSessionId;b=b.shouldRefresh403;var i=a.getQueryData(),k;if(g){k={};var l=j(a);l!==null&&l!==""&&(k=babelHelpers["extends"]({},k,{os_param:l}));d.getBool("live_video_send_player_id_in_requests",!1)&&(k=babelHelpers["extends"]({},k,{_nc_psid:h}));if(d.getBool("server_side_abr_send_client_estimates",!1)){l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));h=e();h&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(h.getBandwidth()),_nc_abr_qlabel:h.getQualityLabel()}))}c("gkx")("2047")&&(k=babelHelpers["extends"]({},k,{_nc_wclk_ms:String(Date.now())}))}g&&c("gkx")("1998922")&&(k=babelHelpers["extends"]({},k,{_nc_nc:"1"}));c("gkx")("1836350")&&(i.uss!=null&&i.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));if(b){d=f();if(d!=null){l=a.getDomain()+a.getPath();e=d.get(l);if(e!=null)for(var h in e){k=babelHelpers["extends"]({},k,(g={},g[h]=e[h],g))}}}return k}g.getOsParamValue=j;g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=b;g.createOzDrmProviders=d;g.createOzPerfLoggerProviders=e;g.calculateInitialPlaybackPositionForDynamicMpd=f;g.calculateLiveheadFallBehindBlockThreshold=k;g.calculateLiveheadFallBehindBlockMargin=l;g.getVideoAbrManagerFactory=m;g.getCustomRequestParametersForURI=n}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","cr:9958","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","qex","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=c("qex")._("1657"))!=null?e:1e4,i=null,j=null;b("cr:1836099")&&(i=b("cr:1836099").getHiveConfig(),j=b("cr:1836099").HiveOz);function a(a){var e=a.OzPlayerClass,f=a.callChain,g=a.destroyOzPlayerPartsRef,k=a.engineDebugAPI,l=a.engineExtrasAPI,m=a.getCaptionsInfo,n=a.getLatencyLevelManager,o=a.getOzQuickStarter,p=a.getVideoLiveTrace,q=a.handleCaptionsInfoChange,aa=a.handleFatalImplementationError,r=a.hivePluginRef,s=a.initialProps,t=a.logger,u=a.machine,v=a.overrideOzRequestImplementationRef,w=a.ozBufferingDetectorRef,x=a.ozPlayerRef,y=a.p2pSessionLoggerRef,z=a.playerVersion,A=a.resolvedVideoInfo,B=a.videoElement;a=a.videoElementAPI;var C={current:!1},D={current:null},E={current:null};g.current=function(a){var b=w.current;b&&(w.current=null,b.destroy());b=x.current;b&&(k&&k.handleOzPlayerChanged(null),x.current=null,b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":")));b=D.current;b&&(D.current=null,b());E.current&&(E.current=null);Z();r.current&&(r.current=null);y.current&&(y.current=null);v.current&&(v.current=null)};g=A.accessToken;var F=A.audioOnly,G=A.experimentationConfig,H=A.graphQLVideoDRMInfo,I=A.graphQLVideoP2PSettings,J=A.manifestUrl,ba=A.manifestXmlStringResolved,ca=A.minQualityPreference,da=A.ozPrefetchCache,K=A.videoFBID,L=s.disableLogging?null:A.VideoPlayerShakaPerformanceLoggerClass;o=o();var M=Boolean(s.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),N=function(a){return l.getEstimatedBandwidth()},O=function(){return l.getApproximateFBLSToPlayerDisplayLatency()},ea=function(){G.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return N(M)}))},P=function(){var a=G.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(ea,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};D.current=P();P=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:g,graphQLVideoDRMInfo:H,videoFBID:K});H=function(){return u.getCurrentState().controlledState.captionsVisible};var Q=[];G.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&Q.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(H));H=function(){return u.getCurrentState().controlledState.dimensions};var R=function(){return u.getCurrentState().controlledState.playerFormat};g=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:L,accessToken:g,disableLogging:s.disableLogging,getApproximateFBLSToPlayerDisplayLatency:O,getBandwidthEstimate:N,getPlayerDimensions:H,getPlayerFormat:R,playbackIsLiveStreaming:M,playerInstanceCount:s.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:s.loggingMetaData.instanceKey,playerSuborigin:s.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:z,videoElement:B,videoFBID:K,videoPlayerShakaPerformanceLoggerBuilder:A.videoPlayerShakaPerformanceLoggerBuilder});E.current==null&&(E.current=new(c("OzCDNSignedQueryParams"))());if(I&&K!=null){O=I.community_info;R=I.config;z=I.hive_initialization_options;A=y.current=(A=y.current)!=null?A:b("cr:1871597")?new(b("cr:1871597"))(K,O):null;try{if(!r.current){A&&A.logEnableP2P();K=function(a){y.current&&y.current.logHiveError(a)};O=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);y.current&&y.current.logSessionActive(b.tech)};var S=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PStats",b);y.current&&y.current.setCurrentHiveStats(b)},T=function(a){a=a.state;var b=u.getCurrentState();b=b.controlledState;b=b.playbackState;if(r.current&&a==="CLOSED"){Z();a=x.current;a&&b!=="ended"&&(C.current&&J!=null?a.updatePlayerRunTimeConfig({manifestUrl:J}):a.load(J))}};S={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:S},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:O,onError:K,onSessionStateChange:T,telemetryId:A?A.getSessionID():0};O=G.getNumber("hive_maximum_trimming_seconds",0);O>0&&(S.HiveJS.maximumTrimming={dash:O,hls:O});if(z){K=z.HiveJava;T=z.debugLevel;O=z.hiveTechOrder;S.hiveTechOrder=O.slice();S.HiveJava=K?{minVersion:K.minVersion}:{};S.debugLevel=(z=T)!=null?z:S.debugLevel}c("gkx")("2047688")&&(S=babelHelpers["extends"]({},S,{testId:"fb_video_player_p2p_jest_e2e"}));if(R.disable_hivejava_for_livevc===!0&&J!=null&&J.startsWith("https://livestream-lookaside")){O=S.hiveTechOrder.indexOf("HiveJava");O>=0&&S.hiveTechOrder.splice(O,1)}if(i)i.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(j)r.current=new j(S);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(r.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");v.current=b("cr:1947728")(r.current.getRequestImplementation(),{inferResponseStatusIsOK:c("gkx")("3951"),inferResponseStatusIsOk2xx:c("gkx")("277")})}}}catch(a){A&&A.logError(a),Z()}}K=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=p();d!=null&&d.handleHeadersAndBody(a,b,c)},G.getBool("live_trace_parse_emsg",!1))];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&K.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(a,b){if(c("gkx")("1664503")){var e=x.current,f=a.headers;if(e&&f){f=parseInt(f.get("x-fb-video-replica"),10);t.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:a.status.toString(),error_user_info:JSON.stringify({failover_response_code:a.status.toString(),replica:f,url:b})},state:u.getCurrentState()});a=e.getMpdUrl();if(a!=null){b=d("ConstUriUtils").getUri(a);if(b){a=b.addQueryParam("replica",f);a&&(Z(),e.updatePlayerRunTimeConfig({manifestUrl:a.toString()}))}}}}}));var U=s.expiredVideoUrlRefreshHandler,fa=s.loggingMetaData.instanceKey;T=c("gkx")("221");z=c("gkx")("1836350")||c("gkx")("1993562");var V=M?T:z;G.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");O={audioOnly:(R=F)!=null?R:!1,bufferEndLimit:s.bufferEndLimit!=null?s.bufferEndLimit:null,bufferingDetector:(O=w.current)!=null?O:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(G),configureCustomRequestParametersForSegment:function(a){var b=null;if(M&&G.getBool("live_video_send_transaction_id_in_requests",!1)){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}))}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:G}),customSegmentTimelineParser:G.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:Q,debugCreateInitiator:[].concat(f,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:P,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:G,getCurrentVideoRepresentation:function(){var a=x.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return E.current},playbackIsLiveStreaming:M,playbackSessionId:fa,shouldRefresh403:V})},getOverrideOzRequestImplementation:function(){return v.current},getShouldIncludeCredentials:G.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getVideoDimensions:H,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(G,(S=s.initialDesiredLatencyMs)!=null?S:0),initialRepresentationIDs:(A=s.initialRepresentationIds)!=null?A:[],liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(G,(T=s.initialDesiredLatencyMs)!=null?T:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(G,(z=s.initialDesiredLatencyMs)!=null?z:0,(F=s.initialLatencyToleranceMs)!=null?F:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("722076"),observedOperationLoggers:o&&L&&L.shouldInitialize()?o.getObservedOperationLoggers():[],perfLoggerProviders:g},mpdUrl:J,networkRequestStreamHandlers:K,networkRequestStreamRetryHandler:V?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),h=E.current;if(a.status===403&&h!=null){t.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:u.getCurrentState()});f=null;g!=null&&b("cr:1993377")!=null?f=b("cr:1993377")(g):U!=null&&(f=U(e));if(f!=null)return f.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null){t.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refreshed_url:b})},state:u.getCurrentState()});h.update(b);return d()}else{throw c("unrecoverableViolation")("expiredVideoUrlRefreshHandler refreshed url should not be "+((b==null?void 0:b.length)===0?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){t.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_url:g})},state:u.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:G.getBool("use_prefetch_cache",!1)?da:null,rawMpdXml:r.current?void 0:ba,seekHandler:c("gkx")("1482680")?function(a){var b=B.currentTime;u.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});B.currentTime=a}:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());if(c("gkx")("951")){var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:G.getBool("fix_start_timestamp",!1)?s.startTimestamp:0,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNodeOrQuickStarter:(R=o)!=null?R:B,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(ca,G)};var W=new e(O);x.current=W;w.current&&w.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());Q=s.loggingMetaData.playerImplementationInstanceCountRef;Q.current++;W.onError(function(a){L&&L.flushQueuedLogs(),aa(a,"oz_player_error")});W.addListener("switchVideoRepresentation",function(){u.dispatch({payload:{targetVideoQuality:l.getCurrentTargetVideoQuality()},type:"representation_changed"})});var X=function(a){if(G.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(G,a)});W.addListener("manifestFetchErrorRetry",function(a){X(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(G,a)});W.addListener("streamErrorRetry",function(a){X(a)});W.addListener("streamInterruptAt",function(){u.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){u.dispatch({type:"stream_resumed"})});W.addListener("streamEnd",function(){Z(),u.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(G.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromVideoNodeError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});o==null?(W.addListener("enterBuffering",function(a){if(c("gkx")("1235655"))return;u.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})}),W.addListener("leaveBuffering",function(){u.dispatch({type:"buffering_end_requested"})})):d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(B,a,G,u,w);k&&k.handleOzPlayerChanged(W);var ga=function(){var a=m();a={inbandCaptionsAutogeneratedFromManifest:l.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:l.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:l.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=u.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&q(a)},ha=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;u.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},ia=function(){var a=l.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-G.getNumber("live_rewind_seek_to_live_delta",8),b);u.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},ja=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=p();typeof a==="number"&&b!=null&&b.setStreamType(a)},ka=function(a){var d=function(){ia(),ga(),ja()};a.addListener("updated",d);c("gkx")("1656434")&&d();a=b("cr:9958")!=null?b("cr:9958")(u):null;W.updatePlayerRunTimeConfig({audioStreamDataHandler:a,videoStreamDataHandler:ha});if(l.isPredictiveDash()){G.setContext("streaming_implementation","pdash");d=n();d&&d.maybeUpdateLatencyLevel()}a=m();q({inbandCaptionsAutogeneratedFromManifest:l.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:l.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:l.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=u.getCurrentState().controlledState.captionFormat;c!==d&&u.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});u.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){l.isPredictiveDash()&&G.setContext("streaming_implementation","pdash")});W.addListener("mpdReady",function(a){C.current=!0;ka(a);u.dispatch({payload:{availableQualities:l.getAvailableVideoQualities(),selectedVideoQuality:l.getUserSelectedVideoQuality(),targetVideoQuality:l.getCurrentTargetVideoQuality(),videoProjection:(a=l.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){u.dispatch({payload:{availableQualities:l.getAvailableVideoQualities(),blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=r.current,b=y.current;if(a!=null){r.current=null;y.current=null;v.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}f=r.current;P=I==null?void 0:I.ticket;if(J!=null&&I&&f&&P!=null){H=W.getPerfLoggerProvider();H&&H.setIsP2pPlayback(!0);S=J.substring(J.indexOf("?"));A=f.initSession(P+S,W,B);var $=new(c("Deferred"))();h>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+h+"ms"))},h));A.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=y.current;b!==J&&d&&d.logManifestMismatch(b,J);d&&d.logSessionInit(a,b);t.setAdditionalLogData("is_p2p_playback",!0);W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=y.current;b&&b.logError(a);Z();W.load(J)})}else t.setAdditionalLogData("is_p2p_playback",!1),W.load(J)}g.proceedWithOzPlayerCreation=a}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2="normal",this.$4=null,this.$1=a,this.$3=b}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$5();a!==this.$2&&(this.$2=a,this.$3.dispatch({payload:{latencyLevel:a},type:"implementation_set_latency_level_requested"}))};b.$5=function(){var a=[];try{a=JSON.parse(this.$1.getString("player_formats_for_low_latency","[]"))}catch(a){}return a.includes("*")||a.includes(this.$4)?"low":"normal"};return a}();f["default"]=a}),66);
__d("VideoPlayerOzQuickStarterUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.end,c=a.start,e;if(c!==null&&c!==void 0&&b!==null&&b!==void 0){var f;e=(f=d("ConstUriUtils").getUri(a.url))==null?void 0:(f=f.addQueryParam("bytestart",c))==null?void 0:(c=f.addQueryParam("byteend",b))==null?void 0:c.toString()}return(f=e)!=null?f:a.url}function i(a,b,c,d){c=h(c);a=a.getCacheValue(c);if(!a){b.push(d);return null}return a}function j(a,b){return a.find(function(a){return a.segmentType===b})}function a(a,b,c,d){var e=j(c,"init");c=j(c,"data");if(e){var f=i(a,b,e,d+" init");if(!f)return null;var g;c&&(g=i(a,b,c,d+" data"));return{initializationPromise:f,mimeCodec:e.mimeCodec,representationID:e.representationID,segmentPromise:g}}return null}g.createPrefetchDataForTrack=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzQuickStarterUtils","cr:10753","cr:1473549","cr:1494460","cr:1534629","cr:72","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.debugLogId,f=a.handleFatalError,g=a.initialProps;a=a.setExposedStateInReact;var i={current:null},j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null};function w(){var a;return(a=p.current)!=null?a:null}function x(){var a;return(a=o.current)!=null?a:null}function y(){return n.current}function z(){var a;return(a=(a=j.current)==null?void 0:a.experimentationConfig)!=null?a:null}function A(){var a;return(a=Z.current)!=null?a:null}function B(){var a;return(a=v.current)!=null?a:null}var C;b("cr:1473549")&&(C=new(b("cr:1473549"))());var D="comet_oz",E=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},F=function(a,b){return a.videoFBID!==b.videoFBID},G=function(a,b){return a.playerFormat!==b.playerFormat},H=function(a){return a.getBool("use_full_player_if_cached",!1)&&b("cr:1534629")?b("cr:1534629")().getModuleIfRequireable():null},I=function(a,b,c){b!=null?j.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):j.current=a,Y.dispatch({type:"implementation_engine_oz_manifest_downloading"}),m.current=H(a.experimentationConfig),M(m.current,[].concat(c,["proceedWithOzManifestDownloading"]))},J=function(a){var b,e=a.manifestUrl,f=a.manifest,g=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(g=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,manifestUrl:(b=e)!=null?b:null,manifestXmlStringInitial:(b=f)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:g,ozQuickStarterData:a.ozQuickStarterData,playerFormat:a.loggingMetaData.coreVideoPlayerMetaData.playerFormat,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};g=i.current;v.current==null&&(v.current=new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,Y));b.playerFormat!=null&&(g==null||G(b,g))&&Y.dispatch({payload:{playerFormat:b.playerFormat},type:"controller_set_player_format"});v.current.updatePlayerFormat((a=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?a:null);a=!1;if(g==null)a=!0;else if(g!=null&&!F(b,g)&&E(b,g)){var h=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",h);a=!1}else if(g!=null&&F(b,g))throw c("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!a)return!1;e=b.manifestUrl;f=b.manifestXmlStringInitial;if(f==null&&e==null)throw c("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");i.current=b;I(b,f,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},K=function(a,b,e,f,g){var h=function(b){if(l.current!==a)return;m.current=b;M(b,[].concat(g,["handleOzPlayerModuleLoadSuccess"]))},i=function(b){if(l.current!==a)return;W(b,"oz_player_module_load_failed")};l.current=a;var j=f.experimentationConfig,k=f.ozQuickStarterData;if(n.current==null&&b!=null&&f!=null&&(!j.getBool("prevent_unnecessary_quickstarter_instance",!1)||k!=null)){j=new b(e,f.experimentationConfig);c("gkx")("1494163")&&(n.current=j);if(k!=null){b=f.ozPrefetchCache;e=[];if(b!=null){f=d("VideoPlayerOzQuickStarterUtils").createPrefetchDataForTrack(b,e,k.video,"video");if(f){j.addPrefetchTrack(f);f=d("VideoPlayerOzQuickStarterUtils").createPrefetchDataForTrack(b,e,k.audio,"audio");f&&j.addPrefetchTrack(f)}}}j.addListener("streamEnd",function(){Y.dispatch({type:"stream_ended"})});c("gkx")("1494163")||(n.current=j)}c("promiseDone")(a,h,i)},L=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Z.current=a;return a},M=function(a,c){var e=T(),f=j.current;if(e==null||f==null)return;var g=L(e),h=f.experimentationConfig;a?N(a,e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):b("cr:1494460")?N(b("cr:1494460")(),e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderSync"])):b("cr:1534629")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,Y,p),K(b("cr:1534629")().load(),b("cr:10753"),e,f,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):W(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},N=function(a,b,e,f,h){try{var i={OzPlayerClass:a,callChain:[].concat(h,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:C,engineExtrasAPI:R,getCaptionsInfo:S,getLatencyLevelManager:B,getOzQuickStarter:y,getVideoLiveTrace:U,handleCaptionsInfoChange:V,handleFatalImplementationError:W,initialProps:g,logger:X,machine:Y,ozBufferingDetectorRef:p,playerVersion:D,resolvedVideoInfo:f,videoElement:b,videoElementAPI:e};a=z();h=g.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&h!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,h,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));k.current=f}catch(a){W(a,"oz_player_create_exception")}};function O(a){c("gkx")("1494163")&&(k.current=null);var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null);b=n.current;b&&(n.current=null);c("gkx")("1494163")&&(n.current=null)}function P(){if(c("gkx")("1494163"))i.current=null,j.current=null,k.current=null;else return}function Q(){l.current=null,m.current=null}var R=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:z,getOzPlayer:x,getOzQuickStarter:y,getVideoElementAPI:A});A=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return C?C.createDebugAPI({engineExtrasAPI:R,getConfig:function(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:w,getOzPlayer:x,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:e,destroyEngineParts:function(a){O([].concat(a,["destroyEngineParts"])),P(),Q()},engineExtrasAPI:R,engineMetadata:{isAbrEnabled:!0,isExternalMedia:!1,playerImplementationName:"oz_v2",playerVersion:D,streamingFormat:"dash"},handleFatalError:f,handleVideoElementMounted:function(a){var b=T();M(m.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){(c("gkx")("1494163")||c("gkx")("1380112"))&&O([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:J,initialProps:g,setExposedStateInReact:a});e=A.engine;var S=A.getCaptionsInfo,T=A.getVideoElement,U=A.getVideoLiveTrace,V=A.handleCaptionsInfoChange,W=A.handleFatalImplementationError,X=A.logger,Y=A.machine,Z=A.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();a=a==null?"progressive":g(a.hdSrc)||g(a.sdSrc)?"hls":"progressive";return a},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a};return a}f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a}),66);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableQualities:b,playingQuality:null,playingSrc:null,selectedQuality:c,targetQuality:c,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c}),66);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1512856","cr:1680308","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("emptyFunction");function i(a,b){return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,b)}function a(a){var e=a.debugLogId,f=a.handleFatalError,g=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n=function(){var a=m.current;a!=null&&(m.current=null,a())},o=function(a){n();var e=w();if(e==null)throw c("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw c("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");m.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return z.getCurrentState().controlledState.playbackState==="playing"||z.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){z.dispatch({type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){c("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),z.dispatch({type:"buffering_end_requested"})},onSourceSwitchStarted:function(){z.dispatch({payload:{bufferingType:"in_play"},type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=l.current;a!=null&&a.targetQuality!=null&&(l.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality(a,a.targetQuality,a.targetSrc));z.dispatch({type:"buffering_end_requested"})},targetSrc:a,videoElement:e})},p={current:null},q=function(){var a=w(),e=k.current;if(a==null||e==null)return;try{var f,h=e.graphQLVideoDRMInfo,i=e.videoFBID;f=h?(f=h.fairplayCert)!=null?f:null:null;b("cr:1680308")&&h&&f!=null&&i!=null&&(p.current=b("cr:1680308").newIfSupported(f,a,i,h.videoLicenseUriMap));var j=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a,g.isExternalMedia);A.current=j;l.current=e;f=v();x({inbandCaptionsAutogeneratedFromManifest:t.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:t.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:f==null?void 0:f.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:t.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:f==null?void 0:f.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:f==null?void 0:f.sideLoadCaptionsUrlFromProps});z.dispatch({payload:{availableQualities:t.getAvailableVideoQualities(),selectedVideoQuality:t.getUserSelectedVideoQuality(),streamingFormat:t.getStreamType(),targetVideoQuality:t.getCurrentTargetVideoQuality(),videoProjection:t.getVideoProjectionType()},type:"implementation_engine_initialized"});i=function(){j.setPlayheadPosition(g.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(j.getDOMLoadedMetadataPromise().then(i)):i()}catch(a){y(a,"progressive_player_create_exception")}},r=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},s=function(a){var b;b={graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!r(b,j.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");j.current=b;k.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);q();return!0},t=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return l.current},setUserSelectedVideoQuality:function(a){var b=l.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=A.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var f=b.targetQuality,g=b.targetSrc;l.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);b=l.current;a=b.targetQuality;b=b.targetSrc;if(c("gkx")("1467411"))b!==g&&(b==null?(n(),e.setSrc(null)):o(b)),f!=null&&a!==f&&a!=null&&z.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{e.setSrc(b);if(b!=null){f=(g=z.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?g:0;f>0&&e.setPlayheadPosition(f);z.getCurrentState().controlledState.playbackState==="playing"&&e.play();z.dispatch({payload:{targetVideoQuality:t.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),u=function(){p.current&&(p.current.destroy(),p.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:t,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:i,debugLog:h,debugLogId:e,destroyEngineParts:function(){if(c("gkx")("1467411")){n();var a=A.current;a&&a.setSrc(null);l.current=null}u()},engineExtrasAPI:t,engineMetadata:{isAbrEnabled:!1,isExternalMedia:g.isExternalMedia,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:f,handleVideoElementMounted:q,handleVideoElementUnmounted:function(){c("gkx")("1467411")&&n()},handleVideoInfoChange:s,initialProps:g,setExposedStateInReact:a});f=e.engine;var v=e.getCaptionsInfo,w=e.getVideoElement,x=e.handleCaptionsInfoChange,y=e.handleFatalImplementationError,z=e.machine,A=e.videoElementAPIRef;return f}g.createVideoPlayerProgressiveImplementationEngine=a}),98);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerOzImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.canUseOz,c=a.dashManifest,d=a.dashUrl,e=a.experimentationConfig,f=a.minQualityPreference,g=a.ozQuickStarterData;a=a.videoFBID;if(b!==!0||a==null)return null;b=c==null||c===""?null:c;a=d==null||d===""?null:d;if(b==null&&a==null)return null;return e==null?null:{experimentationConfig:e,manifest:b,manifestUrl:a,minQualityPreference:(c=f)!=null?c:null,ozQuickStarterData:(d=g)!=null?d:null,seoWebCrawlerLookasideUrl:a}}f.makeOzImplementationData=a}),66);
__d("useOzImplementationData",["CometRelay","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","react","useOzImplementationData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e){var f=e.manifestURL_DO_NOT_USE,g=e.ozQuickStarterData,j=e.videoPlayerShakaConfig,k=i(function(){return j==null?null:new(c("VideoPlayerOzWWWConfig"))(j)},[j]),l=d("CometRelay").useFragment(h!==void 0?h:h=b("useOzImplementationData_video.graphql"),a);return i(function(){return d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:l.can_use_oz,dashManifest:f!=null?null:l.dash_manifest,dashUrl:f!=null?f:l.playable_url_dash,experimentationConfig:k,minQualityPreference:l.min_quality_preference,ozQuickStarterData:f!=null?null:g,videoFBID:l.id})},[l,f,k,g])}g["default"]=a}),98);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.hdSrc,c=a.hdSrcPreferred,d=a.isExternalMedia;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,isExternalMedia:d,sdSrc:a}}f.makeProgressiveImplementationData=a}),66);
__d("useProgressiveImplementationData",["CometRelay","VideoPlayerProgressiveImplementationData","gkx","useProgressiveImplementationData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f,g;e=e.initialForceHD;e=e===void 0?!1:e;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useProgressiveImplementationData_video.graphql"),a);f=a.is_spherical===!0?(f=(f=a.spherical_video_fallback_urls)==null?void 0:f.hd)!=null?f:a.playable_url_quality_hd:a.playable_url_quality_hd;g=a.is_spherical===!0?(g=(g=a.spherical_video_fallback_urls)==null?void 0:g.sd)!=null?g:a.playable_url:a.playable_url;var i=a.is_rss_podcast_video===!0,j=c("gkx")("1129");return d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:f,hdSrcPreferred:e===!0||j||a.min_quality_preference==="HD"||a.min_quality_preference==="UHD",isExternalMedia:i,sdSrc:g})}g["default"]=a}),98);
__d("VideoPlayerShakaImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.videoData;a=a.videoPlayerShakaConfig;return b==null?null:{videoData:b,videoPlayerShakaConfig:a}}f.makeShakaImplementationData=a}),66);
__d("useShakaImplementationData",["CometRelay","VideoPlayerShakaImplementationData","cr:1604324","react","recoverableViolation","useShakaImplementationData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e){var f=e.videoPlayerShakaConfig,g=d("CometRelay").useFragment(h!==void 0?h:h=b("useShakaImplementationData_video.graphql"),a);return i(function(){var a;if(g.is_rss_podcast_video===!0)return null;a=(a=g.video_player_shaka_live_p2p_init)==null?void 0:a.json_encoded_video_data;if(a==null)return null;if(b("cr:1604324")==null)return c("recoverableViolation")("VideoData is not supported","comet_video_player");var e=null;try{e=new(b("cr:1604324"))(JSON.parse(a))}catch(a){c("recoverableViolation")("VideoData JSON is broken","comet_video_player")}return d("VideoPlayerShakaImplementationData").makeShakaImplementationData({videoData:e,videoPlayerShakaConfig:f})},[g,f])}g["default"]=a}),98);
__d("useVideoImplementationsImpl",["CometRelay","ErrorMetadata","VideoPlayerOzImplementationV2.react","VideoPlayerProgressiveImplementationV2.react","cr:1604325","err","gkx","manifestHasUnsupportedCodecs","recoverableViolation","useOzImplementationData","useProgressiveImplementationData","useShakaImplementationData","useVideoImplementationsImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=[],g=e.forceProgressiveImpl;g=g===void 0?!1:g;var i=e.initialForceHD;i=i===void 0?!1:i;var j=e.manifestURL_DO_NOT_USE,k=e.ozQuickStarterData,l=e.videoFBID;e=e.videoPlayerShakaConfig;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsImpl_video.graphql"),a);var m=c("useShakaImplementationData")(a,{videoPlayerShakaConfig:e});m!=null&&(b("cr:1604325")==null?c("recoverableViolation")("VideoPlayerShakaImplementation is not supported","comet_video_player"):f.push({Component:b("cr:1604325"),data:m,typename:"VideoPlayerShakaImplementation"}));m=c("useOzImplementationData")(a,{manifestURL_DO_NOT_USE:j,ozQuickStarterData:k,videoPlayerShakaConfig:e});j=m!=null&&c("manifestHasUnsupportedCodecs")(m.manifest);!g&&m!=null&&(m.manifest!=null&&!j||m.manifestUrl!=null)&&f.push({Component:c("VideoPlayerOzImplementationV2.react"),data:m,typename:"VideoPlayerOzImplementation"});k=c("useProgressiveImplementationData")(a,{initialForceHD:i});c("VideoPlayerProgressiveImplementationV2.react")!=null&&k!=null&&f.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:k,typename:"VideoPlayerProgressiveImplementation"});if(f.length===0&&c("gkx")("1611172")){e=c("err")("Cannot play video: No matching video player implementations");a={forced_progressive:g,has_oz_data:m!=null,has_oz_manifest:(m==null?void 0:m.manifest)!=null,has_oz_manifest_url:(m==null?void 0:m.manifestUrl)!=null,has_oz_unsupported_codecs:j,has_progressive_data:k!=null};e.metadata=new(c("ErrorMetadata"))();e.metadata.addEntries(["COMET_VIDEO","VIDEO_ID",String(l)],["COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify(a)]);c("recoverableViolation")("useVideoImplementations: No matching video player implementations","comet_video_player",{error:e})}return f}g["default"]=a}),98);
__d("useVideoImplementations",["useVideoImplementationsImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsImpl")}),98);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","react","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a){var c=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);return i(function(){return d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:c.audio_availability,mutedSegmentsUnsanitized:c.muted_segments==null?[]:c.muted_segments.map(function(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}})})},[c.audio_availability,c.muted_segments])}g["default"]=a}),98);
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});f["default"]=a}),66);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","react","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo,j=1;e=.5;var k=new Map([["default",j],["quiet",e]]);function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioSettings_video.graphql"),a);a=(a=a.audio_settings)==null?void 0:a.video_volume_setting;var e="DEFAULT";switch(a){case"DEFAULT":case"QUIET":e=a;break;default:break}a=c("AudioSettingsVolumeSetting")[e];var f=(e=k.get(a))!=null?e:j;a=i(function(){return{preferredVolumeSetting:f}},[f]);return a}g["default"]=a}),98);
__d("useVideoPlayerCaptionsSettings",["CometRelay","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="DEFAULT",j="BLACK",k="WHITE",l="DEFAULT";function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerCaptionsSettings_video.graphql"),a);return{alwaysShowCaptions:(c=(c=a.captions_settings)==null?void 0:c.always_show_captions)!=null?c:!1,captionDisplayStyle:{captionsBackgroundColor:(c=(c=a.captions_settings)==null?void 0:c.captions_background_color)!=null?c:j,captionsBackgroundOpacity:(c=(c=a.captions_settings)==null?void 0:c.captions_background_opacity)!=null?c:i,captionsTextColor:(c=(c=a.captions_settings)==null?void 0:c.captions_text_color)!=null?c:k,captionsTextSize:(a=(c=a.captions_settings)==null?void 0:c.captions_text_size)!=null?a:l}}}g["default"]=a}),98);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);return{desiredLatencyMs:(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0,latencyToleranceMs:(a=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_latency_tolerance_ms)!=null?a:0}}g["default"]=a}),98);
__d("VideoPlayerRelay.react",["fbt","CastingStateHooks","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","CurrentUser","ErrorMetadata","InstreamVideoAdBreaksPlayer.react","JSResourceForInteraction","VideoPlayerFallbackCover.react","VideoPlayerRelay_video.graphql","VideoPlayerRetryableErrorBoundary.react","VideoPlayerXImplRelayWrapper.react","cr:12303","cr:1446473","cr:1701936","cr:1996722","defaultErrorBoundaryFallback","deferredLoadComponent","err","getAvailableMimeCodecsFromDashManifest","getVideoPlayerAutoplayProps","gkx","lazyLoadComponent","normalizeVideoPlayerLoopCount","react","recoverableViolation","requireDeferredForDisplay","unrecoverableViolation","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useOzQuickStarterData","usePremiumMusicVideoInterruptionSubscription","useVideoImplementations","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerCaptionsSettings","useVideoPlayerLiveLatencyKnobSettings"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useMemo,l=c("gkx")("5128"),m=c("gkx")("5194"),n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react").__setRef("VideoPlayerRelay.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("VideoPlayerVideoIsCastingCover.react").__setRef("VideoPlayerRelay.react"));function p(a){var e,f=a.accessToken,g=a.adClientToken,p=a.additionalLogData,q=a.audioOnly,r=a.autoplayGatingResult,s=a.bufferEndLimit,t=a.canAutoplay,u=a.children,v=a.disableCVCSubscription;v=v===void 0?!1:v;var w=a.disableLoadingIndicator;w=w===void 0?!1:w;var x=a.disableLogging,y=a.externalLogID,z=a.externalLogType,A=a.graphQLVideoDRMInfo,B=a.initialForceHD,C=B===void 0?!1:B;B=a.initialTracePolicy;var D=a.loadSequence,E=a.loopCount,F=a.manifestURL_DO_NOT_USE,G=a.playerFormat;G=G===void 0?"inline":G;var H=a.playerOriginOverride,I=a.portalingEnabled,J=a.portalingFromVideoID,aa=a.portalingPlaceMetaData,ba=a.portalingRenderPlaceholder,ca=a.source_VPL_LOGGING_HACK,da=a.startTimestamp,K=a.subOrigin,L=a.video,M=a.volumeSetting;a=a.wrapVideoPixels_EXPERIMENTAL;c("usePremiumMusicVideoInterruptionSubscription")(c("CurrentUser").getID());var N=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerRelay_video.graphql"),L);L=N.dash_prefetch_experimental;e=((e=N.video_available_captions_locales)!=null?e:[]).find(function(a){a=a.localized_creation_method;return a!=null})!=null;var O=b("cr:1701936")(N,{adClientToken:g}),ea=b("cr:1996722")(N.id),fa=c("useGraphQLVideoP2PSettings")(N),P=c("useGraphQLVideoDRMInfo")(N);P=(A=A)!=null?A:P;A=!!(P&&P.fairplayCert!==null);var Q=c("useOzQuickStarterData")(N),R=A||l&&!!N.is_live_streaming||m&&typeof MediaSource==="undefined";A=k(function(){return{forceProgressiveImpl:R,initialForceHD:C,manifestURL_DO_NOT_USE:F,ozQuickStarterData:Q,videoFBID:N.id,videoPlayerShakaConfig:O}},[R,C,F,Q,N.id,O]);A=c("useVideoImplementations")(N,A);var S=c("useVideoPlayerCaptionsSettings")(N),ga=c("useVideoPlayerAudioSettings")(N),T=c("useVideoPlayerLiveLatencyKnobSettings")(N),ha=T.desiredLatencyMs;T=T.latencyToleranceMs;var ia=c("useVideoPlayerAudioAvailabilityInfoRelay")(N),U=c("useGraphQLVideoAutoplayGatingResult")(N);U=c("getVideoPlayerAutoplayProps")(U,t,r);t=b("cr:1446473")(N);r=b("cr:12303")(N);var ja=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("InstreamVideoAdBreaksPlayer.react"),{playerFormat:G,subOrigin:K,video:N})}),V=d("CastingStateHooks").useCastingVideoID(),W=N.id;if(W==null)throw c("unrecoverableViolation")("Cannot play video: Empty video ID","comet_video_player");var X=null;if(c("gkx")("1076")&&!R&&N.dash_manifest!=null&&N.dash_manifest!==""){var Y=c("getAvailableMimeCodecsFromDashManifest")(N.dash_manifest);(Y.length<=0||!Y.every(function(a){return a.isRequiredForPlayback&&a.isTypeSupported||!a.isRequiredForPlayback}))&&(X=N.is_live_streaming===!0?h._(/*FBT_CALL*/"Sorry, this live video cannot be played on your current browser or hardware."/*FBT_CALL*/):null)}Y=N.unsupported_browser_message!=null?N.unsupported_browser_message:X;if(Y!=null){X=c("err")("Cannot play video: Browser is not supported");X.metadata=new(c("ErrorMetadata"))();X.metadata.addEntry("COMET_VIDEO","VIDEO_ID",W);c("recoverableViolation")("Cannot play video: Browser is not supported","comet_video_player",{error:X});return j.jsx(c("VideoPlayerFallbackCover.react"),{message:Y})}if(!A.length){X=c("err")("Cannot play video: No matching video player implementations");X.metadata=new(c("ErrorMetadata"))();X.metadata.addEntry("COMET_VIDEO","VIDEO_ID",W);throw c("unrecoverableViolation")("Cannot play video: No matching video player implementations","comet_video_player",{error:X})}Y=N.permalink_url;X=N.spherical_video_renderer;X=X?j.jsx(d("CometRelay").MatchContainer,{match:X,props:{playerFormat:G,sphericalVideoRenderer:X,subOrigin:K,videoTahoeUrl:Y}}):null;Y=N.is_spherical;var Z=N.is_spherical_enabled,$=N.permalink_url;if(Y===!0&&Z!==!0){if($==null||$==="")throw c("unrecoverableViolation")("Cannot play video: Empty permalink URL for a spherical video","comet_video_player");return j.jsx(n,{videoTahoeUrl:$})}if(V!=null&&V===N.id)return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(o,{video:N})});Y=c("gkx")("1477051")?!1:g!=null;Z=c("normalizeVideoPlayerLoopCount")(E,N.is_looping,N.loop_count);return j.jsx(c("VideoPlayerXImplRelayWrapper.react"),{VideoPlayerShakaPerformanceLoggerClass:t,accessToken:f,adClientToken:g,additionalLogData:p,alt:c("gkx")("1924962")?N.animated_image_caption:void 0,alwaysShowCaptions:S.alwaysShowCaptions,areCaptionsAutogenerated:e,audioAvailabilityInfo:ia,audioOnly:N.is_podcast_video===!0||q,autoplayGatingResult:U.autoplayGatingResult,autoplaySetting:U.autoplaySetting,broadcastId:N.broadcast_id,broadcastStatus:N.broadcast_status,broadcasterOrigin:N.broadcaster_origin,bufferEndLimit:s,canAutoplay:U.canAutoplay,captionDisplayStyle:S.captionDisplayStyle,captionsUrl:N.captions_url,children:u,desiredLatencyMs:ha,disableCVCSubscription:v,disableLoadingIndicator:w,disableLogging:x,expiredVideoUrlRefreshHandler:ea,externalLogID:y,externalLogType:z,graphQLVideoDRMInfo:P,graphQLVideoP2PSettings:fa,implementations:A,initialRepresentationIds:L,initialTracePolicy:B,instreamVideoAdBreaksPlayer:ja,isLiveStreaming:N.is_live_streaming,isLiveTraceEnabled:N.is_live_trace_enabled,isNCSR:N.is_ncsr,isPremiumMusicVideo:N.pmv_metadata!=null,isVideoBroadcast:N.is_video_broadcast,latencyToleranceMs:T,loadSequence:D,loopCount:Z,originalHeight:N.original_height,originalWidth:N.original_width,playerFormat:G,playerOriginOverride:H,portalingEnabled:I&&!Y,portalingFromVideoID:J,portalingPlaceMetaData:aa,portalingRenderPlaceholder:ba,source_VPL_LOGGING_HACK:ca,startTimestamp:da,subOrigin:K,videoFBID:W,videoPlayerShakaPerformanceLoggerBuilder:r,videoPlayerSpherical:X,volumeSetting:M!==void 0?M:ga.preferredVolumeSetting,wrapVideoPixels_EXPERIMENTAL:a},W)}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;b=b===void 0?!1:b;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:13,children:j.jsx(p,babelHelpers["extends"]({},a))});return b?a:j.jsx(c("VideoPlayerRetryableErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:(b=d)!=null?b:c("defaultErrorBoundaryFallback"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCaptionsDisplayConfigContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({liveCaptionsTextAlignment:null,textSizeMapping:null});g["default"]=b}),98);
__d("VideoPlayerCaptionsDisplay.react",["VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","gkx","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={captionsCenterAlign:{justifyContent:"taijpn5t",textAlign:"oqcyycmt"},captionsContainer:{bottom:"lhzng9rx",boxSizing:"rq0escxv",display:"j83agx80",justifyContent:"taijpn5t",paddingLeft:"k2nzzd71",paddingRight:"cnyvn6ex",position:"pmk7jnqg",textAlign:"oqcyycmt",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",width:"k4urcfbm"},captionsDefault:{backgroundColor:"d6rk862h",color:"ljqsnud1",fontSize:"a5q79mjw",fontWeight:"ekzkrbhg",lineHeight:"j8p27hm0",marginTop:"kvgmc6g5",marginEnd:"nw5zvenu",marginBottom:"oygrvhab",marginStart:"pbhxczp3",paddingTop:"debrwdc1",paddingEnd:"m4n6deaq",paddingBottom:"pwvavz3a",paddingStart:"n1w2zk5c"},captionsLeftAlign:{justifyContent:"jifvfom9",textAlign:"hzawbc8m"},captionsRightAlign:{justifyContent:"bkfpd7mw",textAlign:"ftzlm3b6"}},k={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},l={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},m={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function n(a){switch(a){case"center":return j.captionsCenterAlign;case"left":return j.captionsLeftAlign;case"right":return j.captionsRightAlign;default:c("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function o(a,b,c){var d={},e=a.captionsBackgroundColor,f=a.captionsBackgroundOpacity,g=a.captionsTextColor;a=a.captionsTextSize;if(e!==null){f=f!==null?l[f]:1;d.backgroundColor="rgba("+m[e]+","+f+")"}g!==null&&(d.color="rgba("+m[g]+")");a!==null&&(d.fontSize=b!=null?babelHelpers["extends"]({},k,b)[a]:k[a]);c&&(d.marginBottom=35);return d}function a(a){var b=a.activeCaptions,e=a.adjustments;a=a.captionDisplayStyle;var f=b==null?void 0:b.rows,g=i(c("VideoPlayerCaptionsDisplayConfigContext")),k=g.liveCaptionsTextAlignment;g=g.textSizeMapping;var l=i(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext);l=(l==null?void 0:l.getBottomRowAddOn())!=null;var m={};c("gkx")("5104")&&a&&(m=o(a,g,l));a=d("VideoPlayerHooks").useIsLive();b=(l=b==null?void 0:(g=b.styles)==null?void 0:g.textAlignment)!=null?l:"center";if(f!=null&&f.length>0){g=f.map(function(a){return a.trim()}).filter(function(a){return!!a});return g.length>0?h.jsx("div",{className:c("stylex")(j.captionsContainer,n(a?(l=k)!=null?l:b:b)),style:{paddingLeft:e.left,paddingRight:e.right,transform:"translateY("+-e.bottom+"px)"},children:h.jsx("div",{className:c("stylex")(j.captionsDefault),style:m,children:g.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);e=b;g["default"]=e}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=d("VideoPlayerHooks").useVideoPlayerCaptionsReservations(),b=h(function(){var b={bottom:0,left:0,right:0,top:0};a.length>0&&a.forEach(function(a){b[a.location]+=a.size});return b},[a]);return b}g["default"]=a}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","useVideoPlayerCaptionsDisplayAdjustments"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("VideoPlayerHooks").useActiveCaptions(),b=c("useVideoPlayerCaptionsDisplayAdjustments")(),e=d("VideoPlayerHooks").useCaptionDisplayStyle();return h.jsx(c("VideoPlayerCaptionsDisplay.react"),{activeCaptions:a,adjustments:b,captionDisplayStyle:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useReducer,j=b.useState;function k(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var b=i(k,[]),e=b[0],f=b[1];b=j({release:function(a){f({reservation:a,type:"release"})},reserve:function(a){f({reservation:a,type:"reserve"});return a}});b=b[0];var g=d("VideoPlayerHooks").useCaptionsVisible();return h.jsx(d("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext.Provider,{value:b,children:h.jsxs(d("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext.Provider,{value:e,children:[g?h.jsx(c("VideoPlayerCaptions.react"),{}):null,a]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","TetraText.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=c("gkx")("1224637")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";return i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:i.jsx(c("CometLink.react"),{href:a,children:h._(/*FBT_CALL*/"Learn More"/*FBT_CALL*/)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCoverImplWithRetry.react",["fbt","ix","TetraText.react","VideoPlayerActionButton.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var e=a.debugError,f=a.message;a=a.onRetry;return j.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 stjgntxs ni8dbmo4 taijpn5t datstx6m j83agx80 ora8z2hr bp9cbjyn",children:j.jsxs("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:[j.jsx("div",{className:"d2edcug0 cbu4d94t j83agx80 bp9cbjyn",children:j.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:f})}),a?j.jsx("div",{className:"d2edcug0 tr9rh885 cbu4d94t j83agx80 bp9cbjyn",children:j.jsx(c("VideoPlayerActionButton.react"),{icon:d("fbicon")._(i("534218"),16),label:h._(/*FBT_CALL*/"Try Again"/*FBT_CALL*/),onPress:a,testid:void 0})}):j.jsx("div",{className:"d2edcug0 tr9rh885 cbu4d94t j83agx80 bp9cbjyn",children:j.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})}),b("cr:1672302")?j.jsx(b("cr:1672302"),{error:e}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["TetraText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.debugError,e=a.message;a.onRetry;return h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg stjgntxs ni8dbmo4 taijpn5t n7fi1qx3 j83agx80 rq0escxv i09qtzwb ora8z2hr bp9cbjyn",children:h.jsxs("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:[h.jsx("div",{className:"d2edcug0 cbu4d94t j83agx80 bp9cbjyn",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:e})}),h.jsx("div",{className:"d2edcug0 tr9rh885 cbu4d94t j83agx80 bp9cbjyn",children:h.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})}),b("cr:1672302")?h.jsx(b("cr:1672302"),{error:d}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SphericalMediaGyroOverlay.react",["cx","CSS","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=800,k=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!1);return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootRef=i.createRef(),b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this;if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=b.rootRef.current;a instanceof Element&&d("CSS").hide(a)},j);else if(!this.props.isActive){a=this.rootRef.current;a instanceof Element&&d("CSS").hide(a)}};e.componentDidMount=function(){if(!this.props.isActive){var a=this.rootRef.current;a instanceof Element&&d("CSS").hide(a)}};e.render=function(){var a=this.props,b=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=k(d,e,a);return i.jsx("div",{className:c("joinClasses")(b,d.gyroRoot),ref:this.rootRef,children:i.jsxs("div",{className:d.gyroOuter,children:[i.jsxs("div",{className:d.gyroInner,children:[i.jsx("div",{className:d.gyroMeridian}),i.jsx("div",{className:d.gyroEquator})]}),i.jsx("div",{className:d.gyroTextShell,children:i.jsx("span",{className:d.gyroText,children:"360"})})]})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("VideoPlayerSphericalFallbackCover.react",["fbt","SphericalMediaGyroOverlay.react","TetraText.react","react","unrecoverableViolation","useCometRouterDispatcher","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=a.videoTahoeUrl,d=c("useCometRouterDispatcher")();a=j(!1);var e=a[0],f=a[1];if(d==null)throw c("unrecoverableViolation")("Missing CometRouterDispatcher","comet_video_player");a=c("useFeedClickEventHandler")(function(){d.go(b,{})});return i.jsxs("div",{className:"kr520xx4 j9ispegn pmk7jnqg bkfpd7mw cbu4d94t n7fi1qx3 j83agx80 nhd2j8a9 rq0escxv i09qtzwb bp9cbjyn",onClick:a,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},role:"link",tabIndex:0,children:[i.jsx(c("SphericalMediaGyroOverlay.react"),{isActive:!0}),i.jsx("div",{className:"l9j0dhe7 i7orit0i",children:e?i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"bodyLink3",children:h._(/*FBT_CALL*/"Click to expand"/*FBT_CALL*/)}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","react","stylex","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=36;function a(a){a=a.isVisible;var b=c("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:c("stylex").dedupe({"height-1":"tv7at329","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","start-1":"kfkz5moi","top-1":"rk01pc8j","transform-0.1":"py2didcb","transition-delay-1":"chkx7lpg","transition-duration-1":"kmdw4o4n","transition-property-1":"art1omkt","transition-timing-function-1":"e4zzj2sf","width-1":"thwo4zme"},a?null:{"opacity-1":"b5wmifdl","transition-delay-1":"hwaazqwg","transition-duration-1":"kmdw4o4n","transition-property-1":"l23jz15m","transition-timing-function-1":"e4zzj2sf","visibility-1":"kr9hpln1"}),children:h.jsx(c("CometLoadingAnimation.react"),{animationPaused:!b,size:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSurface.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children!=null?this.props.children:null};return b}(a.PureComponent);g["default"]=b}),98);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress,e=a.onUserInteraction,f=a.shouldUnmute,g=d("VideoPlayerHooks").useController(),k=d("VideoPlayerHooks").useIsFullscreen(),l=d("VideoPlayerHooks").useLastMuteReason();a=k?h._(/*FBT_CALL*/"Exit fullscreen"/*FBT_CALL*/):h._(/*FBT_CALL*/"Enter fullscreen"/*FBT_CALL*/);var m=function(){b&&b(),g.requestSetIsFullscreen(!k),f===!0&&l!=="user_initiated"&&g.setMuted(!1,"product_initiated"),e&&e({name:"video_fullscreen_button",type:"happened"})};return j.jsx(c("VideoPlayerControlIcon.react"),{icon:k?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:a,onPress:m,tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=5e3;function a(a){a=a===void 0?{}:a;var b=a.forceVisible,e=a.forceVisibleOnMount;a.isInteracting;a=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter();var f=a.ongoingInteractionsCount;a=a.onUserInteraction;var g=d("VideoPlayerHooks").useEnded(),k=d("VideoPlayerHooks").useIsHovering(),l=d("VideoPlayerHooks").usePaused(),m=d("VideoPlayerHooks").useIsMouseIdle(),n=d("VideoPlayerHooks").useVideoPlaybackEnded(),o=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",k&&!m,a);k=i(e===!0);var p=k[0],q=k[1];h(function(){if(!l&&p){var a=c("setTimeout")(function(){q(!1)},j);return function(){c("clearTimeout")(a)}}},[p,l]);b===!0||b===!1?m=b:o?m=!1:f>0||p?m=!0:l?m=g?n:!0:m=!1;return{isControlsVisible:m,onUserInteraction:a}}g["default"]=a}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","emptyFunction","react","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=(e=b("cr:1875194"))!=null?e:c("emptyFunction"),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),l=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=a.forceVisible,g=a.forceVisibleOnMount,m=a.mutedButtonVisibility,n=a.pictureInPictureControl,o=a.renderExpandControl,p=a.shouldRenderCostreamControl,q=a.shouldRenderLivePauseControl,r=a.shouldRenderModeratorControl,s=a.shouldRenderQuietModeControl,t=a.shouldRenderWatchAndScrollControl,u=a.shouldUnmuteForBigPlayButton,v=a.skipControl,w=a.subOrigin,x=a.video;a=a.videoTahoeUrl;x=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),x);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var y=j();y=y!=null?y.isSilentAtPlayhead:!1;var z=d("VideoPlayerHooks").useMuted(),A=d("VideoPlayerHooks").useIsLive();g=c("useVideoPlayerDefaultControlsVisibility")({forceVisible:f,forceVisibleOnMount:g});var B=g.isControlsVisible;g=g.onUserInteraction;f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f===!1?!1:void 0,shouldUnmute:u});u=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;B=B&&!f&&e;e=m===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?B:(z||B||y)&&!f;m=o!=null?o({onUserInteraction:g}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g});z=A?i.jsx(k,{expandControl:m,isControlsVisible:B,isVolumeControlVisible:e,onUserInteraction:g,shouldRenderCostreamControl:p,shouldRenderModeratorControl:r,shouldRenderPauseControl:q,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,subOrigin:w,video:x,videoTahoeUrl:a}):i.jsx(l,{expandControl:m,isControlsVisible:B,isVolumeControlVisible:e,onUserInteraction:g,pictureInPictureControl:n,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,skipControl:v,subOrigin:w,video:x,videoTahoeUrl:a});return i.jsxs(i.Fragment,{children:[u,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:z})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){var c;a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var e=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null;if(e!=null&&((c=a.video_player_shaka_performance_logger_init2)==null?void 0:c.per_session_sampling_rate)!==null){return new e({perSessionSamplingRate:(c=a.video_player_shaka_performance_logger_init2)==null?void 0:c.per_session_sampling_rate})}return null}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);var c=a.video_player_shaka_performance_logger_init?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null;c!=null&&a.video_player_shaka_performance_logger_should_sample===!0&&c.forceShouldSample();return c}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoPlayerShakaPerformanceLoggerRelayImpl")}),98);
__d("makeOzPlayerAudioStreamEventDataHandler",["DataViewReader","FBLogger","Mp4DASHEventMessageBox","Mp4Demuxer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.bind(null,a)}function h(a,b,d){if(a.getCurrentState().controlledState.emsgObserverTokens.size===0)return;b=new(c("Mp4Demuxer"))(new DataView(d));while(!b.atEnd()){d=b.parseBox();if(d.getType()===c("Mp4DASHEventMessageBox").canonicalType){var e=b.parseCanonicalBox(c("Mp4DASHEventMessageBox"),b.parseFullBox(d));if(e instanceof c("Mp4DASHEventMessageBox")){var f=i(e);f!=null&&a.dispatch({payload:{emsgBox:{box:e,payload:f}},type:"emsg_box_received"})}}b.skipBox(d)}}function i(a){try{a=a.getMessageData();a=new(c("DataViewReader"))(a).readZeroTerminatedString(a.byteLength);a=JSON.parse(a);return j(a)}catch(a){c("FBLogger")("comet_video_player").catching(a).warn("Parsing emsg data failed: %s",String(a))}return null}function j(a){a=k(a.rosterData);return a==null?null:{data:a,type:"roster_data"}}function k(a){if(typeof a!=="object"||!Array.isArray(a.speakerInfoList)||typeof a.activeSpeaker!=="string"&&typeof a.activeSpeaker!=="number")return null;return a.speakerInfoList.findIndex(function(a){return typeof a.audioMuted!=="boolean"||typeof a.id!=="string"&&typeof a.id!=="number"})!==-1?null:a}g["default"]=a}),98);
__d("useVideoPlayerShakaConfig",["CometRelay","VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","oz-player/networks/OzBandwidthEstimator","react","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useState;function a(a,e){e=e.adClientToken;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaConfig_video.graphql"),a),g=e!=null,k=f.is_spherical===!0,l=f.is_gaming_video===!0;e=c("useSelectedLatencySetting")((a=f.id)!=null?a:"null",f.selected_latency_setting);var m=e[0];a=j(function(){var a;return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}),content_category:l?"gaming":"general",fbls_tier:((a=f.fbls_tier)==null?void 0:a.startsWith("user"))?"user":"general",is_ad:g,is_latency_sensitive_broadcast:f.is_latency_sensitive_broadcast===!0,is_live:f.is_live_streaming===!0,is_spherical:k,latency_level:f.is_latency_menu_enabled===!0?m:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})});var n=a[0];i(function(){n.setContext("is_ad",g)},[n,g]);i(function(){n.setContext("is_spherical",k)},[n,k]);return n}g["default"]=a}),98);
__d("ZenonAppProvider",["FacebookAppIDs","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ZenonActorHooks").ZenonActor.getAppID()==null?null:Number(d("ZenonActorHooks").ZenonActor.getAppID());return a===d("FacebookAppIDs").INSTAGRAM_WEB||a===d("FacebookAppIDs").INSTAGRAM_WEB_DESKTOP}g.isInstagramApp=a}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor."+a+" - "+b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){return o.isInstagramUser()?c("CurrentUser").getEIMU():c("CurrentUser").getAccountID()},getAppID:function(){return c("CurrentUser").getAppID()},getID:function(){if(h===null){n("getID");return o.isInstagramUser()?c("CurrentUser").getEIMU():c("CurrentUser").getID()}else return h},getName:function(){var a;return(a=i)!=null?a:c("CurrentUser").getName()},getShortName:function(){var a;return(a=j)!=null?a:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744337");c=b("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e.exports=c}),null);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744338");c=b("FalcoLoggerInternal").create("rtc_web_user_actions",a);e.exports=c}),null);
__d("P2pReliabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1848277");c=b("FalcoLoggerInternal").create("p2p_reliability",a);e.exports=c}),null);
__d("ZenonIceStatsParser",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];a=a.split("\r\n");a.forEach(function(a){g(a)&&b.push({gen:h(a),type:i(a)})});return b}function g(a){return a.indexOf("candidate:")>-1}function h(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b}function i(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"}f.extractIceInfo=a}),66);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744334");c=b("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e.exports=c}),null);
__d("ZenonInfraActionsLogger",["Log","ODS","RpWebInfraActionsLoggerEventFalcoEvent","formatDate","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callID:void 0,callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("gkx")("2890"))return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$3.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$3.get(a);this.$3["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("gkx")("2716"))return;if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.callID)!=null?b:this.$1.callID==null?void 0:String(this.$1.callID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};b.logCounter=function(a){d("ODS").bumpEntityKey(4083,"zenon_multiway",a),d("ODS").flush()};return a}();b=new a();g["default"]=b}),98);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f["default"]=a}),66);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});f["default"]=a}),66);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12});f["default"]=a}),66);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f["default"]=a}),66);
__d("multiway_ConferenceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,GROUP:1,LIVE:3,MESSENGER:5,ALOHA:6,IGLIVE:8,IGVIDEOCALL:9,OCULUS:10,WATCH:13,GUEST:14,ROOM:15,DEBUGTOOL:16,ROBOCALL:17,DARWIN:19,CRUCIBLE:20});f["default"]=a}),66);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});f["default"]=a}),66);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17});f["default"]=a}),66);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1});f["default"]=a}),66);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10});f["default"]=a}),66);
__d("multiway_MediaPath",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});f["default"]=a}),66);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});f["default"]=a}),66);
__d("multiway_MessageTag",[],(function(a,b,c,d,e,f){a=Object.freeze({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003});f["default"]=a}),66);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27});f["default"]=a}),66);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17});f["default"]=a}),66);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6});f["default"]=a}),66);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f["default"]=a}),66);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LIVESTREAM_INPUT_DESERIALIZATION_FAILED:4030,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,OK:9e3});f["default"]=a}),66);
__d("multiway_SubscriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2});f["default"]=a}),66);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});f["default"]=a}),66);
__d("ZenonMWMessageTypes",["$InternalEnum","fbwebrtc_ClientStack","multiway_ApprovalStatus","multiway_Capability","multiway_ClientEventType","multiway_ConferenceType","multiway_DeviceStatus","multiway_DismissReason","multiway_EndpointServiceType","multiway_HangupReason","multiway_MediaPath","multiway_MediaPauseStatus","multiway_MessageTag","multiway_MessageType","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_SubscriptionType","multiway_VideoQuality"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});g.ZenonMWClientStack=c("fbwebrtc_ClientStack");g.ZenonMWApprovalStatus=c("multiway_ApprovalStatus");g.ZenonMWCapability=c("multiway_Capability");g.ZenonMWClientEventType=c("multiway_ClientEventType");g.ZenonMWConferenceType=c("multiway_ConferenceType");g.ZenonMWDeviceStatus=c("multiway_DeviceStatus");g.ZenonMWDismissReason=c("multiway_DismissReason");g.ZenonMWEndpointServiceType=c("multiway_EndpointServiceType");g.ZenonMWHangupReason=c("multiway_HangupReason");g.ZenonMWMediaPath=c("multiway_MediaPath");g.ZenonMWMediaPauseStatus=c("multiway_MediaPauseStatus");g.ZenonMWMessageTag=c("multiway_MessageTag");g.ZenonMWSignalingPayloadType=c("multiway_MessageType");g.ZenonMWParticipantCallState=c("multiway_ParticipantCallState");g.ZenonMWRingType=c("multiway_RingType");g.ZenonMWResponseStatusCode=c("multiway_RtcResponseStatusCode");g.ZenonMWResponseSubCode=c("multiway_RtcResponseSubCode");g.ZenonMWSubscriptionType=c("multiway_SubscriptionType");g.ZenonMWVideoQuality=c("multiway_VideoQuality");g.ZenonMWTrackLabel=a}),98);
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze((a={},a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN]="JOIN",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE]="ICE_CANDIDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP]="HANGUP",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING]="RING",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS]="DISMISS",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE]="CONFERENCE_STATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION]="SUBSCRIPTION",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE]="DATA_MESSAGE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING]="PING",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.P2P_PROTOCOL]="P2P_PROTOCOL",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY]="NOTIFY",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONNECT]="CONNECT",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT]="CLIENT_EVENT",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE]="UNSUBSCRIBE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE]="UPDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL]="APPROVAL",a));c=b;g["default"]=c}),98);
__d("OverlayConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={OverlayConfigNumParameters:1705,OverlayConfigNotPresentFlagValue:-1};e.exports=a}),null);
__d("OverlayConfigLayerSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,DEFAULT:1,MOBILECONFIG:2,APP_CRUCIBLE:3,APP_JNI:4,UNIT_TEST:5,SERVER:6,PLACEHOLDER:7,LS_MOBILECONFIG:8,APP_LS:9,APP_JS:10,BROWSER:11,APP_OVRRTC:12,APP_IG:13,MLITE4A_LEGACY_QE:14,APP_MLITE4A:15,APP_PORTAL:16,IG_LAUNCHER:17,APP_ARCHON:18,APP_WS:19,APP_NOX:20,APP_WEARABLE_MSNGR:21,APP_WEARABLE_IG:22,APP_ORCA_RSYS:23,APP_WILDE:24,APP_MKIOS:25,APP_MK4A:26,DYNAMIC:27,SDK_DEFAULT:28,APP_FB4A:29,APP_RSYS_SDK_SAMPLE:30,APP_BIZAPP:31});e.exports=a}),null);
__d("OverlayConfigServerLayer",["OverlayConfigConstants","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.createFromHeader=function(b){try{b=b==null?void 0:(b=b.extensions)==null?void 0:b.oc1_json;if(b==null)return null;b=JSON.parse(b);b=b==null?void 0:b.values;return b==null?null:new a(b)}catch(a){return null}};function a(a){this.$1=a}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").SERVER};b.getValue=function(a){a=this.$1[String(a)];return a!=null?a:d("OverlayConfigConstants").OverlayConfigNotPresentFlagValue};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("ZenonEndCallReason",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BREAKOUT_SESSION_SWITCH_ROOM:"BreakoutSessionSwitchRoom",CALL_END_ACCEPT_AFTER_HANG_UP:"CallEndAcceptAfterHangUp",CALLER_NOT_VISIBLE:"CallerNotVisible",CAMERA_PERMISSION_DENIED:"CameraPermissionDenied",CARRIER_BLOCKED:"CarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError",CLIENT_ERROR:"ClientError",CLIENT_INTERRUPTED:"ClientInterrupted",CONNECTION_DROPPED:"ConnectionDropped",HANGUP_CALL:"HangupCall",IGNORE_CALL:"IgnoreCall",IN_ANOTHER_CALL:"InAnotherCall",INACTIVE_TIMEOUT:"InactiveTimeout",INCOMING_TIMEOUT:"IncomingTimeout",MAX_ALLOWED_PARTICIPANTS_REACHED:"MaxAllowedParticipantsReached",MICROPHONE_PERMISSION_DENIED:"MicrophonePermissionDenied",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",NO_PERMISSION:"NoPermission",NO_UI_SHOWN:"NoUIShown",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",OTHER_NOT_CAPABLE:"OtherNotCapable",RING_MUTED:"RingMuted",SESSION_MIGRATED:"SessionMigrated",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",TX_ACK_TIMEOUT:"TxAckTimeout",UNEXPECTED_END_OF_CALL:"UnexpectedEndOfCall",UNKNOWN:"Unknown",VERSION_UNSUPPORTED:"VersionUnsupported",WEBRTC_ERROR:"WebRTCError"});c=a;f["default"]=c}),66);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),66);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","RollbackSdpFailed","UnknownError"]);f.ZenonMediaError=a}),66);
__d("ZenonDismissReason",["$InternalEnum","FBLogger","ZenonIncomingRingSDKTypes","ZenonMWMessageTypes","ZenonMediaError"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33});function a(a){switch(a){case"BreakoutSessionSwitchRoom":return h.HangupCall;case"CallEndAcceptAfterHangUp":return h.AcceptAfterHangUp;case"CallerNotVisible":return h.CallerNotVisible;case"CarrierBlocked":return h.CarrierBlocked;case"ClientEncryptionError":return h.ClientEncryptionError;case"ClientError":return h.ClientError;case"ClientInterrupted":return h.ClientInterrupted;case"ConnectionDropped":return h.ConnectionDropped;case"HangupCall":return h.HangupCall;case"IgnoreCall":return h.IgnoreCall;case"InAnotherCall":return h.InAnotherCall;case"InactiveTimeout":return h.CallEnded;case"IncomingTimeout":return h.IncomingTimeout;case"MaxAllowedParticipantsReached":return h.MaxAllowedParticipantsReached;case"NoAnswerTimeout":return h.NoAnswerTimeout;case"NoPermission":return h.NoPermission;case"NoUIShown":return h.NoUIShown;case"OtherCarrierBlocked":return h.OtherCarrierBlocked;case"OtherInstanceHandled":return h.OtherInstanceHandled;case"OtherNotCapable":return h.OtherNotCapable;case"SignalingMessageFailed":return h.SignalingMessageFailed;case"UnexpectedEndOfCall":return h.UnexpectedEndOfCall;case"Unknown":return h.CallEnded;case"VersionUnsupported":return h.VersionUnsupported;case"WebRTCError":return h.WebRTCError;case"MicrophonePermissionDenied":return h.MicrophonePermissionDenied;case"CameraPermissionDenied":return h.CameraPermissionDenied;case"SessionMigrated":return h.SessionMigrated;case"RingMuted":return h.RingMuted;case"TxAckTimeout":return h.TxAckTimeout}}function e(a){switch(a){case h.CallEnded:case h.CallEndedByProduct:case h.HangupCall:return"HangupCall";case h.IgnoreCall:case h.JoinApprovalDenied:case h.RejectedByCallee:return"IgnoreCall";case h.InAnotherCall:return"InAnotherCall";case h.AcceptAfterHangUp:return"CallEndAcceptAfterHangUp";case h.NoAnswerTimeout:return"NoAnswerTimeout";case h.IncomingTimeout:return"IncomingTimeout";case h.AnsweredOnAnotherDevice:case h.CallCollision:case h.RejectedOnAnotherDevice:case h.OtherInstanceHandled:return"OtherInstanceHandled";case h.SignalingMessageFailed:return"SignalingMessageFailed";case h.ConnectionDropped:return"ConnectionDropped";case h.ClientInterrupted:return"ClientInterrupted";case h.WebRTCError:return"WebRTCError";case h.ClientError:return"ClientError";case h.NoPermission:return"NoPermission";case h.OtherNotCapable:return"OtherNotCapable";case h.NoUIShown:return"NoUIShown";case h.VersionUnsupported:return"VersionUnsupported";case h.CallerNotVisible:return"CallerNotVisible";case h.CarrierBlocked:return"CarrierBlocked";case h.OtherCarrierBlocked:return"OtherCarrierBlocked";case h.ClientEncryptionError:return"ClientEncryptionError";case h.UnexpectedEndOfCall:return"UnexpectedEndOfCall";case h.MaxAllowedParticipantsReached:return"MaxAllowedParticipantsReached";case h.MicrophonePermissionDenied:return"MicrophonePermissionDenied";case h.CameraPermissionDenied:return"CameraPermissionDenied";case h.SessionMigrated:return"SessionMigrated";case h.RingMuted:return"RingMuted";case h.TxAckTimeout:return"TxAckTimeout"}c("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return"Unknown"}function f(a){switch(a){case h.OtherInstanceHandled:case h.AnsweredOnAnotherDevice:case h.RejectedOnAnotherDevice:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function i(a){switch(a){case d("ZenonMediaError").ZenonMediaError.IceDisconnected:return h.ConnectionDropped;case d("ZenonMediaError").ZenonMediaError.IceFailure:case d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:case d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed:return h.WebRTCError;case d("ZenonMediaError").ZenonMediaError.UnknownError:return h.ClientError}}function j(a){return k[a]}var k=Object.freeze((b={},b[d("ZenonMWMessageTypes").ZenonMWDismissReason.CALL_ENDED]=h.CallEnded,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=h.AnsweredOnAnotherDevice,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.IN_ANOTHER_CALL]=h.InAnotherCall,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.CONNECTION_DROPPED]=h.ConnectionDropped,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=h.RejectedOnAnotherDevice,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.REJECTED_BY_CALLEE]=h.RejectedByCallee,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=h.CallEndedByProduct,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.INTERNAL_ERROR]=h.SignalingMessageFailed,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=h.HangupCall,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.TX_ACK_TIMEDOUT]=h.TxAckTimeout,b));g.ZenonDismissReason=h;g.endCallToDismissReason=a;g.dismissToEndCallReason=e;g.dismissReasonToCancelReason=f;g.mediaErrorToDismissReason=i;g.mwDismissToDmissReason=j}),98);
__d("ZenonCallsModelTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum")).Mirrored(["Disconnected","Precontacting","Contacting","Ringing","PendingApproval","Approved","FailedApproval","Connecting","Connected","Reconnecting","ProvisionalRinging"]);d=a.Mirrored(["Facebook","Instagram","Messenger","Guest","WhatsApp","Workplace"]);e=a.Mirrored(["New","Connecting","PendingApproval","Connected","Terminating","Terminated"]);b=a.Mirrored(["Unknown","CallsBlocked"]);var g=a.Mirrored(["None","PendingPeerFeedback","Declined","RemoteDeclined","LocalDeclined","Cancelled","TimedOut","Accepted","InitiatedFromPeer"]);a=a.Mirrored(["Started","Completed","Cancelled"]);f.ZenonCallParticipantState=c;f.ZenonCallParticipantType=d;f.ZenonCallState=e;f.ZenonEndCallSubreason=b;f.ZenonVideoEscalationStatus=g;f.ZenonGroupEscalationStatus=a}),66);
__d("ZenonParticipantState",["$InternalEnum","ZenonCallsModelTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,NEGOTIATING:8,CONNECTING:9,CONNECTED:10,PARTICIPANT_LIMIT_REACHED:11,IN_ANOTHER_CALL:12,RING_TYPE_UNSUPPORTED:13,PENDING_APPROVAL:14,APPROVED:15,FAILED_APPROVAL:16,HANGUP_IN_WAITING_ROOM:17,UNCALLABLE:18});function a(a){if(a==null)return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case h.CONTACTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case h.RINGING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case h.NEGOTIATING:case h.CONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case h.CONNECTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case h.PENDING_APPROVAL:return d("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case h.APPROVED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case h.FAILED_APPROVAL:return d("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case h.HANGUP_IN_WAITING_ROOM:case h.UNKNOWN:case h.DISCONNECTED:case h.NO_ANSWER:case h.REJECTED:case h.UNREACHABLE:case h.UNCALLABLE:case h.CONNECTION_DROPPED:case h.PARTICIPANT_LIMIT_REACHED:case h.IN_ANOTHER_CALL:case h.RING_TYPE_UNSUPPORTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}g.ZenonParticipantState=h;g.toCallParticipantState=a}),98);
__d("ZenonScreenShare",["UserAgent","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.length===1&&((a=a[0])==null?void 0:a.contentType)==="screen"}function b(){var a;return c("UserAgent").isBrowser("Safari")?!0:!(c("gkx")("1667037")||((a=c("qex")._("1728"))!=null?a:!1))}g.isScreenSharingTrack=a;g.screenShareWithReplaceTrack=b}),98);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","FacebookAppIDs","OverlayConfigServerLayer","ZenonActorHooks","ZenonDismissReason","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonParticipantState","ZenonScreenShare","ZenonSignalingProtocol","ZenonSignalingTypes","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i="signalingDominantSpeakerUpdate",j="signalingVideoUploadUpdate";function k(a){var b={multiwayCoreTier:"",multiwayWwwTier:""};if(!c("gkx")("678350"))return b;b.multiwayWwwTier=r(a,"multiway_www_tier");b.multiwayCoreTier=r(a,"multiway_core_tier");return b}function a(a,b,c){c===void 0&&(c=!1),a&&Object.keys(a).forEach(function(d){var e=a[d],f=e.data;e=e.version;if(f!=null){f={data:f,eventName:"stateSyncNotifyRequest",responseRequired:c,topic:d,version:e};b.push(f)}})}function b(a,b){var e={appId:p(),deviceId:c("ChannelClientID").getID(),userId:d("ZenonActorHooks").ZenonActor.getID()};return{endpoint:e,jsonPayload:{body:b,header:a}}}function e(a){a=d("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:d("ZenonDismissReason").ZenonDismissReason.CallEnded}function f(a,b){if(b===d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return d("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;switch(a){case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED:case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED:return d("ZenonDismissReason").ZenonDismissReason.NoPermission;case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE:return d("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK:throw c("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:c("ZenonInfraActionsLogger").logError({callType:"mw",checkpoint:"[ZP] Got unexpected JOIN response status, dismissing as ClientError: "+a+" subcode "+((a=b)!=null?a:"[undefined]"),errorDomain:"fromMWJoinResponseStatusToDismissReason"});return d("ZenonDismissReason").ZenonDismissReason.ClientError}}function l(a){a=M[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN}function m(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b}function n(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)try{return atob(c.data)}catch(a){return c.data}else if(b)return JSON.stringify(b);else if(a)return JSON.stringify(a);return null}function o(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)return c.topic;else if(b)return i;else if(a)return j;return null}function p(){var a=c("CurrentUser").getAppID();return a!==null&&a!==void 0&&(a===c("FacebookAppIDs").INSTAGRAM_WEB_DESKTOP.toString()||a===c("FacebookAppIDs").INSTAGRAM_WEB.toString())?a:c("FacebookAppIDs").MQTT_WEB.toString()}function q(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return{}}function r(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""}function s(a){a=a.split("\n");if(a.length<2)throw c("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw c("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw c("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a}function t(a){return a.includes("BUNDLE 0")}function u(a,b){b=c("OverlayConfigServerLayer").createFromHeader(b);if(b){b={eventName:"overlayConfigServerUpdateRequest",serverLayer:b};a.push(b)}}function v(a){return a.reduce(function(a,b){var c;c=(c=b.body)==null?void 0:(c=c.genericMessage)==null?void 0:c.topic;b=(b=b.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;c!=null&&b!=null&&(a[c]=b);return a},{})}function w(a){var b=a.clientSessionId,d=a.conferenceName,e=a.sequenceNumber,f=a.serverInfoData,g=a.transactionId;b=b;var h={userID:"2"};g={messageID:g,messageTags:(g=a.messageTags)!=null?g:[],protocol:c("ZenonSignalingProtocol").MW,remoteInfo:h,retryCount:a.retryCount,roomInfo:{name:d},sequenceNumber:e,signalingID:b,userInfo:{userID:"1"}};f!=null&&(g.remoteSignalingID=f);return g}function x(a,b){return Object.keys(a).map(function(c){var d=a[c];return{body:{genericMessage:{data:d,topic:c}},header:{recipients:b,topic_DEPRECATED:c}}})}function y(a,b){var c=a.messageID,e=a.messageTags,f=a.remoteSignalingID,g=a.roomInfo,h=a.signalingID,i=k(window.location.href);g={clientStack:d("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:g.name,messageTags:e,retryCount:a.retryCount,sequenceNumber:a.sequenceNumber,transactionId:c,type:b};(i.multiwayCoreTier!==""||i.multiwayWwwTier!=="")&&(g.extensions=i);h!=null&&(g.clientSessionId=h);f!=null&&(g.serverInfoData=f);return g}function z(a,b,c,e){a=y(a,b);a.responseStatusCode=(b=c)!=null?b:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;e!=null&&(a.responseSubCode=e);return a}function A(a){var b={tracks:{}};a.tracks.forEach(function(a){var c={enabled:a.enabled,owner:a.userID},d=J(a.type);d!=null&&(c.label=d);b.tracks[a.trackID]=c});return b}function B(a){if(a==null)return null;switch(a){case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO:return"screen_audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen"}}function C(a){a=L[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK}function D(a){switch(a){case d("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case d("ZenonDismissReason").ZenonDismissReason.HangupCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case d("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return d("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case d("ZenonDismissReason").ZenonDismissReason.ClientError:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case d("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case d("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case d("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return d("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}}function E(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b}function F(a){var b={};a.tracks.forEach(function(a){var c={enabled:a.enabled},d=J(a.type);d!=null&&(c.label=d);b[a.trackID]=c});return{tracks:b}}function G(a){return N[a]}function H(a){return a==null?null:O[a]}function I(a){var b={};a.forEach(function(a,c){b[c]=a});return b}function J(a){if(d("ZenonScreenShare").screenShareWithReplaceTrack())return null;switch(a){case"audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;case"screen_audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO;default:return null}}function K(a,b,c){c===void 0&&(c=0);var d={fromVersion:b,tracks:[],version:c};a!=null&&Object.keys(a.tracks).forEach(function(b){var c=a.tracks[b];b={enabled:c.enabled,trackID:b,type:B(c.label),userID:c.owner};d.tracks.push(b)});return d}var L={IN_ANOTHER_CALL:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.IN_ANOTHER_CALL,NOT_SUPPORTED:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.NOT_SUPPORTED,OK:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK},M=Object.freeze((h={},h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN]=d("ZenonParticipantState").ZenonParticipantState.UNKNOWN,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.DISCONNECTED]=d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.NO_ANSWER]=d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.REJECTED]=d("ZenonParticipantState").ZenonParticipantState.REJECTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNREACHABLE]=d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONNECTION_DROPPED]=d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONTACTING]=d("ZenonParticipantState").ZenonParticipantState.CONTACTING,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.RINGING]=d("ZenonParticipantState").ZenonParticipantState.RINGING,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONNECTING]=d("ZenonParticipantState").ZenonParticipantState.CONNECTING,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONNECTED]=d("ZenonParticipantState").ZenonParticipantState.CONNECTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.IN_ANOTHER_CALL]=d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.PENDING_APPROVAL]=d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.APPROVED]=d("ZenonParticipantState").ZenonParticipantState.APPROVED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.FAILED_APPROVAL]=d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNCALLABLE]=d("ZenonParticipantState").ZenonParticipantState.UNCALLABLE,h)),N=Object.freeze((h={},h[d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK]=d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK,h[d("ZenonSignalingTypes").ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,h[d("ZenonSignalingTypes").ZenonSignalingStatusCode.METHOD_NOT_ALLOWED]=d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED,h)),O=Object.freeze((h={},h[d("ZenonSignalingTypes").ZenonSignalingStatusSubCode.CLIENT_TERMINATED]=d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_TERMINATED,h));g.addDevTierOverridesToHeaderExtensions=k;g.addStateStoreSignalingEvents=a;g.createMWMessage=b;g.fromMWDismissReason=e;g.fromMWJoinResponseStatusToDismissReason=f;g.fromMWParticipantState=l;g.getCollisionContextFromAppMessages=m;g.getGenericDataMessageData=n;g.getGenericDataMessageTopic=o;g.getMWAppID=p;g.getRoomMetadataFromAppMessages=q;g.getSandboxingTierFromURIOrEmpty=r;g.getSdpVersion=s;g.isUnifiedPlan=t;g.maybeAddOverlayConfigServerUpdateRequest=u;g.mwAppMessagesToSignalingAppMessages=v;g.mwMessageHeaderToSignalingMessageHeader=w;g.signalingMessageAppMessagesToMWAppMessages=x;g.signalingMessageHeaderToMWHeader=y;g.signalingMessageHeaderToMWResponseHeader=z;g.toMWClientMediaStatus=A;g.toMWClientTrackContentType=B;g.toMWDeviceStatus=C;g.toMWHangupReason=D;g.toMWMediaStatus=E;g.toMWMediaStatusEx=F;g.toMWResponseStatusCode=G;g.toMWResponseStatusSubCode=H;g.toMWSyncStateStore=I;g.toMWTrackLabel=J;g.toZenonMediaStates=K}),98);
__d("ZenonDebugLogger",["$InternalEnum","ChannelClientID","CurrentUser","FBLogger","FacebookAppIDs","Log","LogHistory","ODS","P2pReliabilityFalcoEvent","RpWebStateMachineLoggingBlocklist","UserAgentData","ZenonActorHooks","ZenonIceStatsParser","ZenonInfraActionsLogger","ZenonMWMessageMap","ZenonMWMessageTypes","ZenonMWTranslatorUtils","cr:11532","cr:1577681","cr:1577682","formatDate","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=b("$InternalEnum").Mirrored(["CLIENT_RECEIVED_MESSAGE","CLIENT_PROCESSED_MESSAGE"]);a=function(){a.getInstance=function(){h||(h=new a());return h};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.callID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};function a(){this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:c("UserAgentData").browserName,browser_version:c("UserAgentData").browserFullVersion,device:c("UserAgentData").deviceName,msg_source:"web",os:c("UserAgentData").platformName,os_version:c("UserAgentData").platformFullVersion,version:2});var a=c("CurrentUser").getAppID();a!==null&&a!==void 0&&(a===c("FacebookAppIDs").INSTAGRAM_WEB_DESKTOP.toString()||a===c("FacebookAppIDs").INSTAGRAM_WEB.toString())?this.$4=parseInt(a):this.$4=c("FacebookAppIDs").MQTT_WEB;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES);this.$7=new Set(c("RpWebStateMachineLoggingBlocklist").MESSAGE_TYPES)}var e=a.prototype;e.$8=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] "+a,messageID:d})};e.$9=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+((e=b)!=null?e:""));e={checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};e.$10=function(a,c,d,e){e===void 0&&(e=0);a=b("cr:11532")==null?void 0:b("cr:11532")[a];if(!a||!b("cr:1577682")||!b("cr:1577681"))return;d==="terminated"?b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,e):b("cr:1577682").markerPoint(a,c,{data:{string:{data:d}},instanceKey:e})};e.$11=function(a){return isNaN(+a)?0:+a};e.$12=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};e.$13=function(a,b){var e=this;c("P2pReliabilityFalcoEvent").log(function(){return{app_id:e.$4.toString(),call_id:a.call_id,device_id:e.$2,event_name:b,extra:e.$3,msg_id:a.id,msg_type:a.type.toUpperCase()||a.msg_type.toUpperCase(),raw_time:String(Date.now()),receiver_id:d("ZenonActorHooks").useZenonActor()[0],sender_id:a.from,service_name:"WEB_CLIENT"}})};e.getLogHistory=function(){return this.$1};e.logStateMachine=function(a,b,d,e,f){if(!c("gkx")("2890"))return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$10(a,d,b,this.$11(e))};e.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("gkx")("2890"))return;g!=null&&g.length===1&&g[0].type==="defer"?g="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?g="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?g="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:g="["+a+"] [[DROPPED] Possible error. "+f+" did not trigger transition. Current state remains "+d;this.$9(g,h,i)};e.logGuardsResults=function(a,b){if(c("gkx")("3285")){a="[GUARD] "+a+". Passed: "+b.toString();this.$8(a)}};e.logMWMessage=function(a,b,d){this.$14(a,b,d);if(d.jsonPayload==null||!c("gkx")("2890"))return;var e=d.jsonPayload.header,f=c("ZenonMWMessageMap")[e.type],g=this.$12(d)?"RESPONSE":"REQUEST";d=this.$15(d);a="[ms] "+a+" ["+b+"] "+f+" "+g+" [retryCount: "+e.retryCount+(d!=null?" details: "+d:"")+"]";this.$7.has(f)||this.$8(a,!0,e.transactionId)};e.startQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577682").markerStart(a,this.$11(c))};e.endQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577681")&&b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,this.$11(c))};e.$14=function(a,b,c){a=this.$16(a,b,c);a!==null&&d("ODS").bumpEntityKey(4083,"zenon_signaling",a)};e.$16=function(a,b,e){if(e.jsonPayload==null)return null;var f=e.jsonPayload,g=f.body;f=f.header;var h="";switch(f.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:if(g.dataMessageRequest){h=(g=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(g.dataMessageRequest))!=null?g:"undefined"}break}g=this.$12(e)?"response":"request";e=c("ZenonMWMessageMap")[f.type];if(h==="")return a+"-"+b+"-"+e+"-"+g;else return a+"-"+b+"-"+e+"-"+g+"-"+h};e.$15=function(a){if(a.jsonPayload==null)return null;var b=a.jsonPayload,c=b.body;b=b.header;switch(b.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:if(this.$12(a)){var e;return JSON.stringify({hasAnswer:((e=c.joinResponse)==null?void 0:e.answer)!=null,hasRenegotiationOffer:((e=c.joinResponse)==null?void 0:e.renegotiationOffer)!=null,isPendingApproval:(e=c.joinResponse)==null?void 0:e.isPendingApproval,multipleVideoStreamsAllowed:(e=c.joinResponse)==null?void 0:e.multipleVideoStreamsAllowed,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({deviceCapabilities:(e=c.joinRequest)==null?void 0:e.deviceCapabilities,sdpType:((e=c.joinRequest)==null?void 0:e.offer)!=null?"offer":((e=c.joinRequest)==null?void 0:e.answer)!=null?"answer":"null",userCapabilities:(e=c.joinRequest)==null?void 0:e.userCapabilities});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:if(this.$12(a)){return JSON.stringify({currentVersion:(e=c.serverMediaUpdateResponse)==null?void 0:e.currentVersion,hasAnswer:((e=c.serverMediaUpdateResponse)==null?void 0:e.answer)!=null,statusCode:b.responseStatusCode})}return JSON.stringify({fromVersion:(e=c.serverMediaUpdateRequest)==null?void 0:e.fromVersion,messageTags:b.messageTags,renegotiationRequested:(e=(e=c.serverMediaUpdateRequest)==null?void 0:e.renegotiationRequested)!=null?e:!1,sdpType:((e=c.serverMediaUpdateRequest)==null?void 0:e.offer)?"offer":((e=c.serverMediaUpdateRequest)==null?void 0:e.answer)?"answer":"empty",toVersion:(e=(e=c.serverMediaUpdateRequest)==null?void 0:e.toVersion)!=null?e:""});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:if(this.$12(a)){return JSON.stringify({currentVersion:(e=(e=c.clientMediaUpdateResponse)==null?void 0:e.currentVersion)!=null?e:"",statusCode:b.responseStatusCode})}return JSON.stringify({fromVersion:(b=(e=c.clientMediaUpdateRequest)==null?void 0:e.fromVersion)!=null?b:"",toVersion:(b=(e=c.clientMediaUpdateRequest)==null?void 0:e.toVersion)!=null?b:""});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:return this.$12(a)?null:JSON.stringify({subscriptions:(b=(e=c.subscriptionRequest)==null?void 0:e.subscriptions)!=null?b:""});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:if(this.$12(a))return null;b=(e=c.iceCandidateRequest)==null?void 0:e.iceCandidateSdps.map(function(a){a=a.candidateSdpString;if(a!=null)return d("ZenonIceStatsParser").extractIceInfo(a)});return JSON.stringify({iceCandidates:b});default:return null}};e.logConsole=function(a){this.$8(a,!1)};e.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonInfraActionsLogger").logCounter(b);c("gkx")("2890")&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};e.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};e.logSendMultiwayMessageFailure=function(a,b){d("ODS").bumpEntityKey(4083,"zenon_multiway","send_message_failure"),d("ODS").flush(),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Failed to send MW message of type "+b+". Error msg: "+a+":"})};e.logP2PMessageReceived=function(a){this.$13(a,i.CLIENT_RECEIVED_MESSAGE)};e.logP2PMessageProcessed=function(a){this.$13(a,i.CLIENT_PROCESSED_MESSAGE)};return a}();g["default"]=a}),98);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var d=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return d});c("RtcWebUserActionsFalcoEvent").log(function(){return d});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("ZenonBrowsers",["UserAgent","UserAgentData","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("UserAgent").isBrowser("Chrome")}function i(){return!!navigator.webkitGetUserMedia}function j(){return c("UserAgent").isBrowser("Edge (Chromium Based)")}function k(){return c("UserAgent").isBrowser("Safari")}function l(){return c("UserAgent").isBrowser("Firefox")}function m(){return c("UserAgent").isBrowser("Mobile Safari")}function n(){return c("UserAgent").isBrowser("Oculus Browser")}function o(){return c("UserAgent").isBrowser("Samsung Browser")}function a(){return m()||c("UserAgent").isPlatform("Android")||o()}function p(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function q(){if(l()||h()||j())return c("UserAgentData").browserVersion||0;if(i()){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a!=null?parseInt(a[2],10):999}return 0}function r(){return c("UserAgent").isBrowser("FBLite")||c("UserAgent").isBrowser("Facebook for Android")}function b(a){if(!r())return!1;var b=q();return b>=a}function d(){return l()||k()||m()||n()?c("gkx")("3864"):q()<90||c("gkx")("3864")}function e(){return l()}function f(){return l()||k()||c("UserAgent").isBrowser("Chrome >= 97")}function s(){return!p()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function t(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function u(){return!n()}function v(){return!n()}function w(){return c("UserAgent").isBrowser("Chrome >= 89")||c("UserAgent").isBrowser("Opera >= 75")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 89")}g.isChrome=h;g.isChromium=i;g.isChromiumBasedEdge=j;g.isDesktopSafari=k;g.isFirefox=l;g.isMobileSafari=m;g.isOculusBrowser=n;g.isSamsung=o;g.isSupportedMobileBrowser=a;g.isMobileDevice=p;g.webrtcVersion=q;g.isFBWebview=r;g.isFBWebviewWithChromeMinVersion=b;g.isDataChannelSupported=d;g.noTransceiverForNegotiations=e;g.onlySupportsUnifiedPlan=f;g.isVideoFilterEffectSupported=s;g.videoEscalationByUnmuteWorkaround=t;g.supportsMWAVEscalation=u;g.supportsVideoCalls=v;g.isVideoLayersAllocationSupported=w}),98);
__d("ZenonCallFalcoEventUtils",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return String(Math.trunc(a))};a=function(){return h(c("performanceNow")())};b=function(a){return h((a=a)!=null?a:0)};d=function(a){return a==null?null:h((a=a)!=null?a:0)};e=function(a){return(a=a)!=null?a:""};g.truncateNumber=h;g.performanceNowParsed=a;g.nonNullIntNumber=b;g.intNumberOrNull=d;g.nonNullString=e}),98);
__d("E2eeMetricsSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g=function(){return{}},h=function(){return{}};a=function(){return{p2p_e2ee:g(),group_e2ee:h()}};var i=function(a,c){c.writeStructBegin("P2pE2eeMetrics");a.engine_type!=null&&(c.writeFieldBegin({fname:"engine_type",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.engine_type),c.writeFieldEnd());a.status!=null&&(c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.status),c.writeFieldEnd());a.version!=null&&(c.writeFieldBegin({fname:"version",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.version),c.writeFieldEnd());a.gen_prekey_bundle_time_ms!=null&&(c.writeFieldBegin({fname:"gen_prekey_bundle_time_ms",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.gen_prekey_bundle_time_ms),c.writeFieldEnd());a.encrypted_msg_time_ms!=null&&(c.writeFieldBegin({fname:"encrypted_msg_time_ms",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.encrypted_msg_time_ms),c.writeFieldEnd());a.decrypted_msg_time_ms!=null&&(c.writeFieldBegin({fname:"decrypted_msg_time_ms",ftype:b("ThriftTypes").I32,fid:6}),c.writeI32(a.decrypted_msg_time_ms),c.writeFieldEnd());a.process_sdp_crypto_time_ms!=null&&(c.writeFieldBegin({fname:"process_sdp_crypto_time_ms",ftype:b("ThriftTypes").I32,fid:7}),c.writeI32(a.process_sdp_crypto_time_ms),c.writeFieldEnd());a.create_crypto_offer_time_ms!=null&&(c.writeFieldBegin({fname:"create_crypto_offer_time_ms",ftype:b("ThriftTypes").I32,fid:8}),c.writeI32(a.create_crypto_offer_time_ms),c.writeFieldEnd());a.create_crypto_answer_time_ms!=null&&(c.writeFieldBegin({fname:"create_crypto_answer_time_ms",ftype:b("ThriftTypes").I32,fid:9}),c.writeI32(a.create_crypto_answer_time_ms),c.writeFieldEnd());a.get_ik_time_ms!=null&&(c.writeFieldBegin({fname:"get_ik_time_ms",ftype:b("ThriftTypes").I32,fid:10}),c.writeI32(a.get_ik_time_ms),c.writeFieldEnd());a.peer_id!=null&&(c.writeFieldBegin({fname:"peer_id",ftype:b("ThriftTypes").I32,fid:11}),c.writeI32(a.peer_id),c.writeFieldEnd());a.peer_connection_index!=null&&(c.writeFieldBegin({fname:"peer_connection_index",ftype:b("ThriftTypes").I32,fid:12}),c.writeI32(a.peer_connection_index),c.writeFieldEnd());a.srtp_crypto_suite!=null&&(c.writeFieldBegin({fname:"srtp_crypto_suite",ftype:b("ThriftTypes").I32,fid:13}),c.writeI32(a.srtp_crypto_suite),c.writeFieldEnd());a.engine_error!=null&&(c.writeFieldBegin({fname:"engine_error",ftype:b("ThriftTypes").I32,fid:14}),c.writeI32(a.engine_error),c.writeFieldEnd());a.libsignal_error!=null&&(c.writeFieldBegin({fname:"libsignal_error",ftype:b("ThriftTypes").I32,fid:15}),c.writeI32(a.libsignal_error),c.writeFieldEnd());a.identity_key_mode!=null&&(c.writeFieldBegin({fname:"identity_key_mode",ftype:b("ThriftTypes").I32,fid:16}),c.writeI32(a.identity_key_mode),c.writeFieldEnd());a.identity_key_num_persistent!=null&&(c.writeFieldBegin({fname:"identity_key_num_persistent",ftype:b("ThriftTypes").I32,fid:17}),c.writeI32(a.identity_key_num_persistent),c.writeFieldEnd());a.identity_key_num_validated!=null&&(c.writeFieldBegin({fname:"identity_key_num_validated",ftype:b("ThriftTypes").I32,fid:18}),c.writeI32(a.identity_key_num_validated),c.writeFieldEnd());a.identity_key_num_saved!=null&&(c.writeFieldBegin({fname:"identity_key_num_saved",ftype:b("ThriftTypes").I32,fid:19}),c.writeI32(a.identity_key_num_saved),c.writeFieldEnd());a.identity_key_num_existing!=null&&(c.writeFieldBegin({fname:"identity_key_num_existing",ftype:b("ThriftTypes").I32,fid:20}),c.writeI32(a.identity_key_num_existing),c.writeFieldEnd());a.is_e2ee_mandated!=null&&(c.writeFieldBegin({fname:"is_e2ee_mandated",ftype:b("ThriftTypes").I32,fid:21}),c.writeI32(a.is_e2ee_mandated),c.writeFieldEnd());a.local_trace_id!=null&&(c.writeFieldBegin({fname:"local_trace_id",ftype:b("ThriftTypes").I32,fid:22}),c.writeI32(a.local_trace_id),c.writeFieldEnd());a.remote_trace_id!=null&&(c.writeFieldBegin({fname:"remote_trace_id",ftype:b("ThriftTypes").I32,fid:23}),c.writeI32(a.remote_trace_id),c.writeFieldEnd());a.local_device_id!=null&&(c.writeFieldBegin({fname:"local_device_id",ftype:b("ThriftTypes").I32,fid:24}),c.writeI32(a.local_device_id),c.writeFieldEnd());a.remote_device_id!=null&&(c.writeFieldBegin({fname:"remote_device_id",ftype:b("ThriftTypes").I32,fid:25}),c.writeI32(a.remote_device_id),c.writeFieldEnd());if(a.events!=null){c.writeFieldBegin({fname:"events",ftype:b("ThriftTypes").LIST,fid:26});c.writeListBegin({etype:b("ThriftTypes").I32,size:a.events.length});for(var a=a.events,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI32(f)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},j=function(a,c){c.writeStructBegin("GroupE2eeMetrics"),a.received_key_message_counter!=null&&(c.writeFieldBegin({fname:"received_key_message_counter",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(BigInt(a.received_key_message_counter)),c.writeFieldEnd()),a.sent_key_message_counter!=null&&(c.writeFieldBegin({fname:"sent_key_message_counter",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(BigInt(a.sent_key_message_counter)),c.writeFieldEnd()),a.cached_key_message_counter!=null&&(c.writeFieldBegin({fname:"cached_key_message_counter",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(BigInt(a.cached_key_message_counter)),c.writeFieldEnd()),a.used_cached_key_counter!=null&&(c.writeFieldBegin({fname:"used_cached_key_counter",ftype:b("ThriftTypes").I64,fid:4}),c.writeI64(BigInt(a.used_cached_key_counter)),c.writeFieldEnd()),a.unused_smu_counter!=null&&(c.writeFieldBegin({fname:"unused_smu_counter",ftype:b("ThriftTypes").I64,fid:5}),c.writeI64(BigInt(a.unused_smu_counter)),c.writeFieldEnd()),a.missing_key_message_counter!=null&&(c.writeFieldBegin({fname:"missing_key_message_counter",ftype:b("ThriftTypes").I64,fid:6}),c.writeI64(BigInt(a.missing_key_message_counter)),c.writeFieldEnd()),a.negotiate_off_status!=null&&(c.writeFieldBegin({fname:"negotiate_off_status",ftype:b("ThriftTypes").I64,fid:7}),c.writeI64(BigInt(a.negotiate_off_status)),c.writeFieldEnd()),a.cipher_suite_status!=null&&(c.writeFieldBegin({fname:"cipher_suite_status",ftype:b("ThriftTypes").I64,fid:8}),c.writeI64(BigInt(a.cipher_suite_status)),c.writeFieldEnd()),a.decrypt_used_cached_session_counter!=null&&(c.writeFieldBegin({fname:"decrypt_used_cached_session_counter",ftype:b("ThriftTypes").I64,fid:9}),c.writeI64(BigInt(a.decrypt_used_cached_session_counter)),c.writeFieldEnd()),a.encrypt_used_cached_session_counter!=null&&(c.writeFieldBegin({fname:"encrypt_used_cached_session_counter",ftype:b("ThriftTypes").I64,fid:10}),c.writeI64(BigInt(a.encrypt_used_cached_session_counter)),c.writeFieldEnd()),a.sent_ack_message_counter!=null&&(c.writeFieldBegin({fname:"sent_ack_message_counter",ftype:b("ThriftTypes").I64,fid:11}),c.writeI64(BigInt(a.sent_ack_message_counter)),c.writeFieldEnd()),a.reuse_ackd_uid_counter!=null&&(c.writeFieldBegin({fname:"reuse_ackd_uid_counter",ftype:b("ThriftTypes").I64,fid:12}),c.writeI64(BigInt(a.reuse_ackd_uid_counter)),c.writeFieldEnd()),a.total_uids_created_counter!=null&&(c.writeFieldBegin({fname:"total_uids_created_counter",ftype:b("ThriftTypes").I64,fid:13}),c.writeI64(BigInt(a.total_uids_created_counter)),c.writeFieldEnd()),a.generate_chain_key_failed_error!=null&&(c.writeFieldBegin({fname:"generate_chain_key_failed_error",ftype:b("ThriftTypes").I64,fid:14}),c.writeI64(BigInt(a.generate_chain_key_failed_error)),c.writeFieldEnd()),a.set_chain_key_failed_error!=null&&(c.writeFieldBegin({fname:"set_chain_key_failed_error",ftype:b("ThriftTypes").I64,fid:15}),c.writeI64(BigInt(a.set_chain_key_failed_error)),c.writeFieldEnd()),a.key_provider_not_found_error!=null&&(c.writeFieldBegin({fname:"key_provider_not_found_error",ftype:b("ThriftTypes").I64,fid:16}),c.writeI64(BigInt(a.key_provider_not_found_error)),c.writeFieldEnd()),a.key_message_parse_failed_error!=null&&(c.writeFieldBegin({fname:"key_message_parse_failed_error",ftype:b("ThriftTypes").I64,fid:17}),c.writeI64(BigInt(a.key_message_parse_failed_error)),c.writeFieldEnd()),a.empty_pkb_result_error!=null&&(c.writeFieldBegin({fname:"empty_pkb_result_error",ftype:b("ThriftTypes").I64,fid:18}),c.writeI64(BigInt(a.empty_pkb_result_error)),c.writeFieldEnd()),a.empty_encrypt_result_error!=null&&(c.writeFieldBegin({fname:"empty_encrypt_result_error",ftype:b("ThriftTypes").I64,fid:19}),c.writeI64(BigInt(a.empty_encrypt_result_error)),c.writeFieldEnd()),a.empty_decrypt_result_error!=null&&(c.writeFieldBegin({fname:"empty_decrypt_result_error",ftype:b("ThriftTypes").I64,fid:20}),c.writeI64(BigInt(a.empty_decrypt_result_error)),c.writeFieldEnd()),a.empty_version_error!=null&&(c.writeFieldBegin({fname:"empty_version_error",ftype:b("ThriftTypes").I64,fid:21}),c.writeI64(BigInt(a.empty_version_error)),c.writeFieldEnd()),a.unsupported_version_error!=null&&(c.writeFieldBegin({fname:"unsupported_version_error",ftype:b("ThriftTypes").I64,fid:22}),c.writeI64(BigInt(a.unsupported_version_error)),c.writeFieldEnd()),a.midcall_version_change_error!=null&&(c.writeFieldBegin({fname:"midcall_version_change_error",ftype:b("ThriftTypes").I64,fid:23}),c.writeI64(BigInt(a.midcall_version_change_error)),c.writeFieldEnd()),a.inconsistent_remote_maps_error!=null&&(c.writeFieldBegin({fname:"inconsistent_remote_maps_error",ftype:b("ThriftTypes").I64,fid:24}),c.writeI64(BigInt(a.inconsistent_remote_maps_error)),c.writeFieldEnd()),a.key_message_pkb_mismatch_error!=null&&(c.writeFieldBegin({fname:"key_message_pkb_mismatch_error",ftype:b("ThriftTypes").I64,fid:25}),c.writeI64(BigInt(a.key_message_pkb_mismatch_error)),c.writeFieldEnd()),a.no_key_or_ack_in_e2ee_message_error!=null&&(c.writeFieldBegin({fname:"no_key_or_ack_in_e2ee_message_error",ftype:b("ThriftTypes").I64,fid:26}),c.writeI64(BigInt(a.no_key_or_ack_in_e2ee_message_error)),c.writeFieldEnd()),a.receiver_key_provider_not_found_error!=null&&(c.writeFieldBegin({fname:"receiver_key_provider_not_found_error",ftype:b("ThriftTypes").I64,fid:27}),c.writeI64(BigInt(a.receiver_key_provider_not_found_error)),c.writeFieldEnd()),a.pkb_parse_failed_error!=null&&(c.writeFieldBegin({fname:"pkb_parse_failed_error",ftype:b("ThriftTypes").I64,fid:28}),c.writeI64(BigInt(a.pkb_parse_failed_error)),c.writeFieldEnd()),a.message_deserialized_failed_error!=null&&(c.writeFieldBegin({fname:"message_deserialized_failed_error",ftype:b("ThriftTypes").I64,fid:29}),c.writeI64(BigInt(a.message_deserialized_failed_error)),c.writeFieldEnd()),a.decrypt_no_identity_key_and_cached_session_not_used_error!=null&&(c.writeFieldBegin({fname:"decrypt_no_identity_key_and_cached_session_not_used_error",ftype:b("ThriftTypes").I64,fid:30}),c.writeI64(BigInt(a.decrypt_no_identity_key_and_cached_session_not_used_error)),c.writeFieldEnd()),a.encrypt_no_identity_key_and_cached_session_not_used_error!=null&&(c.writeFieldBegin({fname:"encrypt_no_identity_key_and_cached_session_not_used_error",ftype:b("ThriftTypes").I64,fid:31}),c.writeI64(BigInt(a.encrypt_no_identity_key_and_cached_session_not_used_error)),c.writeFieldEnd()),a.decrypt_ack_wrong_message_error!=null&&(c.writeFieldBegin({fname:"decrypt_ack_wrong_message_error",ftype:b("ThriftTypes").I64,fid:32}),c.writeI64(BigInt(a.decrypt_ack_wrong_message_error)),c.writeFieldEnd()),a.invalid_uid_received_error!=null&&(c.writeFieldBegin({fname:"invalid_uid_received_error",ftype:b("ThriftTypes").I64,fid:33}),c.writeI64(BigInt(a.invalid_uid_received_error)),c.writeFieldEnd()),a.ack_for_absent_user!=null&&(c.writeFieldBegin({fname:"ack_for_absent_user",ftype:b("ThriftTypes").I64,fid:34}),c.writeI64(BigInt(a.ack_for_absent_user)),c.writeFieldEnd()),a.uid_not_awaiting_ack_error!=null&&(c.writeFieldBegin({fname:"uid_not_awaiting_ack_error",ftype:b("ThriftTypes").I64,fid:35}),c.writeI64(BigInt(a.uid_not_awaiting_ack_error)),c.writeFieldEnd()),a.decrypt_ack_error!=null&&(c.writeFieldBegin({fname:"decrypt_ack_error",ftype:b("ThriftTypes").I64,fid:36}),c.writeI64(BigInt(a.decrypt_ack_error)),c.writeFieldEnd()),a.empty_decrypt_result_ack_error!=null&&(c.writeFieldBegin({fname:"empty_decrypt_result_ack_error",ftype:b("ThriftTypes").I64,fid:37}),c.writeI64(BigInt(a.empty_decrypt_result_ack_error)),c.writeFieldEnd()),a.decrypt_ack_cached_session_not_used_error!=null&&(c.writeFieldBegin({fname:"decrypt_ack_cached_session_not_used_error",ftype:b("ThriftTypes").I64,fid:38}),c.writeI64(BigInt(a.decrypt_ack_cached_session_not_used_error)),c.writeFieldEnd()),a.encrypt_ack_error!=null&&(c.writeFieldBegin({fname:"encrypt_ack_error",ftype:b("ThriftTypes").I64,fid:39}),c.writeI64(BigInt(a.encrypt_ack_error)),c.writeFieldEnd()),a.empty_encrypt_result_ack_error!=null&&(c.writeFieldBegin({fname:"empty_encrypt_result_ack_error",ftype:b("ThriftTypes").I64,fid:40}),c.writeI64(BigInt(a.empty_encrypt_result_ack_error)),c.writeFieldEnd()),a.invalid_message_type_error!=null&&(c.writeFieldBegin({fname:"invalid_message_type_error",ftype:b("ThriftTypes").I64,fid:41}),c.writeI64(BigInt(a.invalid_message_type_error)),c.writeFieldEnd()),a.server_state_deserialized_failed_error!=null&&(c.writeFieldBegin({fname:"server_state_deserialized_failed_error",ftype:b("ThriftTypes").I64,fid:42}),c.writeI64(BigInt(a.server_state_deserialized_failed_error)),c.writeFieldEnd()),a.crypto_engine_failure_error!=null&&(c.writeFieldBegin({fname:"crypto_engine_failure_error",ftype:b("ThriftTypes").I64,fid:43}),c.writeI64(BigInt(a.crypto_engine_failure_error)),c.writeFieldEnd()),a.empty_e2ee_client_state_error!=null&&(c.writeFieldBegin({fname:"empty_e2ee_client_state_error",ftype:b("ThriftTypes").I64,fid:44}),c.writeI64(BigInt(a.empty_e2ee_client_state_error)),c.writeFieldEnd()),a.group_e2ee_negotiated!=null&&(c.writeFieldBegin({fname:"group_e2ee_negotiated",ftype:b("ThriftTypes").I64,fid:45}),c.writeI64(BigInt(a.group_e2ee_negotiated)),c.writeFieldEnd()),a.negotiation_mode_kn!=null&&(c.writeFieldBegin({fname:"negotiation_mode_kn",ftype:b("ThriftTypes").I64,fid:46}),c.writeI64(BigInt(a.negotiation_mode_kn)),c.writeFieldEnd()),a.group_e2ee_setup_status!=null&&(c.writeFieldBegin({fname:"group_e2ee_setup_status",ftype:b("ThriftTypes").I64,fid:47}),c.writeI64(BigInt(a.group_e2ee_setup_status)),c.writeFieldEnd()),a.enable_group_e2ee!=null&&(c.writeFieldBegin({fname:"enable_group_e2ee",ftype:b("ThriftTypes").I64,fid:48}),c.writeI64(BigInt(a.enable_group_e2ee)),c.writeFieldEnd()),a.identity_key_mode_group!=null&&(c.writeFieldBegin({fname:"identity_key_mode_group",ftype:b("ThriftTypes").I64,fid:49}),c.writeI64(BigInt(a.identity_key_mode_group)),c.writeFieldEnd()),a.identity_key_num_persistent_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_persistent_group",ftype:b("ThriftTypes").I64,fid:50}),c.writeI64(BigInt(a.identity_key_num_persistent_group)),c.writeFieldEnd()),a.identity_key_num_validated_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_validated_group",ftype:b("ThriftTypes").I64,fid:51}),c.writeI64(BigInt(a.identity_key_num_validated_group)),c.writeFieldEnd()),a.identity_key_num_saved_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_saved_group",ftype:b("ThriftTypes").I64,fid:52}),c.writeI64(BigInt(a.identity_key_num_saved_group)),c.writeFieldEnd()),a.identity_key_num_existing_group!=null&&(c.writeFieldBegin({fname:"identity_key_num_existing_group",ftype:b("ThriftTypes").I64,fid:53}),c.writeI64(BigInt(a.identity_key_num_existing_group)),c.writeFieldEnd()),a.max_key_message_latency_ms!=null&&(c.writeFieldBegin({fname:"max_key_message_latency_ms",ftype:b("ThriftTypes").I64,fid:54}),c.writeI64(BigInt(a.max_key_message_latency_ms)),c.writeFieldEnd()),a.max_key_message_latency_ms_joiner!=null&&(c.writeFieldBegin({fname:"max_key_message_latency_ms_joiner",ftype:b("ThriftTypes").I64,fid:55}),c.writeI64(BigInt(a.max_key_message_latency_ms_joiner)),c.writeFieldEnd()),a.max_smu_to_key_message_latency_ms!=null&&(c.writeFieldBegin({fname:"max_smu_to_key_message_latency_ms",ftype:b("ThriftTypes").I64,fid:56}),c.writeI64(BigInt(a.max_smu_to_key_message_latency_ms)),c.writeFieldEnd()),a.process_smu_time_ms!=null&&(c.writeFieldBegin({fname:"process_smu_time_ms",ftype:b("ThriftTypes").I64,fid:57}),c.writeI64(BigInt(a.process_smu_time_ms)),c.writeFieldEnd()),a.decryption_total_frames!=null&&(c.writeFieldBegin({fname:"decryption_total_frames",ftype:b("ThriftTypes").I64,fid:58}),c.writeI64(BigInt(a.decryption_total_frames)),c.writeFieldEnd()),a.decryption_total_error_frames!=null&&(c.writeFieldBegin({fname:"decryption_total_error_frames",ftype:b("ThriftTypes").I64,fid:59}),c.writeI64(BigInt(a.decryption_total_error_frames)),c.writeFieldEnd()),a.decryption_error_frames_alloc!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_alloc",ftype:b("ThriftTypes").I64,fid:60}),c.writeI64(BigInt(a.decryption_error_frames_alloc)),c.writeFieldEnd()),a.decryption_error_frames_invalid_params!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_invalid_params",ftype:b("ThriftTypes").I64,fid:61}),c.writeI64(BigInt(a.decryption_error_frames_invalid_params)),c.writeFieldEnd()),a.decryption_error_frames_cipher!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_cipher",ftype:b("ThriftTypes").I64,fid:62}),c.writeI64(BigInt(a.decryption_error_frames_cipher)),c.writeFieldEnd()),a.decryption_error_frames_parse!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_parse",ftype:b("ThriftTypes").I64,fid:63}),c.writeI64(BigInt(a.decryption_error_frames_parse)),c.writeFieldEnd()),a.decryption_error_frames_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_invalid_key",ftype:b("ThriftTypes").I64,fid:64}),c.writeI64(BigInt(a.decryption_error_frames_invalid_key)),c.writeFieldEnd()),a.decryption_error_frames_missing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_missing_key",ftype:b("ThriftTypes").I64,fid:65}),c.writeI64(BigInt(a.decryption_error_frames_missing_key)),c.writeFieldEnd()),a.decryption_error_frames_out_of_ratchet_space!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_out_of_ratchet_space",ftype:b("ThriftTypes").I64,fid:66}),c.writeI64(BigInt(a.decryption_error_frames_out_of_ratchet_space)),c.writeFieldEnd()),a.decryption_error_frames_cipher_auth!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_cipher_auth",ftype:b("ThriftTypes").I64,fid:67}),c.writeI64(BigInt(a.decryption_error_frames_cipher_auth)),c.writeFieldEnd()),a.decryption_error_frames_frame_too_old!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_frame_too_old",ftype:b("ThriftTypes").I64,fid:68}),c.writeI64(BigInt(a.decryption_error_frames_frame_too_old)),c.writeFieldEnd()),a.decryption_error_frames_seen_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_seen_frame",ftype:b("ThriftTypes").I64,fid:69}),c.writeI64(BigInt(a.decryption_error_frames_seen_frame)),c.writeFieldEnd()),a.decryption_error_frames_invalid_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_invalid_frame",ftype:b("ThriftTypes").I64,fid:70}),c.writeI64(BigInt(a.decryption_error_frames_invalid_frame)),c.writeFieldEnd()),a.decryption_error_frames_setting_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_setting_invalid_key",ftype:b("ThriftTypes").I64,fid:71}),c.writeI64(BigInt(a.decryption_error_frames_setting_invalid_key)),c.writeFieldEnd()),a.decryption_error_frames_setting_existing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_setting_existing_key",ftype:b("ThriftTypes").I64,fid:72}),c.writeI64(BigInt(a.decryption_error_frames_setting_existing_key)),c.writeFieldEnd()),a.decryption_error_frames_escape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_escape_data",ftype:b("ThriftTypes").I64,fid:73}),c.writeI64(BigInt(a.decryption_error_frames_escape_data)),c.writeFieldEnd()),a.decryption_error_frames_deescape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_deescape_data",ftype:b("ThriftTypes").I64,fid:74}),c.writeI64(BigInt(a.decryption_error_frames_deescape_data)),c.writeFieldEnd()),a.decryption_error_frames_parse_frame_or_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_parse_frame_or_key",ftype:b("ThriftTypes").I64,fid:75}),c.writeI64(BigInt(a.decryption_error_frames_parse_frame_or_key)),c.writeFieldEnd()),a.decryption_error_frames_unknown!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_unknown",ftype:b("ThriftTypes").I64,fid:76}),c.writeI64(BigInt(a.decryption_error_frames_unknown)),c.writeFieldEnd()),a.decryption_unencrypted_frames!=null&&(c.writeFieldBegin({fname:"decryption_unencrypted_frames",ftype:b("ThriftTypes").I64,fid:77}),c.writeI64(BigInt(a.decryption_unencrypted_frames)),c.writeFieldEnd()),a.encryption_total_frames!=null&&(c.writeFieldBegin({fname:"encryption_total_frames",ftype:b("ThriftTypes").I64,fid:78}),c.writeI64(BigInt(a.encryption_total_frames)),c.writeFieldEnd()),a.encryption_error_frames!=null&&(c.writeFieldBegin({fname:"encryption_error_frames",ftype:b("ThriftTypes").I64,fid:79}),c.writeI64(BigInt(a.encryption_error_frames)),c.writeFieldEnd()),a.encryption_escape_bytes!=null&&(c.writeFieldBegin({fname:"encryption_escape_bytes",ftype:b("ThriftTypes").I64,fid:80}),c.writeI64(BigInt(a.encryption_escape_bytes)),c.writeFieldEnd()),a.encryption_total_error_frames!=null&&(c.writeFieldBegin({fname:"encryption_total_error_frames",ftype:b("ThriftTypes").I64,fid:81}),c.writeI64(BigInt(a.encryption_total_error_frames)),c.writeFieldEnd()),a.encryption_error_frames_alloc!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_alloc",ftype:b("ThriftTypes").I64,fid:82}),c.writeI64(BigInt(a.encryption_error_frames_alloc)),c.writeFieldEnd()),a.encryption_error_frames_invalid_params!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_invalid_params",ftype:b("ThriftTypes").I64,fid:83}),c.writeI64(BigInt(a.encryption_error_frames_invalid_params)),c.writeFieldEnd()),a.encryption_error_frames_cipher!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_cipher",ftype:b("ThriftTypes").I64,fid:84}),c.writeI64(BigInt(a.encryption_error_frames_cipher)),c.writeFieldEnd()),a.encryption_error_frames_parse!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_parse",ftype:b("ThriftTypes").I64,fid:85}),c.writeI64(BigInt(a.encryption_error_frames_parse)),c.writeFieldEnd()),a.encryption_error_frames_invalid_key!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_invalid_key",ftype:b("ThriftTypes").I64,fid:86}),c.writeI64(BigInt(a.encryption_error_frames_invalid_key)),c.writeFieldEnd()),a.encryption_error_frames_cipher_auth!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_cipher_auth",ftype:b("ThriftTypes").I64,fid:87}),c.writeI64(BigInt(a.encryption_error_frames_cipher_auth)),c.writeFieldEnd()),a.encryption_error_frames_escape_data!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_escape_data",ftype:b("ThriftTypes").I64,fid:88}),c.writeI64(BigInt(a.encryption_error_frames_escape_data)),c.writeFieldEnd()),a.encryption_error_frames_unsupported_codec!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_unsupported_codec",ftype:b("ThriftTypes").I64,fid:89}),c.writeI64(BigInt(a.encryption_error_frames_unsupported_codec)),c.writeFieldEnd()),a.encryption_error_frames_unknown!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_unknown",ftype:b("ThriftTypes").I64,fid:90}),c.writeI64(BigInt(a.encryption_error_frames_unknown)),c.writeFieldEnd()),a.decryption_total_frames_data_channel!=null&&(c.writeFieldBegin({fname:"decryption_total_frames_data_channel",ftype:b("ThriftTypes").I64,fid:91}),c.writeI64(BigInt(a.decryption_total_frames_data_channel)),c.writeFieldEnd()),a.decryption_total_error_frames_data_channel!=null&&(c.writeFieldBegin({fname:"decryption_total_error_frames_data_channel",ftype:b("ThriftTypes").I64,fid:92}),c.writeI64(BigInt(a.decryption_total_error_frames_data_channel)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_alloc!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_alloc",ftype:b("ThriftTypes").I64,fid:93}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_alloc)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_invalid_params!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_params",ftype:b("ThriftTypes").I64,fid:94}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_params)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_cipher!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher",ftype:b("ThriftTypes").I64,fid:95}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_cipher)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_parse!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse",ftype:b("ThriftTypes").I64,fid:96}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_parse)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_key",ftype:b("ThriftTypes").I64,fid:97}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_key)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_missing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_missing_key",ftype:b("ThriftTypes").I64,fid:98}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_missing_key)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_out_of_ratchet_space!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_out_of_ratchet_space",ftype:b("ThriftTypes").I64,fid:99}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_out_of_ratchet_space)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_cipher_auth!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher_auth",ftype:b("ThriftTypes").I64,fid:100}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_cipher_auth)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_frame_too_old!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_frame_too_old",ftype:b("ThriftTypes").I64,fid:101}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_frame_too_old)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_seen_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_seen_frame",ftype:b("ThriftTypes").I64,fid:102}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_seen_frame)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_invalid_frame!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_frame",ftype:b("ThriftTypes").I64,fid:103}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_frame)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_setting_invalid_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_invalid_key",ftype:b("ThriftTypes").I64,fid:104}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_setting_invalid_key)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_setting_existing_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_existing_key",ftype:b("ThriftTypes").I64,fid:105}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_setting_existing_key)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_escape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_escape_data",ftype:b("ThriftTypes").I64,fid:106}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_escape_data)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_deescape_data!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_deescape_data",ftype:b("ThriftTypes").I64,fid:107}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_deescape_data)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_parse_frame_or_key!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse_frame_or_key",ftype:b("ThriftTypes").I64,fid:108}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_parse_frame_or_key)),c.writeFieldEnd()),a.decryption_error_frames_data_channel_unknown!=null&&(c.writeFieldBegin({fname:"decryption_error_frames_data_channel_unknown",ftype:b("ThriftTypes").I64,fid:109}),c.writeI64(BigInt(a.decryption_error_frames_data_channel_unknown)),c.writeFieldEnd()),a.decryption_unencrypted_frames_data_channel!=null&&(c.writeFieldBegin({fname:"decryption_unencrypted_frames_data_channel",ftype:b("ThriftTypes").I64,fid:110}),c.writeI64(BigInt(a.decryption_unencrypted_frames_data_channel)),c.writeFieldEnd()),a.encryption_total_frames_data_channel!=null&&(c.writeFieldBegin({fname:"encryption_total_frames_data_channel",ftype:b("ThriftTypes").I64,fid:111}),c.writeI64(BigInt(a.encryption_total_frames_data_channel)),c.writeFieldEnd()),a.encryption_error_frames_data_channel!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel",ftype:b("ThriftTypes").I64,fid:112}),c.writeI64(BigInt(a.encryption_error_frames_data_channel)),c.writeFieldEnd()),a.encryption_total_error_frames_data_channel!=null&&(c.writeFieldBegin({fname:"encryption_total_error_frames_data_channel",ftype:b("ThriftTypes").I64,fid:113}),c.writeI64(BigInt(a.encryption_total_error_frames_data_channel)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_alloc!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_alloc",ftype:b("ThriftTypes").I64,fid:114}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_alloc)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_invalid_params!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_params",ftype:b("ThriftTypes").I64,fid:115}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_invalid_params)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_cipher!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher",ftype:b("ThriftTypes").I64,fid:116}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_cipher)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_parse!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_parse",ftype:b("ThriftTypes").I64,fid:117}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_parse)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_invalid_key!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_key",ftype:b("ThriftTypes").I64,fid:118}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_invalid_key)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_cipher_auth!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher_auth",ftype:b("ThriftTypes").I64,fid:119}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_cipher_auth)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_escape_data!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_escape_data",ftype:b("ThriftTypes").I64,fid:120}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_escape_data)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_unsupported_codec!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_unsupported_codec",ftype:b("ThriftTypes").I64,fid:121}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_unsupported_codec)),c.writeFieldEnd()),a.encryption_error_frames_data_channel_unknown!=null&&(c.writeFieldBegin({fname:"encryption_error_frames_data_channel_unknown",ftype:b("ThriftTypes").I64,fid:122}),c.writeI64(BigInt(a.encryption_error_frames_data_channel_unknown)),c.writeFieldEnd()),a.num_removed_data_decryptors!=null&&(c.writeFieldBegin({fname:"num_removed_data_decryptors",ftype:b("ThriftTypes").I64,fid:123}),c.writeI64(BigInt(a.num_removed_data_decryptors)),c.writeFieldEnd()),a.num_frame_decryptor_with_unencrypted_data!=null&&(c.writeFieldBegin({fname:"num_frame_decryptor_with_unencrypted_data",ftype:b("ThriftTypes").I64,fid:124}),c.writeI64(BigInt(a.num_frame_decryptor_with_unencrypted_data)),c.writeFieldEnd()),a.num_removed_decryptors!=null&&(c.writeFieldBegin({fname:"num_removed_decryptors",ftype:b("ThriftTypes").I64,fid:125}),c.writeI64(BigInt(a.num_removed_decryptors)),c.writeFieldEnd()),a.data_channel_encryption_not_ready_in_mandated_calls_error!=null&&(c.writeFieldBegin({fname:"data_channel_encryption_not_ready_in_mandated_calls_error",ftype:b("ThriftTypes").I64,fid:126}),c.writeI64(BigInt(a.data_channel_encryption_not_ready_in_mandated_calls_error)),c.writeFieldEnd()),a.num_e2ee_message_total_encrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_total_encrypt",ftype:b("ThriftTypes").I64,fid:127}),c.writeI64(BigInt(a.num_e2ee_message_total_encrypt)),c.writeFieldEnd()),a.num_e2ee_message_error_encrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_encrypt",ftype:b("ThriftTypes").I64,fid:128}),c.writeI64(BigInt(a.num_e2ee_message_error_encrypt)),c.writeFieldEnd()),a.num_e2ee_message_total_decrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_total_decrypt",ftype:b("ThriftTypes").I64,fid:129}),c.writeI64(BigInt(a.num_e2ee_message_total_decrypt)),c.writeFieldEnd()),a.num_e2ee_message_error_decrypt!=null&&(c.writeFieldBegin({fname:"num_e2ee_message_error_decrypt",ftype:b("ThriftTypes").I64,fid:130}),c.writeI64(BigInt(a.num_e2ee_message_error_decrypt)),c.writeFieldEnd()),a.negotiate_off_time!=null&&(c.writeFieldBegin({fname:"negotiate_off_time",ftype:b("ThriftTypes").I64,fid:131}),c.writeI64(BigInt(a.negotiate_off_time)),c.writeFieldEnd()),a.negotiated_version!=null&&(c.writeFieldBegin({fname:"negotiated_version",ftype:b("ThriftTypes").I64,fid:132}),c.writeI64(BigInt(a.negotiated_version)),c.writeFieldEnd()),a.decryptor_removed_time!=null&&(c.writeFieldBegin({fname:"decryptor_removed_time",ftype:b("ThriftTypes").I64,fid:133}),c.writeI64(BigInt(a.decryptor_removed_time)),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()};c=function(a,c){c.writeStructBegin("E2eeMetrics");c.writeFieldBegin({fname:"p2p_e2ee",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.p2p_e2ee!=null)i(a.p2p_e2ee,c);else{var d=g();i(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"group_e2ee",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.group_e2ee!=null)j(a.group_e2ee,c);else{d=h();j(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()};var k=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.engine_type=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.status=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.version=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.gen_prekey_bundle_time_ms=a.readI32():a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.encrypted_msg_time_ms=a.readI32():a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.decrypted_msg_time_ms=a.readI32():a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.process_sdp_crypto_time_ms=a.readI32():a.skip(e);break;case 8:e===b("ThriftTypes").I32?c.create_crypto_offer_time_ms=a.readI32():a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.create_crypto_answer_time_ms=a.readI32():a.skip(e);break;case 10:e===b("ThriftTypes").I32?c.get_ik_time_ms=a.readI32():a.skip(e);break;case 11:e===b("ThriftTypes").I32?c.peer_id=a.readI32():a.skip(e);break;case 12:e===b("ThriftTypes").I32?c.peer_connection_index=a.readI32():a.skip(e);break;case 13:e===b("ThriftTypes").I32?c.srtp_crypto_suite=a.readI32():a.skip(e);break;case 14:e===b("ThriftTypes").I32?c.engine_error=a.readI32():a.skip(e);break;case 15:e===b("ThriftTypes").I32?c.libsignal_error=a.readI32():a.skip(e);break;case 16:e===b("ThriftTypes").I32?c.identity_key_mode=a.readI32():a.skip(e);break;case 17:e===b("ThriftTypes").I32?c.identity_key_num_persistent=a.readI32():a.skip(e);break;case 18:e===b("ThriftTypes").I32?c.identity_key_num_validated=a.readI32():a.skip(e);break;case 19:e===b("ThriftTypes").I32?c.identity_key_num_saved=a.readI32():a.skip(e);break;case 20:e===b("ThriftTypes").I32?c.identity_key_num_existing=a.readI32():a.skip(e);break;case 21:e===b("ThriftTypes").I32?c.is_e2ee_mandated=a.readI32():a.skip(e);break;case 22:e===b("ThriftTypes").I32?c.local_trace_id=a.readI32():a.skip(e);break;case 23:e===b("ThriftTypes").I32?c.remote_trace_id=a.readI32():a.skip(e);break;case 24:e===b("ThriftTypes").I32?c.local_device_id=a.readI32():a.skip(e);break;case 25:e===b("ThriftTypes").I32?c.remote_device_id=a.readI32():a.skip(e);break;case 26:if(e===b("ThriftTypes").LIST){c.events=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI32();c.events.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},l=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.received_key_message_counter=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.sent_key_message_counter=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.cached_key_message_counter=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.used_cached_key_counter=a.readI64().toString():a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.unused_smu_counter=a.readI64().toString():a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.missing_key_message_counter=a.readI64().toString():a.skip(e);break;case 7:e===b("ThriftTypes").I64?c.negotiate_off_status=a.readI64().toString():a.skip(e);break;case 8:e===b("ThriftTypes").I64?c.cipher_suite_status=a.readI64().toString():a.skip(e);break;case 9:e===b("ThriftTypes").I64?c.decrypt_used_cached_session_counter=a.readI64().toString():a.skip(e);break;case 10:e===b("ThriftTypes").I64?c.encrypt_used_cached_session_counter=a.readI64().toString():a.skip(e);break;case 11:e===b("ThriftTypes").I64?c.sent_ack_message_counter=a.readI64().toString():a.skip(e);break;case 12:e===b("ThriftTypes").I64?c.reuse_ackd_uid_counter=a.readI64().toString():a.skip(e);break;case 13:e===b("ThriftTypes").I64?c.total_uids_created_counter=a.readI64().toString():a.skip(e);break;case 14:e===b("ThriftTypes").I64?c.generate_chain_key_failed_error=a.readI64().toString():a.skip(e);break;case 15:e===b("ThriftTypes").I64?c.set_chain_key_failed_error=a.readI64().toString():a.skip(e);break;case 16:e===b("ThriftTypes").I64?c.key_provider_not_found_error=a.readI64().toString():a.skip(e);break;case 17:e===b("ThriftTypes").I64?c.key_message_parse_failed_error=a.readI64().toString():a.skip(e);break;case 18:e===b("ThriftTypes").I64?c.empty_pkb_result_error=a.readI64().toString():a.skip(e);break;case 19:e===b("ThriftTypes").I64?c.empty_encrypt_result_error=a.readI64().toString():a.skip(e);break;case 20:e===b("ThriftTypes").I64?c.empty_decrypt_result_error=a.readI64().toString():a.skip(e);break;case 21:e===b("ThriftTypes").I64?c.empty_version_error=a.readI64().toString():a.skip(e);break;case 22:e===b("ThriftTypes").I64?c.unsupported_version_error=a.readI64().toString():a.skip(e);break;case 23:e===b("ThriftTypes").I64?c.midcall_version_change_error=a.readI64().toString():a.skip(e);break;case 24:e===b("ThriftTypes").I64?c.inconsistent_remote_maps_error=a.readI64().toString():a.skip(e);break;case 25:e===b("ThriftTypes").I64?c.key_message_pkb_mismatch_error=a.readI64().toString():a.skip(e);break;case 26:e===b("ThriftTypes").I64?c.no_key_or_ack_in_e2ee_message_error=a.readI64().toString():a.skip(e);break;case 27:e===b("ThriftTypes").I64?c.receiver_key_provider_not_found_error=a.readI64().toString():a.skip(e);break;case 28:e===b("ThriftTypes").I64?c.pkb_parse_failed_error=a.readI64().toString():a.skip(e);break;case 29:e===b("ThriftTypes").I64?c.message_deserialized_failed_error=a.readI64().toString():a.skip(e);break;case 30:e===b("ThriftTypes").I64?c.decrypt_no_identity_key_and_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 31:e===b("ThriftTypes").I64?c.encrypt_no_identity_key_and_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 32:e===b("ThriftTypes").I64?c.decrypt_ack_wrong_message_error=a.readI64().toString():a.skip(e);break;case 33:e===b("ThriftTypes").I64?c.invalid_uid_received_error=a.readI64().toString():a.skip(e);break;case 34:e===b("ThriftTypes").I64?c.ack_for_absent_user=a.readI64().toString():a.skip(e);break;case 35:e===b("ThriftTypes").I64?c.uid_not_awaiting_ack_error=a.readI64().toString():a.skip(e);break;case 36:e===b("ThriftTypes").I64?c.decrypt_ack_error=a.readI64().toString():a.skip(e);break;case 37:e===b("ThriftTypes").I64?c.empty_decrypt_result_ack_error=a.readI64().toString():a.skip(e);break;case 38:e===b("ThriftTypes").I64?c.decrypt_ack_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 39:e===b("ThriftTypes").I64?c.encrypt_ack_error=a.readI64().toString():a.skip(e);break;case 40:e===b("ThriftTypes").I64?c.empty_encrypt_result_ack_error=a.readI64().toString():a.skip(e);break;case 41:e===b("ThriftTypes").I64?c.invalid_message_type_error=a.readI64().toString():a.skip(e);break;case 42:e===b("ThriftTypes").I64?c.server_state_deserialized_failed_error=a.readI64().toString():a.skip(e);break;case 43:e===b("ThriftTypes").I64?c.crypto_engine_failure_error=a.readI64().toString():a.skip(e);break;case 44:e===b("ThriftTypes").I64?c.empty_e2ee_client_state_error=a.readI64().toString():a.skip(e);break;case 45:e===b("ThriftTypes").I64?c.group_e2ee_negotiated=a.readI64().toString():a.skip(e);break;case 46:e===b("ThriftTypes").I64?c.negotiation_mode_kn=a.readI64().toString():a.skip(e);break;case 47:e===b("ThriftTypes").I64?c.group_e2ee_setup_status=a.readI64().toString():a.skip(e);break;case 48:e===b("ThriftTypes").I64?c.enable_group_e2ee=a.readI64().toString():a.skip(e);break;case 49:e===b("ThriftTypes").I64?c.identity_key_mode_group=a.readI64().toString():a.skip(e);break;case 50:e===b("ThriftTypes").I64?c.identity_key_num_persistent_group=a.readI64().toString():a.skip(e);break;case 51:e===b("ThriftTypes").I64?c.identity_key_num_validated_group=a.readI64().toString():a.skip(e);break;case 52:e===b("ThriftTypes").I64?c.identity_key_num_saved_group=a.readI64().toString():a.skip(e);break;case 53:e===b("ThriftTypes").I64?c.identity_key_num_existing_group=a.readI64().toString():a.skip(e);break;case 54:e===b("ThriftTypes").I64?c.max_key_message_latency_ms=a.readI64().toString():a.skip(e);break;case 55:e===b("ThriftTypes").I64?c.max_key_message_latency_ms_joiner=a.readI64().toString():a.skip(e);break;case 56:e===b("ThriftTypes").I64?c.max_smu_to_key_message_latency_ms=a.readI64().toString():a.skip(e);break;case 57:e===b("ThriftTypes").I64?c.process_smu_time_ms=a.readI64().toString():a.skip(e);break;case 58:e===b("ThriftTypes").I64?c.decryption_total_frames=a.readI64().toString():a.skip(e);break;case 59:e===b("ThriftTypes").I64?c.decryption_total_error_frames=a.readI64().toString():a.skip(e);break;case 60:e===b("ThriftTypes").I64?c.decryption_error_frames_alloc=a.readI64().toString():a.skip(e);break;case 61:e===b("ThriftTypes").I64?c.decryption_error_frames_invalid_params=a.readI64().toString():a.skip(e);break;case 62:e===b("ThriftTypes").I64?c.decryption_error_frames_cipher=a.readI64().toString():a.skip(e);break;case 63:e===b("ThriftTypes").I64?c.decryption_error_frames_parse=a.readI64().toString():a.skip(e);break;case 64:e===b("ThriftTypes").I64?c.decryption_error_frames_invalid_key=a.readI64().toString():a.skip(e);break;case 65:e===b("ThriftTypes").I64?c.decryption_error_frames_missing_key=a.readI64().toString():a.skip(e);break;case 66:e===b("ThriftTypes").I64?c.decryption_error_frames_out_of_ratchet_space=a.readI64().toString():a.skip(e);break;case 67:e===b("ThriftTypes").I64?c.decryption_error_frames_cipher_auth=a.readI64().toString():a.skip(e);break;case 68:e===b("ThriftTypes").I64?c.decryption_error_frames_frame_too_old=a.readI64().toString():a.skip(e);break;case 69:e===b("ThriftTypes").I64?c.decryption_error_frames_seen_frame=a.readI64().toString():a.skip(e);break;case 70:e===b("ThriftTypes").I64?c.decryption_error_frames_invalid_frame=a.readI64().toString():a.skip(e);break;case 71:e===b("ThriftTypes").I64?c.decryption_error_frames_setting_invalid_key=a.readI64().toString():a.skip(e);break;case 72:e===b("ThriftTypes").I64?c.decryption_error_frames_setting_existing_key=a.readI64().toString():a.skip(e);break;case 73:e===b("ThriftTypes").I64?c.decryption_error_frames_escape_data=a.readI64().toString():a.skip(e);break;case 74:e===b("ThriftTypes").I64?c.decryption_error_frames_deescape_data=a.readI64().toString():a.skip(e);break;case 75:e===b("ThriftTypes").I64?c.decryption_error_frames_parse_frame_or_key=a.readI64().toString():a.skip(e);break;case 76:e===b("ThriftTypes").I64?c.decryption_error_frames_unknown=a.readI64().toString():a.skip(e);break;case 77:e===b("ThriftTypes").I64?c.decryption_unencrypted_frames=a.readI64().toString():a.skip(e);break;case 78:e===b("ThriftTypes").I64?c.encryption_total_frames=a.readI64().toString():a.skip(e);break;case 79:e===b("ThriftTypes").I64?c.encryption_error_frames=a.readI64().toString():a.skip(e);break;case 80:e===b("ThriftTypes").I64?c.encryption_escape_bytes=a.readI64().toString():a.skip(e);break;case 81:e===b("ThriftTypes").I64?c.encryption_total_error_frames=a.readI64().toString():a.skip(e);break;case 82:e===b("ThriftTypes").I64?c.encryption_error_frames_alloc=a.readI64().toString():a.skip(e);break;case 83:e===b("ThriftTypes").I64?c.encryption_error_frames_invalid_params=a.readI64().toString():a.skip(e);break;case 84:e===b("ThriftTypes").I64?c.encryption_error_frames_cipher=a.readI64().toString():a.skip(e);break;case 85:e===b("ThriftTypes").I64?c.encryption_error_frames_parse=a.readI64().toString():a.skip(e);break;case 86:e===b("ThriftTypes").I64?c.encryption_error_frames_invalid_key=a.readI64().toString():a.skip(e);break;case 87:e===b("ThriftTypes").I64?c.encryption_error_frames_cipher_auth=a.readI64().toString():a.skip(e);break;case 88:e===b("ThriftTypes").I64?c.encryption_error_frames_escape_data=a.readI64().toString():a.skip(e);break;case 89:e===b("ThriftTypes").I64?c.encryption_error_frames_unsupported_codec=a.readI64().toString():a.skip(e);break;case 90:e===b("ThriftTypes").I64?c.encryption_error_frames_unknown=a.readI64().toString():a.skip(e);break;case 91:e===b("ThriftTypes").I64?c.decryption_total_frames_data_channel=a.readI64().toString():a.skip(e);break;case 92:e===b("ThriftTypes").I64?c.decryption_total_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 93:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_alloc=a.readI64().toString():a.skip(e);break;case 94:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_invalid_params=a.readI64().toString():a.skip(e);break;case 95:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_cipher=a.readI64().toString():a.skip(e);break;case 96:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_parse=a.readI64().toString():a.skip(e);break;case 97:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_invalid_key=a.readI64().toString():a.skip(e);break;case 98:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_missing_key=a.readI64().toString():a.skip(e);break;case 99:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_out_of_ratchet_space=a.readI64().toString():a.skip(e);break;case 100:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_cipher_auth=a.readI64().toString():a.skip(e);break;case 101:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_frame_too_old=a.readI64().toString():a.skip(e);break;case 102:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_seen_frame=a.readI64().toString():a.skip(e);break;case 103:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_invalid_frame=a.readI64().toString():a.skip(e);break;case 104:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_setting_invalid_key=a.readI64().toString():a.skip(e);break;case 105:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_setting_existing_key=a.readI64().toString():a.skip(e);break;case 106:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_escape_data=a.readI64().toString():a.skip(e);break;case 107:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_deescape_data=a.readI64().toString():a.skip(e);break;case 108:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_parse_frame_or_key=a.readI64().toString():a.skip(e);break;case 109:e===b("ThriftTypes").I64?c.decryption_error_frames_data_channel_unknown=a.readI64().toString():a.skip(e);break;case 110:e===b("ThriftTypes").I64?c.decryption_unencrypted_frames_data_channel=a.readI64().toString():a.skip(e);break;case 111:e===b("ThriftTypes").I64?c.encryption_total_frames_data_channel=a.readI64().toString():a.skip(e);break;case 112:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 113:e===b("ThriftTypes").I64?c.encryption_total_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 114:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_alloc=a.readI64().toString():a.skip(e);break;case 115:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_invalid_params=a.readI64().toString():a.skip(e);break;case 116:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_cipher=a.readI64().toString():a.skip(e);break;case 117:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_parse=a.readI64().toString():a.skip(e);break;case 118:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_invalid_key=a.readI64().toString():a.skip(e);break;case 119:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_cipher_auth=a.readI64().toString():a.skip(e);break;case 120:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_escape_data=a.readI64().toString():a.skip(e);break;case 121:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_unsupported_codec=a.readI64().toString():a.skip(e);break;case 122:e===b("ThriftTypes").I64?c.encryption_error_frames_data_channel_unknown=a.readI64().toString():a.skip(e);break;case 123:e===b("ThriftTypes").I64?c.num_removed_data_decryptors=a.readI64().toString():a.skip(e);break;case 124:e===b("ThriftTypes").I64?c.num_frame_decryptor_with_unencrypted_data=a.readI64().toString():a.skip(e);break;case 125:e===b("ThriftTypes").I64?c.num_removed_decryptors=a.readI64().toString():a.skip(e);break;case 126:e===b("ThriftTypes").I64?c.data_channel_encryption_not_ready_in_mandated_calls_error=a.readI64().toString():a.skip(e);break;case 127:e===b("ThriftTypes").I64?c.num_e2ee_message_total_encrypt=a.readI64().toString():a.skip(e);break;case 128:e===b("ThriftTypes").I64?c.num_e2ee_message_error_encrypt=a.readI64().toString():a.skip(e);break;case 129:e===b("ThriftTypes").I64?c.num_e2ee_message_total_decrypt=a.readI64().toString():a.skip(e);break;case 130:e===b("ThriftTypes").I64?c.num_e2ee_message_error_decrypt=a.readI64().toString():a.skip(e);break;case 131:e===b("ThriftTypes").I64?c.negotiate_off_time=a.readI64().toString():a.skip(e);break;case 132:e===b("ThriftTypes").I64?c.negotiated_version=a.readI64().toString():a.skip(e);break;case 133:e===b("ThriftTypes").I64?c.decryptor_removed_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c};d=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.p2p_e2ee=k(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.group_e2ee=l(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.p2p_e2ee===void 0&&(c.p2p_e2ee=g());c.group_e2ee===void 0&&(c.group_e2ee=h());return c};e.exports={E2eeMetrics$DefaultConstructor:a,GroupE2eeMetrics$DefaultConstructor:h,P2pE2eeMetrics$DefaultConstructor:g,deserializeE2eeMetrics:d,deserializeGroupE2eeMetrics:l,deserializeP2pE2eeMetrics:k,serializeE2eeMetrics:c,serializeGroupE2eeMetrics:j,serializeP2pE2eeMetrics:i}}),null);
__d("ZenonDeviceInfoHelper",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=-1,h=!1,i={getBatteryStats:function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(i.internalGetWindow().navigator.getBattery);case 2:a=d.sent;if(!(typeof a!=="function")){d.next=5;break}return d.abrupt("return",{level:g,placeholder:!0,wasCharged:!1});case 5:d.next=7;return b("regeneratorRuntime").awrap(a.call(navigator));case 7:c=d.sent;c.charging?h=!0:c.onchargingchange=function(a){a.target.charging&&(h=!0),a.target.onchargingchange=null};return d.abrupt("return",{level:c.level*100,placeholder:!1,wasCharged:h});case 10:case"end":return d.stop()}},null,this)},internalGetWindow:function(){return window}};a=i;f["default"]=a}),66);
__d("ZenonDeviceInfoUtils",["UserAgentData"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("UserAgentData").browserName,b=c("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(b+=" Mobile",a==="Chrome"&&(a="Mobile "+a));window.external&&window.external.pinPage&&(a==="Chrome"&&(a+=" Edge"));return{browser:a,browser_version:c("UserAgentData").browserFullVersion,device:c("UserAgentData").deviceName,os:b,os_version:c("UserAgentData").platformFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth}}g.getDeviceSoftwareInfo=a}),98);
__d("ZenonVCSTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",MWS:"mws",VOIP:"voip"});c=b("$InternalEnum")({LL_BASIC:1,LL_DEBUG:2,LL_INFO:4,LL_NIL:0,LL_VERBOSE:5,LL_WARNING:3});f.ZenonCallType=a;f.ZenonUploadLogLevel=c}),66);
__d("ZenonLocalUploadLogLevel",["CurrentUser","ZenonVCSTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Math.max(h(),a)}function h(){return c("CurrentUser").isEmployee()||c("CurrentUser").isTestUser()?d("ZenonVCSTypes").ZenonUploadLogLevel.LL_DEBUG:d("ZenonVCSTypes").ZenonUploadLogLevel.LL_NIL}g.getUploadLogLevel=a;g.getLocalUploadLogLevel=h}),98);
__d("ZenonLoggingEventTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Send","Receive"]);f.ZenonUpdateIceInfoDirection=a}),66);
__d("ZenonSignalingProtocolUtils",["ZenonSignalingProtocol"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([c("ZenonSignalingProtocol").MW,c("ZenonSignalingProtocol").MWPP]);a={isMwSupportedProtocol:function(a){return h.has(a)}};b=a;g["default"]=b}),98);
__d("ZenonCallSummary",["ChannelClientID","E2eeMetricsSerializers","SiteData","WebPerformanceDeviceInfo","ZenonBrowsers","ZenonCallFalcoEventUtils","ZenonDeviceInfoHelper","ZenonDeviceInfoUtils","ZenonDismissReason","ZenonIceStatsParser","ZenonLocalUploadLogLevel","ZenonLoggingEventTypes","ZenonPeerID","ZenonSignalingProtocol","ZenonSignalingProtocolUtils","ZenonVCSTypes","gkx","performanceNow","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h={PRESSED_ANSWER:"p_a"};function i(a){var b=c("gkx")("1984542"),e=c("gkx")("1845186"),f=d("ZenonBrowsers").isFBWebviewWithChromeMinVersion(67)&&c("gkx")("1888615");b=b||e||f;if(c("ZenonSignalingProtocolUtils").isMwSupportedProtocol(a)&&b)return"ZenonPlatform";e=c("gkx")("1341692");return e?"Old Codebase":"ZenonScotch"}var j=19,k=24,l={AT_LEAST_ONE_PARTICIPANT_ALERTED:"p_alert",AT_LEAST_ONE_PARTICIPANT_ANSWERED:"p_answer",CALL_CONNECTED:"connected",CALL_ENDED:"ended",CALL_STARTED:"started",NEGOTIATION_COMPLETED:"negotiation_completed",NETWORK_READY:"network_ready",PROC_JOIN_RESPONSE:"p_jresp",PROC_SERVER_MEDIA_UPDATE_WITH_ANSWER:"p_sreqa",RECV_ANSWER:"r_a",RECV_ANSWER_ACK:"r_aack",RECV_JOIN_RESPONSE:"r_jresp",RECV_OFFER:"r_o",RECV_OFFER_ACK:"r_oack",RECV_OK:"r_ok",RECV_PRANSWER:"r_pr",RECV_RETRIED_ANSWER:"r_a2",RECV_RETRIED_ANSWER_ACK:"r_aack2",RECV_RETRIED_OFFER:"r_o2",RECV_RETRIED_OFFER_ACK:"r_oack2",RECV_RING_REQUEST:"r_rreq",RECV_SERVER_MEDIA_UPDATE_WITH_ANSWER:"r_sreqa",SENT_ANSWER:"s_a",SENT_ANSWER_ACK:"s_aack",SENT_JOIN_REQUEST:"s_jreq",SENT_OFFER:"s_o",SENT_OFFER_ACK:"s_oack",SENT_OK:"s_ok",SENT_PRANSWER:"s_pr",SENT_RETRIED_ANSWER:"s_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",SENT_RETRIED_OFFER:"s_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",SENT_RING_RESPONSE:"s_rresp"},m={FIRST_MEDIA:"r_media",FIRST_VIDEO:"r_video"},n={BATTERY_END:"battery_end",BATTERY_START:"battery_start",CONNECTION_EFFECTIVE_TYPE:"conn_effective_type",DESKTOP_DEVICE_CLASS:"desktop_device_class",DEVICE_INFO:"device_info",INITIATED_BY_APP_ID:"initiated_by_app_id",INITIATED_BY_PAGE_ID:"initiated_by_page_id",MAX_CONCURRENT_CONNECTED_PARTICIPANTS:"max_concurrent_connected_participants",PEER_IS_MOBILE:"peer_is_mobile",RATING:"rating5",RATING_SHOWN:"rating_shown",ROOM_SURFACE:"room_surface",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",YEAR_CLASS:"year_class"};a=function(){function a(a){var b=a.callID,e=a.callTrigger,f=a.isCaller,g=a.isVideo,h=a.localCallID,j=a.peerID,l=a.protocol;a=a.uploadLogLevel;this.$23=0;this.$24=0;this.$29={};this.$30={};this.$31={};this.$32={};this.$33=!1;this.$35=0;this.$36=0;this.$37=0;this.$38=!1;this.$39=0;this.$40=0;this.$41={};this.$42={};this.$43={};this.$44={};this.$50={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},extraInfo:{},receiver:{},sender:{},video:{}};this.$51={error_count_decrypted:0,error_count_encrypted:0,frames_decrypted:0,frames_encrypted:0,group_e2ee_metrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),total_decrypt_time:0,total_encrypt_time:0};this.$53={};this.$54={};this.$56={};this.peerID=j;this.callID=b;this.localCallID=(j=h)!=null?j:c("uuid")();this.$1=d("ChannelClientID").getID();this.$3=f;this.$2=k;this.$6=i(l);this.$4=(b=a)!=null?b:d("ZenonLocalUploadLogLevel").getLocalUploadLogLevel();this.$5=e;this.$26=new Date().valueOf();this.$7=l===c("ZenonSignalingProtocol").P2P?"p2p":"mws";this.$19=null;this.$18=null;this.$34=this.peerID===d("ZenonPeerID").ZenonMWPeerID;this.$14=c("SiteData").push_phase;this.$7==="p2p"?this.setCallType(g?d("ZenonVCSTypes").ZenonCallType.DIRECT_VIDEO:d("ZenonVCSTypes").ZenonCallType.VOIP):this.setCallType(d("ZenonVCSTypes").ZenonCallType.MWS);this.$28=c("performanceNow")();this.$27=0;this.$25=this.$28;this.$55=0;this.$56[n.DEVICE_INFO]=d("ZenonDeviceInfoUtils").getDeviceSoftwareInfo();this.$58();this.updateBatteryStart();this.$59();this.$60()}a.$61=function(a){try{return JSON.parse(a)}catch(a){return null}};a.fromJsonString=function(b){var e;b=this.$61(b);if(b==null)return null;if(b.version<j)return null;if(!Object.prototype.hasOwnProperty.call(b,"peerID")||!Object.prototype.hasOwnProperty.call(b,"callID")||!Object.prototype.hasOwnProperty.call(b,"isCaller")||!Object.prototype.hasOwnProperty.call(b,"startTime")||!Object.prototype.hasOwnProperty.call(b,"trigger")||!Object.prototype.hasOwnProperty.call(b,"signalingTime")||!Object.prototype.hasOwnProperty.call(b,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(b,"lastSerializedTime"))return null;var f=b.activeConn==="p2p"?c("ZenonSignalingProtocol").P2P:c("ZenonSignalingProtocol").MW;f=new a({callID:b.callID,isCaller:b.isCaller,isVideo:b.callType===d("ZenonVCSTypes").ZenonCallType.DIRECT_VIDEO,localCallID:b.localCallID,peerID:b.peerID,protocol:f});f.$1=b.deviceID;f.$2=b.version;f.$4=b.uploadLogLevel;f.$26=b.startTime;f.$5=b.trigger;f.$34=b.isUsingMultiway;f.$33=b.hasOfferInRingRequest;f.$35=(e=b.renegotiationCmuRequestSent)!=null?e:0;f.$36=(e=b.renegotiationSmuReqWithAnswerReceived)!=null?e:0;f.$37=(e=b.renegotiationSmuReqWithOfferReceived)!=null?e:0;f.$6=b.clientVersion;f.$29=b.signalingTime;f.$15=b.endCallReason;f.$16=b.endCallSubreason;f.$17=b.isRemoteEnded;f.$23=b.lastUpdatedTime;f.$24=b.lastSerializedTime;f.$9=b.joinWithSID;f.$19=(e=b.endIsConnected)!=null?e:null;f.$18=(e=b.pcIsConnected)!=null?e:null;f.$38=b.hasAnswerInJoinResponse;f.$39=(e=b.numIceConnectionStateConnected)!=null?e:0;f.$40=(e=b.numIceConnectionStateDisconnected)!=null?e:0;b.conferenceName!=null&&(f.$8=b.conferenceName);b.escP2PCallID!=null&&(f.$10=b.escP2PCallID);b.activeConn!=null&&(f.$7=b.activeConn);b.serverInfoData!=null&&(f.$12=b.serverInfoData);b.localVideoDuration!=null&&(f.$45=b.localVideoDuration);b.remoteVideoDuration!=null&&(f.$46=b.remoteVideoDuration);b.unsetOnRetrieve!=null&&(f.$22=b.unsetOnRetrieve);b.openCount!=null&&(f.$55=b.openCount);b.extraInfo&&(f.$56=b.extraInfo);b.gen0IceSentCount&&(f.$41=b.gen0IceSentCount);b.gen0IceReceivedCount&&(f.$42=b.gen0IceReceivedCount);b.iceConnections&&(f.$53=b.iceConnections);b.iceSentCount&&(f.$43=b.iceSentCount);b.iceReceivedCount&&(f.$44=b.iceReceivedCount);b.pcConnectionStates&&(f.$54=b.pcConnectionStates);b.accumulatedCallTime!=null&&(f.$27=b.accumulatedCallTime);b.escStateTimes&&(f.$30=b.escStateTimes);b.applicationEventTime&&(f.$31=b.applicationEventTime);b.videoEscTimes&&(f.$32=b.videoEscTimes);b.mediaStats&&(f.$50=b.mediaStats);b.e2eeStats&&(f.$51=b.e2eeStats);b.connectionType!==void 0&&(f.$20=b.connectionType);b.deviceCharged!=null&&(f.$57=b.deviceCharged);b.videoReceivedCodec!==null&&(f.$47=b.videoReceivedCodec);b.videoSentCodec!==null&&(f.$48=b.videoSentCodec);b.audioSentCodec!==null&&(f.$49=b.audioSentCodec);b.relayIP!==null&&b.relayIP!==void 0&&(f.$21=b.relayIP);b.startReach!=null&&(f.$52=b.startReach);b.sdpFormat!=null&&(f.$13=b.sdpFormat);return f};var e=a.prototype;e.toJsonString=function(){var a;this.$24=new Date().valueOf();a={accumulatedCallTime:this.$62(),activeConn:(a=this.$7)!=null?a:"p2p",applicationEventTime:this.$31,audioSentCodec:this.$49,callID:this.callID,callType:this.$11,clientVersion:this.$6,conferenceName:this.$8,connectionType:this.$20,deviceCharged:this.$57,deviceID:this.$1,e2eeStats:this.$51,endCallReason:this.$15,endCallSubreason:this.$16,endIsConnected:this.$19,escP2PCallID:this.$10,escStateTimes:this.$30,extraInfo:this.$56,gen0IceReceivedCount:this.$42,gen0IceSentCount:this.$41,hasAnswerInJoinResponse:this.$38,hasOfferInRingRequest:this.$33,iceConnections:this.$53,iceReceivedCount:this.$44,iceSentCount:this.$43,isCaller:this.$3,isRemoteEnded:this.$17,isUsingMultiway:this.$34,joinWithSID:this.$9,lastSerializedTime:this.$24,lastUpdatedTime:this.$23,localCallID:this.localCallID,localVideoDuration:this.$45,mediaStats:this.$50,numIceConnectionStateConnected:this.$39,numIceConnectionStateDisconnected:this.$40,pcConnectionStates:this.$54,pcIsConnected:this.$18,peerID:this.peerID,relayIP:this.$21,remoteVideoDuration:this.$46,renegotiationCmuRequestSent:this.$35,renegotiationSmuReqWithAnswerReceived:this.$36,renegotiationSmuReqWithOfferReceived:this.$37,sdpFormat:this.$13,serverInfoData:this.$12,signalingTime:this.$29,startReach:this.$52,startTime:this.$26,trigger:this.$5,unsetOnRetrieve:this.$22,uploadLogLevel:this.$4,version:this.$2,videoEscTimes:this.$32,videoReceivedCodec:this.$47,videoSentCodec:this.$48};return JSON.stringify(a)};e.unsetEndCallFields=function(){this.$22===!0&&(this.$15=null,this.$16=null,this.$17=null,this.$19=null,delete this.$29[l.CALL_ENDED],this.$28=0,this.$22=null)};e.isNull=function(){return this.peerID==="0"&&this.callID==="0"&&!this.$3&&this.$5==="NULL_SUMMARY"};e.getExtraInfo=function(){return this.$56};e.getLastUpdatedTime=function(){return this.$23};e.getMediaStats_DEBUG=function(){return this.$50};e.getDeviceID=function(){return this.$1};e.setDeviceID=function(a){this.$1=a};e.getSdpFormat=function(){return this.$13};e.setSdpFormat=function(a){this.$13=a};e.getLoggingArgs=function(){var a;return{call_id:this.callID,conf_name:(a=this.$8)!=null?a:"",peer_id:d("ZenonPeerID").convertPeerIDForLogging(this.peerID),serv_info:(a=this.$12)!=null?a:"",web_device_id:this.$1}};e.getDeviceCharged=function(){return this.$57};e.setDeviceCharged=function(a){this.$57!==!0&&(this.$57=a)};e.updateLastSavedTime=function(){this.$25=c("performanceNow")()};e.onCallAccepted=function(a){this.$31[h.PRESSED_ANSWER]=this.$62(),this.$5=a,this.$60()};e.onCallJoinRequest=function(a){this.$33=a,this.$34=this.peerID===d("ZenonPeerID").ZenonMWPeerID,this.$60()};e.onCallConnected=function(){this.$63(l.CALL_CONNECTED),this.$60()};e.onNegotiationComplete=function(){this.$63(l.NEGOTIATION_COMPLETED),this.$60()};e.onCallEscalated=function(){this.$35=this.$62(),this.$60()};e.onIceConnectionStateChangeToConnected=function(){this.$39++,this.$60()};e.onIceConnectionStateChangeToDisconnected=function(){this.$40++,this.$60()};e.onRenegotiationSmuReqWithAnswerReceived=function(){this.$36=this.$62(),this.$60()};e.onRenegotiationSmuReqWithOfferReceived=function(){this.$37=this.$62(),this.$60()};e.onCallEnded=function(a,b,c,d){this.$22=c,this.$15=a,this.$16=d,this.$17=b,this.$63(l.CALL_ENDED),this.$19==null&&(this.$19=this.$18),this.$60()};e.setPCIsConnected=function(a){this.$18!==a&&(this.$18=a,this.$54[d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$62())]=a)};e.onInviteResponded=function(){var a=this.$7==="p2p"?l.SENT_OFFER_ACK:l.SENT_RING_RESPONSE;this.$63(a);this.$60()};e.onInviteReceived=function(){var a=this.$7==="p2p"?l.RECV_OFFER:l.RECV_RING_REQUEST;this.$63(a);this.$60()};e.onInviteSent=function(){this.$63(l.SENT_JOIN_REQUEST),this.$60()};e.onInviteResponseReceived=function(){this.$63(l.RECV_JOIN_RESPONSE),this.$60()};e.onInviteResponseProcessed=function(){this.$63(l.PROC_JOIN_RESPONSE),this.$60()};e.onSmuWithAnswerReceived=function(){this.$63(l.RECV_SERVER_MEDIA_UPDATE_WITH_ANSWER),this.$60()};e.onSmuWithAnswerProcessed=function(){this.$63(l.PROC_SERVER_MEDIA_UPDATE_WITH_ANSWER),this.$60()};e.onAtLeastOneParticipantAlerted=function(){this.$63(l.AT_LEAST_ONE_PARTICIPANT_ALERTED),this.$60()};e.onAtLeastOneParticipantAnswered=function(){this.$63(l.AT_LEAST_ONE_PARTICIPANT_ANSWERED),this.$60()};e.onMediaConnected=function(){this.$63(l.NETWORK_READY),this.$60()};e.setIsPeerMobile=function(a){this.$56[n.PEER_IS_MOBILE]=a?"1":"0",this.$60()};e.setCallType=function(a){this.$11=a,this.$60()};e.setConferenceName=function(a){this.$8=a,this.$60()};e.setConnectionType=function(a){this.$20=a,this.$60()};e.setInitByPageID=function(a){this.$56[n.INITIATED_BY_PAGE_ID]=a,this.$60()};e.setInitByAppID=function(a){a!=null&&(this.$56[n.INITIATED_BY_APP_ID]=a,this.$60())};e.setJoinWithSID=function(a){this.$9=a,this.$60()};e.setMediaStats=function(a){var b=this;this.$50=a;a=a.extraInfo;var c=a.localIceCandidate,d=a.mediaPacketTimes;a=a.remoteIceCandidate;if(c){(this.$52==null||this.$52==="")&&(this.$52=c.networkType);if(a){var e=c.candidateType;c=c.protocol;var f=a.candidateType;a=a.protocol;if(e!=null&&c!=null&&f!=null&&a!=null){e="l:"+e+"-"+c+";r:"+f+"-"+a;this.$53[e]==null&&(this.$53[e]=this.$62())}}}if(d!=null){c=new Map([[m.FIRST_MEDIA,d.audio],[m.FIRST_VIDEO,d.video]]);c.forEach(function(a,c){if(a!=null){a=a-b.$28;b.$29[c]==null&&(b.$29[c]=Math.floor(b.$27+a))}})}this.updateBatteryEnd();this.$60()};e.setServerInfoData=function(a){this.$12=a,this.$60()};e.setRating=function(a){this.$56[n.RATING]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.$60()};e.setFeedback=function(a){this.$56[n.SURVEY_DETAILS]=a,this.$60()};e.setSurveyChoice=function(a){this.$56[n.SURVEY_CHOICE]=a,this.$60()};e.setMaxConnectedParticipants=function(a){this.$56[n.MAX_CONCURRENT_CONNECTED_PARTICIPANTS]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.$60()};e.setHasAnswerInJoinResponse=function(a){this.$38=a,this.$60()};e.setLinkSurface=function(a){this.$56[n.ROOM_SURFACE]=a,this.$60()};e.updateIceInfo=function(a,b){var c=b===d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$41:this.$42,e=b===d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$43:this.$44;b=d("ZenonIceStatsParser").extractIceInfo(a);b.forEach(function(a){var b=a.gen;a=a.type;b===0&&(c[a]==null?c[a]=1:c[a]++);e[a]==null?e[a]=1:e[a]++})};e.updateE2EEStats=function(a){this.$51=a,this.$60()};e.$63=function(a){if(this.$29[a]!=null)return;this.$29[a]=this.$62()};e.$62=function(){var a=c("performanceNow")()-this.$28;return Math.floor(this.$27+a)};e.$60=function(){this.$23=new Date().valueOf()};e.$59=function(){var a=d("WebPerformanceDeviceInfo").getMobileYearClass();a!=null&&a>0?this.$56[n.YEAR_CLASS]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(a):this.$56[n.DESKTOP_DEVICE_CLASS]=d("WebPerformanceDeviceInfo").getDeviceLevel()};e.updateBatteryStart=function(){var a,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(c("ZenonDeviceInfoHelper").getBatteryStats());case 2:a=f.sent,d=a.level,e=a.placeholder,e!==!0&&(this.$56[n.BATTERY_START]=d);case 6:case"end":return f.stop()}},null,this)};e.updateBatteryEnd=function(){var a,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(c("ZenonDeviceInfoHelper").getBatteryStats());case 2:a=g.sent,d=a.level,e=a.placeholder,f=a.wasCharged,e!==!0&&(this.$56[n.BATTERY_END]=d,this.setDeviceCharged(f));case 7:case"end":return g.stop()}},null,this)};e.toString=function(){var a={core_metrics:this.$64(),time_series:null};return JSON.stringify(a)};e.getGroupE2eeMetricsInFalcoShape=function(){return babelHelpers["extends"]({local_call_id:this.localCallID,shared_call_id:this.$7==="p2p"?this.callID:this.$12,steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now())},this.$51.group_e2ee_metrics)};e.toFalco=function(){return{CoreAudioMetrics:this.$50.CoreAudioMetrics,CoreVideoMetrics:this.$50.CoreVideoMetrics,DebugAudioMetrics:this.$50.DebugAudioMetrics,active_conn:this.$7,answer_in_join_resp:this.$38,app_event_times:{opened:d("ZenonCallFalcoEventUtils").intNumberOrNull(this.$31.opened),p_a:d("ZenonCallFalcoEventUtils").intNumberOrNull(this.$31.p_a)},call_type:this.$11,caller:this.$3,client_version:this.$6,conf_name:this.$8,conn:this.$65(),device_charged:this.$57,e2ee:{g:{DE:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$51.error_count_decrypted),DF:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$51.frames_decrypted),DT:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$51.total_decrypt_time),EE:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$51.error_count_encrypted),EF:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$51.frames_encrypted),ET:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$51.total_encrypt_time)}},end:this.$66(),esc_p2p_call_id:this.$10,esc_state_times:{esc_available:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.esc_available),mw_call_ended:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.mw_call_ended),out_started:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.out_started),p_connected_mw:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.p_connected_mw),p_connecting_mw:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.p_connecting_mw),p_fail_conn:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.p_fail_conn),ready_esc:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.ready_esc),rej_invalid_state:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.rej_invalid_state),timed_out:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.timed_out),u_connected_mw:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.u_connected_mw),u_connecting_mw:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$30.u_connecting_mw)},is_using_multiway:this.$34,join_with_sid:this.$9,log_level:this.$67(d("ZenonVCSTypes").ZenonUploadLogLevel.cast(this.$4)),num_ice_conn_change_conn:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$39),num_ice_conn_change_disconn:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$40),offer_in_ring_req:this.$33,open_count:this.$55,peer_id:d("ZenonPeerID").convertPeerIDForLogging(this.peerID),perf:this.$68(),push_phase:this.$14,receiver:this.$69(this.$50.receiver),sdp_reneg_times:[{crs:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$35),srar:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$36),sror:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$37)}],sender:this.$70(this.$50.sender),serv_info:this.$12,signaling:this.$71(),ver:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$2),vid_esc_times:this.$32,video:this.$72()}};e.$64=function(){return{CoreAudioMetrics:this.$50.CoreAudioMetrics,CoreVideoMetrics:this.$50.CoreVideoMetrics,DebugAudioMetrics:this.$50.DebugAudioMetrics,active_conn:this.$7,answer_in_join_resp:this.$38,app_event_times:this.$31,call_type:this.$11,caller:this.$3,client_version:this.$6,conf_name:this.$8,conn:this.$65(),device_charged:this.$57,e2ee_stats:this.$51,end:this.$66(),esc_p2p_call_id:this.$10,esc_state_times:this.$30,is_using_multiway:this.$34,join_with_sid:this.$9,log_level:this.$67(d("ZenonVCSTypes").ZenonUploadLogLevel.cast(this.$4)),num_ice_conn_change_conn:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$39),num_ice_conn_change_disconn:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$40),offer_in_ring_req:this.$33,open_count:this.$55,peer_id:d("ZenonPeerID").convertPeerIDForLogging(this.peerID),perf:this.$68(),push_phase:this.$14,receiver:this.$69(this.$50.receiver),sdp_reneg_times:[{crs:this.$35,srar:this.$36,sror:this.$37}],sender:this.$70(this.$50.sender),serv_info:this.$12,signaling:this.$71(),ver:this.$2,vid_esc_times:this.$32,video:this.$50.video}};e.$67=function(a){if(a==null)return"";switch(a){case d("ZenonVCSTypes").ZenonUploadLogLevel.LL_BASIC:return"basic";case d("ZenonVCSTypes").ZenonUploadLogLevel.LL_DEBUG:return"debug";case d("ZenonVCSTypes").ZenonUploadLogLevel.LL_WARNING:return"warning";case d("ZenonVCSTypes").ZenonUploadLogLevel.LL_INFO:return"info";case d("ZenonVCSTypes").ZenonUploadLogLevel.LL_VERBOSE:return"verbose";default:return""}};e.$65=function(){var a={},b=this.$50.sender,c=b.avgrtt,e=b.maxrtt;b=b.minrtt;c!=null&&(a.avgrtt=c,a.maxrtt=d("ZenonCallFalcoEventUtils").nonNullIntNumber(e),a.minrtt=d("ZenonCallFalcoEventUtils").nonNullIntNumber(b));this.$21!=null&&(a.relay_ip=this.$21);this.$52!=null&&this.$52!==""&&(a.start_reach=this.$52);var f={};Object.entries(this.$53).forEach(function(a){var b=a[0];a=a[1];typeof a==="number"&&(f[d("ZenonCallFalcoEventUtils").nonNullIntNumber(a)]=b)});a.types=f;a.ctd=this.$54;return a};e.$71=function(){var a={start_time:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$26),time_from_start:p(this.$29)};this.$5!=null&&(a.trigger=this.$5);var b=this.$73();b>0&&(a.duration=d("ZenonCallFalcoEventUtils").nonNullIntNumber(b));return a};e.$70=function(a){return{avgrtt:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.avgrtt),bytes:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.bytes),codec:a.codec,ice:o(this.$43),ice_g0:o(this.$41),maxrtt:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.maxrtt),minrtt:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.minrtt),plost:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.plost),psent:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.psent),taulc:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.taulc),tx_sum_lvl:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.tx_sum_lvl),ube_avg:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.ube_avg)}};e.$69=function(a){return{bytes:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.bytes),codec:a.codec,dbe_avg:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dbe_avg),dec_ar:a.dec_ar,dec_cng:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dec_cng),dec_normal:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dec_normal),dec_pack_flush:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dec_pack_flush),dec_per:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dec_per),dec_plc:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dec_plc),dec_plc_cng:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.dec_plc_cng),decel_cnt:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.decel_cnt),e2el:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.e2el),fecpd:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.fecpd),fecpr:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.fecpr),ice:o(this.$44),ice_g0:o(this.$42),jbd:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.jbd),jbec:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.jbec),jitter:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.jitter),neteq_calls:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.neteq_calls),plost:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.plost),precv:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.precv),rx_sum_lvl:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.rx_sum_lvl),sp_dur:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.sp_dur),sp_r:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.sp_r),taue:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.taue),taulc:d("ZenonCallFalcoEventUtils").intNumberOrNull(a.taulc)}};e.$72=function(){var a;return{bwe:this.$50.video.bwe,ld:this.$50.video.ld,rd:this.$50.video.rd,receiver:{av:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.av),avabs:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.avabs),dec_bytes:(a=this.$50.video.receiver)==null?void 0:a.dec_bytes,dec_frame:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.dec_frame),dec_time:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.dec_time),dec_time_all_streams:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.dec_time_all_streams),dname:(a=this.$50.video.receiver)==null?void 0:a.dname,dpxl:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.dpxl),e2el:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.e2el),fir:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.fir),frcnt:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.frcnt),frd:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.frd),frdur:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.frdur),frdur500:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.frdur500),jbd:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.jbd),jbec:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.jbec),jtasb:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.jtasb),jtfrm:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.jtfrm),jtkey:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.jtkey),nack:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.nack),pact:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.pact),padur:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.padur),pli:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.pli),plost:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.plost),precv:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.precv),qps:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.qps),recjbl:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.recjbl),recv:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.recv),rh:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.rh),rw:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.rw),tdt:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.receiver)==null?void 0:a.tdt)},sender:{ah:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.ah),aw:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.aw),ch:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.ch),cw:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.cw),efrate:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.efrate),ehist:(a=this.$50.video.sender)==null?void 0:a.ehist,eiframes:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.eiframes),eipxl:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.eipxl),ename:(a=this.$50.video.sender)==null?void 0:a.ename,eopxl:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.eopxl),eqps:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.eqps),fcap:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.fcap),fcsn:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.fcsn),fir:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.fir),frames:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.frames),histResScale:((a=(a=this.$50.video.sender)==null?void 0:a.histResScale)!=null?a:[]).map(function(a){return d("ZenonCallFalcoEventUtils").nonNullIntNumber(a)}),kframes:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.kframes),nack:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.nack),pli:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.pli),plost:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.plost),psent:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.psent),sim_l_chg:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.sim_l_chg),ss:{avbr:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.avbr),avbw:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.avbw),dur:(a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.dur,eiframes:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.eiframes),eipxl:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.eipxl),eopxl:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.eopxl),eqps:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.eqps),frames:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:(a=a.ss)==null?void 0:a.frames)},tet:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.tet),tpsd:d("ZenonCallFalcoEventUtils").intNumberOrNull((a=this.$50.video.sender)==null?void 0:a.tpsd)}}};e.$73=function(a){var b=this.$29[l.CALL_CONNECTED]||this.$29[l.NETWORK_READY];if(!b)return 0;a=this.$29[l.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$27||this.$62();return Math.max(0,a-b)};e.$66=function(){var a,b={};this.$15!=null&&(b.end_call_reason_string=d("ZenonDismissReason").dismissToEndCallReason(this.$15),this.$16!==null&&(b.end_call_subreason_string=this.$16),b.remote_ended=this.$17,b.end_ctd=this.$19);this.$20!=null&&(b.conn_type=this.$20);a=(a=this.$50.extraInfo)!=null?a:{};a=a.localIceCandidate;a&&a.networkType!==""&&(b.reach=a.networkType);return b};e.$68=function(){var a,b,c=this.$73();if(c<=0)return;a=(a=(a=this.$50.video.receiver)==null?void 0:a.tdt)!=null?a:0;b=(b=(b=this.$50.video.sender)==null?void 0:b.tet)!=null?b:0;a=a+b;b=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(100*(a/c)));return{cpu:{proc:{avg:b}}}};e.$58=function(){var a;((a=window.navigator.connection)==null?void 0:a.effectiveType)!=null&&(this.$56[n.CONNECTION_EFFECTIVE_TYPE]=window.navigator.connection.effectiveType)};return a}();function o(a){return{host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(a.host),relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(a.relay),srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(a.srflx)}}function p(a){var b={},c=Object.keys(a);for(var e=0;e<c.length;e++){var f=c[e];b[f]=d("ZenonCallFalcoEventUtils").intNumberOrNull(a[f])}return b}g["default"]=a}),98);
__d("RtcClientCallSummaryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("799");c=b("FalcoLoggerInternal").create("rtc_client_call_summary",a);e.exports=c}),null);
__d("ZenonCallIDType",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(){return c("randomInt")(0,4294967294)+1}g.convertNumberToZenonCallID=a;g.generateZenonCallID=b}),98);
__d("ZenonGenericCallSummaryStore",["CacheStorage","WebStorage","ZenonInfraActionsLogger","ZenonUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3,i=3;a=function(){function a(a,b,d){this.$1=a,this.$2=new(c("CacheStorage"))(b,d)}var b=a.prototype;b.getCallSummaries=function(){return this.$2.get(this.$1)||{}};b.removeCallSummaries=function(a){this.mutateCallSummaries(function(b){a.forEach(function(a){var c=a.callID;a=a.peerID;b[a]&&b[a][c]&&(delete b[a][c],Object.entries(b[a]).length===0&&delete b[a])});return b})};b.mutateCallSummaries=function(a,b,d,e){var f=this;b===void 0&&(b=i);d===void 0&&(d=!1);e===void 0&&(e=null);var g=this.getCallSummaries(),j=this.getCallSummaries();g=a(g);var k=this.getCallSummaries();c("areEqual")(j,k)?(this.$2.set(this.$1,g),this.logStorageError(this.$2.getLastSetException(),e)):b>0&&(d?c("setTimeout")(function(){f.mutateCallSummaries(a,b-1,!0)},h):this.mutateCallSummaries(a,b-1,!0))};b.logStorageError=function(a,b){a!=null&&(d("ZenonUserActionLogger").logError({call_id:b==null?void 0:b.callID,error_domain:"ZenonGenericCallSummaryStore_storeCallSummary",error_type:a.name,peer_id:b==null?void 0:b.peerID}),c("WebStorage").isLocalStorageQuotaExceeded()&&c("ZenonInfraActionsLogger").logCounter("local_storage_quota_exceeded"))};return a}();g["default"]=a}),98);
__d("ZenonCallSummaryStore",["FBLogger","ZenonCallSummary","ZenonGenericCallSummaryStore"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallSummary=function(a,b){var d=this.getCallSummaries();d=d[a]?d[a][b]:null;if(d)return c("ZenonCallSummary").fromJsonString(d.__d);else return null};d.storeCallSummary=function(a){if(a.isNull()){c("FBLogger")("rtweb").mustfix("Storing invalid ZenonCallSummary!");return}var b=a.peerID,d=a.callID;this.mutateCallSummaries(function(c){c[b]||(c[b]={});c[b][d]={__d:a.toJsonString(),__t:Date.now(),__z:!0};return c},k,!1,{callID:d,peerID:b});a.updateLastSavedTime()};return b}(c("ZenonGenericCallSummaryStore"));b=new a();g.ZenonCallSummaryStoreInstance=b}),98);
__d("ZenonCallSummaryFalcoUploader",["PersistedQueue","RtcClientCallSummaryFalcoEvent","WebStorage","ZenonCallIDType","ZenonCallSummary","ZenonCallSummaryStore","ZenonInfraActionsLogger","ZenonPeerID","cr:1370","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=3*60*1e3;function i(a){var e=a.callID,f=a.callSummary;a=a.peerID;c("WebStorage").isLocalStorageQuotaExceeded()&&c("ZenonInfraActionsLogger").logCounter("local_storage_quota_exceeded");var g=d("ZenonCallIDType").convertNumberToZenonCallID(Number(e));c("ZenonInfraActionsLogger").updateCachedValues({callID:g});c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Attempting to upload CallSummary via Falco"});g=f.getMediaStats_DEBUG();if(c("gkx")("1847820")){var h;h=(h=(h=g.video)==null?void 0:(h=h.sender)==null?void 0:h.eqps)!=null?h:0;g=(g=(g=g.video)==null?void 0:(g=g.sender)==null?void 0:g.frames)!=null?g:0;var i=g!==0?h/g:0;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[zenon_senderVideoQp]:  eqps: "+h+", frames: "+g+", senderVideoQp: "+i})}h=f.getSdpFormat();var j=babelHelpers["extends"]({call_id:e,channel_session_id:f.getDeviceID(),content:{core_metrics:f.toFalco()},local_call_id:f.localCallID,peer_id:d("ZenonPeerID").convertPeerIDForLogging(a),sdp_format:h?h:null,tag:"endcallstats"},f.getExtraInfo());c("PersistedQueue").eventEmitter.emit("active",null);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] CallSummary data length after stringified: "+JSON.stringify(j).length+" via Falco"});if(c("gkx")("2715"))return;c("RtcClientCallSummaryFalcoEvent").logCritical(function(){return j});b("cr:1370")==null?void 0:b("cr:1370").logCritical(function(){return f.getGroupE2eeMetricsInFalcoShape()});c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Complete uploading CallSummary"})}function j(){var a=d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.getCallSummaries(),b=[];for(var e in a)for(var f in a[e]){var g=a[e][f];if(g.__z){var i=g.__t;if(Date.now()-i>h){i=c("ZenonCallSummary").fromJsonString(g.__d);i&&b.push({callID:f,callSummary:i,peerID:e})}}}return b}function a(){var a=j(),b=[];a.forEach(function(a){var c=a.callID,d=a.callSummary;a=a.peerID;i({callID:c,callSummary:d,peerID:a});b.push({callID:c,peerID:a})});d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.removeCallSummaries(b)}function e(a){var b=a.callID,c=a.peerID;i({callID:b,callSummary:a,peerID:c});d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.removeCallSummaries([{callID:b,peerID:c}])}g.getLoggableSummaries=j;g.logCallSummaries=a;g.logCallSummary=e}),98);
__d("ZenonCallSummaryUploader",["cr:11423"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("cr:11423").getLoggableSummaries()}function c(){b("cr:11423").logCallSummaries()}function d(a){b("cr:11423").logCallSummary(a)}g.getLoggableSummaries=a;g.logCallSummaries=c;g.logCallSummary=d}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a={ConnectionStateMachine:c("qpl")._(64243854,"2452"),ParentSignalingClient:c("qpl")._(64234815,"1094"),PeerConnectionStateMachine:c("qpl")._(64239068,"6172"),SignalingStateMachine:c("qpl")._(64245348,"8823")};g["default"]=a}),98);
__d("MessengerMQTTPresence",["FBMqttChannel","ODS","killswitch"],(function(a,b,c,d,e,f,g){"use strict";var h="/orca_presence",i="mqtt_web.presence",j="/send_additional_contacts",k=!1;function a(a){if(k)return;k=!0;c("FBMqttChannel").subscribe(h,function(b){b=JSON.parse(b);b&&b.list&&(b.list_type&&b.list_type==="full"&&a.reset(),a.setMultiFromMQTT(b.list),d("ODS").bumpEntityKey(3303,i,"buddylist.event"),d("ODS").bumpEntityKey(3303,i,"buddylist.active_buddies",b.list.length))})}function b(){k=!1,c("FBMqttChannel").unsubscribeAll(h)}var l=new Map(),m=1e3*60*3;function e(a){if(!c("killswitch")("MESSENGER_WEB_LIMIT_BUDDY_REQUESTS")){if(l.has(a)){var b=l.get(a);if(b!=null&&b>Date.now())return;l["delete"](a)}l.set(a,Date.now()+m)}c("FBMqttChannel").publish(j,JSON.stringify({additional_contacts:[a]}))}g.subscribe=a;g.unsubscribe=b;g.sendAdditionalBuddyRequest=e}),98);
__d("FBRTCConsoleLogger",["Log","LogHistory","cr:1112656","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a=function(){a.getInstance=function(){h||(h=new a());return h};function a(){this.$1=d("LogHistory").getInstance(a.MODULE_NAME)}var b=a.prototype;b.getLogHistory=function(){return this.$1};b.log=function(a,b,c,d,e){d===void 0&&(d="Console");e===void 0&&(e="DEBUG");e=" "+JSON.stringify({conferenceName:b,callID:c});this.$1.log(d||"Console",a+e);return this};return a}();a.MODULE_NAME="webrtc";g["default"]=a}),98);
__d("RTWebLoggingSharedInstance",["ChannelClientID"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("ChannelClientID").getID()}var b=a.prototype;b.getDeviceID=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("RTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","RTWebLoggingSharedInstance","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonBrowsers","ZenonSDESKeyDetector","immutable","performanceNow","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$2=c("immutable").Map(),this.$3=new Set(),this.$4=new Set(),this.$5=c("RTWebLoggingSharedInstance").getDeviceID(),this.$6=this.$7(),this.clearCache()}var b=a.prototype;b.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};b.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:"impression"},a))};b.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};b.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};b.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:"tap"},a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:"error"},a))};b.startTimer=function(a){var b=c("performanceNow")();this.$2=this.$2.set(a,b);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:b})};b.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({eventName:"checkpoint"},a))};b.$10=function(a){return a===null||a===void 0};b.logEvent=function(a){if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("RTWebUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");var b=this.$1;b.callID=this.$10(a.callID)?b.callID:a.callID;b.callType=a.callType||b.callType;b.conferenceState=a.conferenceState||b.conferenceState;b.conferenceName=this.$10(a.conferenceName)?b.conferenceName:a.conferenceName;b.isCaller=a.isCaller==null?b.isCaller:a.isCaller;b.mediaType=a.mediaType||b.mediaType;this.$11(a,b);b=this.$12(a,b);this.$8(a.eventName,b)};b.$12=function(a,b){var d={call_type:b.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:b.conferenceState,event:a.eventName,media_type:b.mediaType,page:this.$6,call_id:b.callID,conference_name:b.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(a=a.timeElapsed)==null?void 0:a.toString(),is_caller:b.isCaller,codebase_version:"Old Codebase"};c("RtcWebUserActionsFalcoEvent").log(function(){return d});return d};b.$11=function(a,b){var d={call_type:b.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:b.conferenceState,event:a.eventName,media_type:b.mediaType,page:this.$6,call_id:b.callID,conference_name:b.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(a=a.timeElapsed)==null?void 0:a.toString(),is_caller:b.isCaller,codebase_version:"Old Codebase"};c("RtcWebUserActionsDebugFalcoEvent").log(function(){return d});return d};b.getCallType=function(a,b){b===void 0&&(b=!1);if(a===null||a===void 0)return null;if(a)return"mw";else if(b)return"escalated";else return"p2p"};b.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?"audio_button":"video_button"};b.getMediaType=function(a,b){b===void 0&&(b=!1);if(b)return"escalated";else if(a)return"audio";else return"video"};b.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};b.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};b.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};b.$7=function(){if(d("ZenonBrowsers").isMobileDevice())return"mweb";else if(c("CurrentUser").isWorkUser())return"workplace";var a=window.location.hostname;if(a.search("facebook")!==-1)return"facebook";else if(a.search("messenger")!==-1)return"messenger_dot_com";return a};b.$9=function(a){var b=this.$2.get(a);if(b){this.$2=this.$2.remove(a);return parseInt(c("performanceNow")()-b,10)}return null};b.$8=function(a,b){a=a==null?"null":a;c("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(b))};return a}();b=new a();g["default"]=b}),98);
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(a,b,c,d,e,f,g){function a(a){return a.length===1}function h(a){return a instanceof HTMLElement||a instanceof SVGElement}function i(a,b){var d,e=b instanceof HTMLElement&&b.id!==""?b.id:null,f=new Set(b instanceof HTMLElement?c("filterNulls")([].concat(((d=b.getAttribute("aria-labelledby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-describedby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-owns"))!=null?d:"").split(" "),[b.getAttribute("aria-errormessage")])).filter(function(a){return a!==""}):[]);d=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(a){if(a===b)return NodeFilter.FILTER_REJECT;if(a.nodeType===Node.TEXT_NODE&&a.textContent.trim()==="")return NodeFilter.FILTER_REJECT;if(h(a)&&f.has(a.id))return NodeFilter.FILTER_REJECT;if(h(a)&&a.getAttribute("aria-hidden")==="true")return NodeFilter.FILTER_REJECT;if(a instanceof HTMLLabelElement&&(a.htmlFor===e||a.contains(b)))return NodeFilter.FILTER_REJECT;if(a.hasChildNodes())return NodeFilter.FILTER_SKIP;return h(a)&&a.getAttribute("aria-label")==null&&a.getAttribute("aria-labelledby")==null&&a.getAttribute("aria-describedby")==null&&a.getAttribute("alt")==null&&a.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});var g=d.currentNode;while(g===a)g=d.nextNode();return g!=null}var j=new Set(["button","checkbox","radio","reset","submit"]),k=new Set(["checkbox","link","switch","radio","button"]),l=new Set(["a","button"]);function m(a){var b=a.getAttribute("role"),c=a.tagName.toLowerCase(),d=a instanceof HTMLInputElement?a.type:null;if(a instanceof HTMLInputElement&&j.has(d))return!0;return k.has(b)||l.has(c)?!0:!1}function n(a){var b=[];a=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:function(a){return a instanceof HTMLElement&&m(a)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});var c=a.nextNode();while(c)b.push(c),c=a.nextNode();return b}function o(a,b){if(!b)return null;b=a.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery);if(b==null)return null;a=n(b);a=(a=a)!=null?a:[];var c=a[0];a=a.slice(1);if(c!=null&&a.length===0&&!i(b,c))return c}function p(a,b,e){if(b){var f=b.scopeRef.current;if(f!==null){b=o(f,(b=b.allowWithinCellNavigation)!=null?b:!1);b=(b=b)!=null?b:f.DO_NOT_USE_queryFirstNode(a);b!==null&&(c("setElementCanTab")(b,!0),d("FocusManager").focusElement(b),e!=null&&(e.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(e)))}}}function b(a,b,e){if(b!=null){b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(c("setElementCanTab")(b,!0),d("FocusManager").focusElement(b),e.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(e))}}function q(a,b,c,d,e){d=d[c];c=s(d,e);var f=0,g,h,i;do{g=b-f;if(g>=0){i=r(d,g,e,a);if(i)return i}h=b+f;if(h<=c){i=r(d,h,e,a);if(i)return i}f++}while(g>=0&&h<=c);return null}function e(a,b,c,d,e,f,g,h){var i=b.onNavigate;if(i){var j=!1;e=v(e,d,h);var k=e[1];e=x(b,d,g);var l=e[0],m=e[1];if(l===null)return!1;b={currentCellIndex:k,currentRowIndex:m,event:c,focusCell:function(a,b){p(b||f,a,c)},getCell:function(a,b){a=l[a];return a!=null?r(a,b,h):null},getCellByTag:function(a){var b=q(a,k,m,l,h);if(b)return b;var c=l.length,d=m+1;while(!0){if(d===m)return null;if(d>c-1){d=0;continue}b=q(a,k,d,l,h);if(b)return b;d++}return null},preventDefault:function(){j=!0},type:a};i(b);if(j)return!0}return!1}function r(a,b,c,d){a=a.getChildContextValues(c).filter(function(a){return a!=null&&(d===void 0||a.tag===d)});c=0;for(var e=0;e<a.length;e++){var f=a[e];if(f){c+=f&&f.colSpan||1;if(c>b)return f}}return null}function f(a,b,c,d,e){c=r(b,c,d);if(c!==null){p(a,c,e);return}c=b.getChildContextValues(d).filter(Boolean);c.length>0&&p(a,c[c.length-1],e)}function s(a,b){b=(a=a.getChildContextValues(b).filter(Boolean))!=null?a:[];a=0;for(var c=0;c<b.length;c++){var d=b[c];d=d&&((d=d.colSpan)!=null?d:1);a+=d}return a}function t(a,b){var c=0;for(var d=0;d<a.length;d++){var e=a[d];if(e===null)continue;if(e.scopeRef.current===b)return[d,d+c];e=e.colSpan;typeof e==="number"&&(c+=e-1)}return[-1,-1]}function u(a,b){return a.getChildContextValues(b).filter(Boolean)}function v(a,b,c){b=u(b,c);if(b.length>0){c=t(b,a);a=c[0];c=c[1];return[b,a,c]}return[null,-1,-1]}function w(a,b,c){if(a){a=a.scopeRef.current;if(a!==null){a=a.getChildContextValues(b);b=[];for(var d=0;d<a.length;d++){var e=a[d];if(e){var f;f=(f=e.scopeRef)==null?void 0:f.current;e=(e=c==null?void 0:c(e))!=null?e:!0;f&&e&&b.push(f)}}return b}}return null}function x(a,b,c,d){a=w(a,c,d);if(b&&a&&a.length>0){c=a.indexOf(b);return[a,c]}return[null,-1]}function y(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}g.isPrintableCharacter=a;g.hasUnassociatedLeafNodes=i;g.isArrowKeyLessOperationElement=m;g.getCellSingleInteractiveContentNode=o;g.focusCell=p;g.focusRow=b;g.checkRowForMatch=q;g.handleOnNavigateBehavior=e;g.getCellByColumnIndex=r;g.focusCellByColumnIndex=f;g.getLength=s;g.getCellIndexes=t;g.getRowCells=u;g.getRowCellsWithIndexes=v;g.getRows=w;g.getRowsWithIndex=x;g.hasModifierKey=y}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useRef,l=5;function a(a){var b=h.unstable_Scope,e=h.createContext(null),g=h.createContext(null),m=h.createContext(null);function n(a){var c=a.children,d=a.wrapX,f=a.wrapY,g=a.wrapXToNextLine,i=a.tabScopeQuery,m=a.allowModifiers,n=a.pageJumpSize,o=n===void 0?l:n,p=a.onNavigate,q=a.disabled,r=a.withinCellTabScopeQuery,s=k(null);n=j(function(){return{scopeRef:s,wrapXToNextLine:g,wrapX:d,wrapY:f,tabScopeQuery:i,allowModifiers:m,pageJumpSize:o,onNavigate:p,disabled:q,withinCellTabScopeQuery:r}},[g,d,f,i,m,o,p,q,r]);return h.jsx(e.Provider,{value:n,children:h.jsx(b,{ref:s,children:c})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.children;var c=k(null),d=j(function(){return{scopeRef:c}},[]);return h.jsx(g.Provider,{value:d,children:h.jsx(b,{ref:c,children:a})})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b,d){a=a.DO_NOT_USE_queryAllNodes(b);if(a!=null)for(var b=0;b<a.length;b++){var e=a[b];c("setElementCanTab")(e,d)}}function q(f){var l=f.children,n=f.colSpan,o=f.tag,q=i(e),r=(f=i(g))==null?void 0:f.scopeRef,s=k(null),t=k(!1),u=(q==null?void 0:q.withinCellTabScopeQuery)!=null;d("ReactKeyboardEvent.react").useKeyboard(s,j(function(){return{onKeyDown:function(b){if(q&&q.disabled===!0)return;if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var e=s.current;if(e===null||q===null)return;if(r==null)return;var f=r.current;if(f===null)return;var h=b.key,i=u&&d("FocusTableUtils").getCellSingleInteractiveContentNode(e,u)==null,j=t.current;if(h==="Tab"&&q){var k=q.tabScopeQuery,l=q.scopeRef.current;if(k&&l){if(d("FocusTableUtils").handleOnNavigateBehavior("TAB",q,b,f,e,k,g,m))return;var n=q.withinCellTabScopeQuery;j&&n!=null?b.shiftKey?d("FocusManager").focusPreviousContained(n,e,b,!0):d("FocusManager").focusNextContained(n,e,b,!0):(p(l,k,!1),document.activeElement!=null&&c("setElementCanTab")(document.activeElement,!0))}return}if(d("FocusTableUtils").hasModifierKey(b)&&q){n=q.allowModifiers;if(n!==!0)return}l=b.ctrlKey||b.metaKey;k=h;d("Locale").isRTL()&&(h==="ArrowRight"?k="ArrowLeft":h==="ArrowLeft"&&(k="ArrowRight"));switch(k){case"Home":if(d("FocusTableUtils").handleOnNavigateBehavior("HOME",q,b,f,e,a,g,m))return;if(j)return;n=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);k=n[0];n=n[1];var o=d("FocusTableUtils").getRowsWithIndex(q,f,g),v=o[0];o=o[1];if(k!==null&&v!==null)if(l){if(o!==0||n!==0){k=v[0];d("FocusTableUtils").focusCellByColumnIndex(a,k,0,m,b)}}else if(n!==0){k=v[o];d("FocusTableUtils").focusCellByColumnIndex(a,k,0,m,b)}return;case"End":if(d("FocusTableUtils").handleOnNavigateBehavior("END",q,b,f,e,a,g,m))return;if(j)return;n=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);v=n[0];o=n[1];k=d("FocusTableUtils").getRowsWithIndex(q,f,g);n=k[0];k=k[1];if(v!==null&&n!==null)if(l){if(k!==n.length-1||o!==v.length-1){k=n[n.length-1];n=k.getChildContextValues(m).filter(Boolean);n.length>0&&d("FocusTableUtils").focusCell(a,n[n.length-1],b)}}else o!==v[v.length-1]&&d("FocusTableUtils").focusCell(a,v[v.length-1],b);return;case"ArrowUp":if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",q,b,f,e,a,g,m))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);n=k[0];o=k[2];if(n!==null&&q){v=d("FocusTableUtils").getRowsWithIndex(q,f,g);k=v[0];n=v[1];if(k!==null)if(n===0){v=q.wrapY;if(v===!0&&!l){v=k[k.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,v,o,m,b)}}else if(l){v=k[0];d("FocusTableUtils").focusCellByColumnIndex(a,v,o,m,b)}else{v=k[n-1];d("FocusTableUtils").focusCellByColumnIndex(a,v,o,m,b)}}return;case"PageUp":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",q,b,f,e,a,g,m))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);n=k[0];v=k[2];o=d("FocusTableUtils").getRowsWithIndex(q,f,g);k=o[0];o=o[1];if(n!==null&&k!==null&&q&&o!==0){n=q.pageJumpSize;k=k[Math.max(0,o-n)];d("FocusTableUtils").focusCellByColumnIndex(a,k,v,m,b)}return;case"ArrowDown":if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",q,b,f,e,a,g,m))return;if(j)return;o=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);n=o[0];k=o[2];v=d("FocusTableUtils").getRowsWithIndex(q,f,g);o=v[0];v=v[1];if(n!==null&&o!==null&&q&&v!==-1)if(v===o.length-1){n=q.wrapY;if(n===!0&&!l){n=o[0];d("FocusTableUtils").focusCellByColumnIndex(a,n,k,m,b)}}else if(l){n=o[o.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,n,k,m,b)}else{l=o[v+1];d("FocusTableUtils").focusCellByColumnIndex(a,l,k,m,b)}return;case"PageDown":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",q,b,f,e,a,g,m))return;if(j)return;n=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);o=n[0];v=n[2];l=d("FocusTableUtils").getRowsWithIndex(q,f,g);k=l[0];n=l[1];if(o!==null&&k!==null&&q&&n!==k.length-1){l=q.pageJumpSize;o=k[Math.min(k.length-1,n+l)];d("FocusTableUtils").focusCellByColumnIndex(a,o,v,m,b)}return;case"ArrowLeft":if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",q,b,f,e,a,g,m))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);n=k[0];l=k[1];o=d("FocusTableUtils").getRowsWithIndex(q,f,g);v=o[0];k=o[1];if(n!==null&&v!==null&&q)if(l>0)d("FocusTableUtils").focusCell(a,n[l-1],b);else if(l===0){o=q.wrapX;l=q.wrapXToNextLine;o===!0?d("FocusTableUtils").focusCell(a,n[n.length-1],b):l===!0&&v[k-1]&&d("FocusTableUtils").focusCellByColumnIndex(a,v[k-1],d("FocusTableUtils").getLength(v[k-1],m),m,b)}return;case"ArrowRight":if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",q,b,f,e,a,g,m))return;if(j)return;o=d("FocusTableUtils").getRowCellsWithIndexes(e,f,m);n=o[0];l=o[1];v=d("FocusTableUtils").getRowsWithIndex(q,f,g);k=v[0];o=v[1];if(n!==null&&k!==null&&q&&l!==-1)if(l===n.length-1){v=q.wrapX;var w=q.wrapXToNextLine;v===!0?d("FocusTableUtils").focusCell(a,n[0],b):w===!0&&k[o+1]&&d("FocusTableUtils").focusCellByColumnIndex(a,k[o+1],0,m,b)}else d("FocusTableUtils").focusCell(a,n[l+1],b);return;case"Enter":if(!i||j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ENTER",q,b,f,e,a,g,m))return;v=q==null?void 0:q.withinCellTabScopeQuery;if(v){w=e.DO_NOT_USE_queryFirstNode(v);w!=null&&(t.current=!0,p(e,v,!0),d("FocusManager").focusElement(w))}return;case"Escape":if(!i||!j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ESC",q,b,f,e,a,g,m))return;k=q==null?void 0:q.tabScopeQuery;if(k){t.current=!1;o=e.DO_NOT_USE_queryAllNodes(k);if(o!==null)for(var n=0;n<o.length;n++){l=o[n];c("setElementCanTab")(l,!1)}d("FocusTableUtils").focusCell(k,{scopeRef:s},b)}return;default:d("FocusTableUtils").isPrintableCharacter(h)&&d("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",q,b,f,e,a,g,m)}}}},[r,q,u]));var v=j(function(){return{scopeRef:s,colSpan:n,tag:o,allowWithinCellNavigation:u}},[n,u,o]),w=q==null?void 0:q.tabScopeQuery;f=d("ReactFocusEvent.react").useFocusWithin(s,j(function(){return{onFocusWithin:function(a){if(w!=null){var b;b=(b=s.current)==null?void 0:b.DO_NOT_USE_queryFirstNode(w);b=a.target===b;var c=v.allowWithinCellNavigation===!0;b&&c&&d("FocusTableUtils").focusCell(w,v);!b&&c&&a.target instanceof HTMLElement&&!d("FocusTableUtils").isArrowKeyLessOperationElement(a.target)&&(t.current=!0)}},onBlurWithin:function(){t.current=!1}}},[w,v]));return h.jsx(m.Provider,{value:v,children:h.jsx(b,{ref:f,children:l})})}q.displayName=q.name+" [from "+f.id+"]";return[n,o,q]}g.createFocusTable=a}),98);
__d("FBRTCIceStatsParser",[],(function(a,b,c,d,e,f){var g=null;a=function(){function a(){}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.extractIceInfo=function(a){var b=[];a=a.split("\r\n");for(var c=0;c<a.length;c++){var d=a[c];this.$1(d)&&b.push({gen:this.$2(d),type:this.$3(d)})}return b};b.$1=function(a){return a.indexOf("candidate:")>-1};b.$2=function(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b};b.$3=function(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"};return a}();f["default"]=a}),66);
__d("FBRTCMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27})}),null);
__d("FBRTCRtcResponseStatusCode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503})}),null);
__d("RtcCallActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744335");c=b("FalcoLoggerInternal").create("rtc_call_action",a);e.exports=c}),null);
__d("RtcInfraReliabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744336");c=b("FalcoLoggerInternal").create("rtc_infra_reliability",a);e.exports=c}),null);
__d("RtcTslogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1825919");c=b("FalcoLoggerInternal").create("rtc_tslog",a);e.exports=c}),null);
__d("FBRTCLogger",["CurrentUser","FBLogger","FBRTCConsoleLogger","FBRTCMessageType","FBRTCRtcResponseStatusCode","FacebookAppIDs","MarauderLogger","ODS","P2pReliabilityFalcoEvent","RTWebLoggingSharedInstance","RTWebUserActionLogger","RtcCallActionFalcoEvent","RtcInfraReliabilityFalcoEvent","RtcTslogFalcoEvent","UserAgentData","gkx","pageID"],(function(a,b,c,d,e,f,g){var h="rtc_client_call_summary",i="client_error",j="client_event",k="info",l="received_message",m="send_failed",n="send_succeeded",o="sent_message",p="RECEIVED_RESPONSE",q="RECEIVED_REQUEST",r="PROCESSING_REQUEST",s="PROCESSED_REQUEST",t="PROCESSING_REQUEST_FAILED",u="PROCESSED_RESPONSE",v="START_PROCESSING_RESPONSE",w="SENDING_RESPONSE",x="RELAY_CONNECTED",y="BEGIN_SET_REMOTE_DESCRIPTION",z="END_SET_REMOTE_DESCRIPTION",A="BEGIN_REMOTE_SDP_MUNGING",B="END_REMOTE_SDP_MUNGING",C="SENDING_REQUEST",D="SENT_REQUEST",E="SENT_RESPONSE",F="SEND_REQUEST_FAILED",G="SEND_RESPONSE_FAILED",H=null;a=function(){a.getInstance=function(){H==null&&(H=new a());return H};a.multiwayMessageTypeName=function(a){switch(a){case c("FBRTCMessageType").JOIN:return"JOIN";case c("FBRTCMessageType").SERVER_MEDIA_UPDATE:return"SERVER_MEDIA_UPDATE";case c("FBRTCMessageType").HANGUP:return"HANGUP";case c("FBRTCMessageType").ICE_CANDIDATE:return"ICE_CANDIDATE";case c("FBRTCMessageType").RING:return"RING";case c("FBRTCMessageType").DISMISS:return"DISMISS";case c("FBRTCMessageType").CONFERENCE_STATE:return"CONFERENCE_STATE";case c("FBRTCMessageType").ADD_PARTICIPANTS:return"ADD_PARTICIPANTS";case c("FBRTCMessageType").SUBSCRIPTION:return"SUBSCRIPTION";case c("FBRTCMessageType").CLIENT_MEDIA_UPDATE:return"CLIENT_MEDIA_UPDATE";case c("FBRTCMessageType").DATA_MESSAGE:return"DATA_MESSAGE";case c("FBRTCMessageType").REMOVE_PARTICIPANTS:return"REMOVE_PARTICIPANTS";case c("FBRTCMessageType").CONNECT:return"CONNECT";case c("FBRTCMessageType").PING:return"PING";case c("FBRTCMessageType").P2P_PROTOCOL:return"P2P_PROTOCOL";case c("FBRTCMessageType").UPDATE:return"UPDATE";case c("FBRTCMessageType").NOTIFY:return"NOTIFY";case c("FBRTCMessageType").CLIENT_EVENT:return"CLIENT_EVENT";case c("FBRTCMessageType").UNSUBSCRIBE:return"UNSUBSCRIBE"}return a.toString()};function a(){var a=this;this.logError=function(b,d,e){var f,g={call_id:d,content:e,peer_id:b};f=c("FBLogger")("rtweb").addMetadata("RT_WEB","CALL_ID",""+((f=d)!=null?f:"null")).addMetadata("RT_WEB","PEER_ID",""+((f=b)!=null?f:"null"));if(typeof e==="string")f.warn(e);else{var h=JSON.stringify(e);f.warn((f=h)!=null?f:"Unknown error")}a.$9(i,g);a.$5(b,d,"Error",JSON.stringify(e))};this.$2=JSON.stringify({version:2,device:c("UserAgentData").deviceName,os:c("UserAgentData").platformName,os_version:c("UserAgentData").platformFullVersion,browser:c("UserAgentData").browserName,browser_version:c("UserAgentData").browserFullVersion});this.$3=JSON.stringify({version:2,device:c("UserAgentData").deviceName,os:c("UserAgentData").platformName,os_version:c("UserAgentData").platformFullVersion,browser:c("UserAgentData").browserName,browser_version:c("UserAgentData").browserFullVersion,msg_source:"web"});this.$1=c("RTWebLoggingSharedInstance").getDeviceID();this.$4=c("FacebookAppIDs").MQTT_WEB}var b=a.prototype;b.logToConsole=function(a){this.$5(null,null,"Console",a)};b.$6=function(a,b,d,e,f,g,h){var i=this;c("P2pReliabilityFalcoEvent").log(function(){return{app_id:i.$4.toString(),call_id:a,device_id:i.$1,result_code:h==null?void 0:h.toString(),event_name:b,extra:i.$2,msg_id:e,msg_type:d.toUpperCase(),raw_time:String(Date.now()),receiver_id:g,sender_id:f,service_name:"WEB_CLIENT"}})};b.logMultiwayMessageReceived=function(b,c){var d=a.multiwayMessageTypeName(b.type());this.$5(b.conferenceName(),c,"Received MW",d+", "+b.transactionId(),d==="EXPERIMENT"?"DEBUG":"INFO");b.isRequest()&&this.$7(q,b.conferenceName(),b.serverInfoData(),b.transactionId(),a.multiwayMessageTypeName(b.type()),b.header().retryCount,c?c.toString():null)};b.$8=function(b,c,d,e){if(!c.isRequest())return;this.$7(b,c.conferenceName(),c.serverInfoData(),c.transactionId(),a.multiwayMessageTypeName(c.type()),c.header().retryCount,d?d.toString():null,e?e:null)};b.logServerRequestStartProcessing=function(a,b){this.$8(r,a,b)};b.logServerRequestDoneProcessing=function(a,b){this.$8(s,a,b)};b.logServerRequestFailedProcessing=function(a,b,c){this.$8(t,a,b,c)};b.logMultiwayResponseReceived=function(b,d){try{var e=b.header.responseStatusCode;e===c("FBRTCRtcResponseStatusCode").OK&&this.$7(p,b.header.conferenceName,b.header.serverInfoData,b.header.transactionId,a.multiwayMessageTypeName(b.header.type),b.header.retryCount,d)}catch(a){this.logErrorWithoutID(a)}};b.logMultiwayResponseStartProcessing=function(b,c,d){this.$7(v,b.conferenceName,b.serverInfoData,b.transactionId,a.multiwayMessageTypeName(b.type),b.retryCount,c,d)};b.logMultiwayResponseProcessed=function(b,d,e){try{var f=b.responseStatusCode;f===c("FBRTCRtcResponseStatusCode").OK&&this.$7(u,b.conferenceName,b.serverInfoData,b.transactionId,a.multiwayMessageTypeName(b.type),b.retryCount,d,e)}catch(a){this.logErrorWithoutID(a)}};b.logMultiwayResponseProcessedFromResponsePayload=function(a,b,d){try{var e=a.header.responseStatusCode;e===c("FBRTCRtcResponseStatusCode").OK&&this.logMultiwayResponseProcessed(a.header,b,d)}catch(a){this.logErrorWithoutID(a)}};b.logSendingMultiwayMessage=function(b){this.$7(b.isRequest()?C:w,b.conferenceName(),b.serverInfoData(),b.transactionId(),a.multiwayMessageTypeName(b.type()),b.header().retryCount,b.header().clientSessionId)};b.logSentMultiwayMessage=function(b){this.$7(b.isRequest()?D:E,b.conferenceName(),b.serverInfoData(),b.transactionId(),a.multiwayMessageTypeName(b.type()),b.header().retryCount,b.header().clientSessionId)};b.logSendMultiwayMessageFailed=function(b){this.$7(b.isRequest()?F:G,b.conferenceName(),b.serverInfoData(),b.transactionId(),a.multiwayMessageTypeName(b.type()),b.header().retryCount,b.header().clientSessionId)};b.logSendMultiwayMessageFailure=function(a){d("ODS").bumpEntityKey(4083,"scotch_multiway","send_message_failure"),d("ODS").flush(),c("RTWebUserActionLogger").logCheckpoint({checkpoint:"Failed to send MW message, error: "+a})};b.logMultiwayRelayConnected=function(a,b,c){this.$7(x,a,b,null,null,null,c)};b.logMultiwayBeginSetRemoteDescription=function(b){this.$7(y,b.conferenceName,b.serverInfoData,b.transactionId,a.multiwayMessageTypeName(b.type),b.retryCount,b.clientSessionId)};b.logMultiwayEndSetRemoteDescription=function(b){this.$7(z,b.conferenceName,b.serverInfoData,b.transactionId,a.multiwayMessageTypeName(b.type),b.retryCount,b.clientSessionId)};b.logMultiwayBeginRemoteSdpMunging=function(b){this.$7(A,b.conferenceName,b.serverInfoData,b.transactionId,a.multiwayMessageTypeName(b.type),b.retryCount,b.clientSessionId)};b.logMultiwayEndRemoteSdpMunging=function(b){this.$7(B,b.conferenceName,b.serverInfoData,b.transactionId,a.multiwayMessageTypeName(b.type),b.retryCount,b.clientSessionId)};b.$7=function(a,b,d,e,f,g,h,i){var j=this;c("RtcInfraReliabilityFalcoEvent").log(function(){return{event_name:a,client_session_id:h,data:{extra_data:i},tc:Date.now(),conference_name:b,server_info_data:d,message_type:f,transaction_id:e,retry_count:g,web_device_id:j.$1,web_app_id:j.$4,version:"0"}})};b.logReceivedMessage=function(a,b,d){var e=b?b.toString():null,f={call_id:b,from:a,msg_id:d.msg_id,type:d.type};d.sdp&&(f.content=d.sdp);d.ack_id&&(f.ack_msg_id=d.ack_id);var g=d.type||d.msgType;this.$6(e,"CLIENT_RECEIVED_MESSAGE",g,d.msg_id,a,c("CurrentUser").getID());this.$9(l,f);this.$5(a,b,"Received P2P",d.type+", "+d.msg_id)};b.logSentMessage=function(a,b,d){var e=b?b.toString():null,f={call_id:b,msg_id:d.msg_id,to:a,type:d.type};d.sdp&&(f.content=d.sdp);d.ack_id&&(f.ack_msg_id=d.ack_id);this.$6(e,"CLIENT_SENDING_MESSAGE",d.type,d.msg_id,c("CurrentUser").getID(),a);this.$9(o,f);this.$5(a,b,"Sent",d.type+", "+d.msg_id)};b.logSentMessageSuccess=function(a,b,d,e){var f={call_id:b,msg_id:e,peer_id:a,type:d};b=b?b.toString():null;this.$6(b,"CLIENT_TRANSPORT_SUCCESS",d,e.toString(),c("CurrentUser").getID(),a);this.$9(n,f)};b.logSentMessageFailure=function(a,b,d,e,f){var g={call_id:b,error_code:f,msg_id:e,peer_id:a,type:d},h=b?b.toString():null;this.$6(h,"CLIENT_TRANSPORT_ERROR",d,e.toString(),c("CurrentUser").getID(),a,f);this.$9(m,g);this.$5(a,b,"Send Failed",d+", "+f)};b.logCallAction=function(a,b,d,e,f){var g={call_action:d,call_id:b,content:e,peer_id:a};f&&(g.trigger=f);c("RtcCallActionFalcoEvent").logImmediately(function(){return{action_name:d,call_id:"",audio_output_name:"UNKNOWN",rownum:-1,logging_instance_id:-1,logger_schema_version:-1,caller_id:"",call_type:"UNKNOWN",session_type:"UNKNOWN",seconds_since_call_start:-1,ms_since_epoch:-1,ms_steady:-1,device_orientation:"UNKNOWN",interface_orientation:"UNKNOWN",battery_level:-1,battery_plugged_state:"UNKNOWN",battery_charge_state:"UNKNOWN",battery_mode:"UNKNOWN",camera_facing:"UNKNOWN"}});this.$5(a,b,"CallAction",d+", "+JSON.stringify(e))};b.logEvent=function(a,b,c){var d={call_id:b,content:c,peer_id:a};this.$9(j,d);this.$5(a,b,"Event",JSON.stringify(c))};b.logInfo=function(a,b,c){var d={call_id:b,content:c,peer_id:a};this.$9(k,d);this.$5(a,b,"Info",JSON.stringify(c))};b.logErrorWithoutID=function(a){this.logError(null,null,a)};b.logEndCallSummary=function(a,b){b===void 0&&(b=!1);if(!a)return;c("RTWebUserActionLogger").logCheckpoint({checkpoint:"Attempting to upload CallSummary",callID:a.callID});var d={call_id:a.callID,channel_session_id:a.deviceID,content:a.toString(),local_call_id:a.localCallID,peer_id:a.peerID,tag:"endcallstats"},e=babelHelpers["extends"]({},d,a.getExtraInfo());this.$9(h,e,b);this.$5(a.peerID,a.callID,"Call Summary",JSON.stringify(d));c("RTWebUserActionLogger").logCheckpoint({checkpoint:"Complete uploading CallSummary",callID:a.callID})};b.logTsLogData=function(a,b,d,e,f){f===void 0&&(f=null);if(!b||!d||a.streams.length===0)return;c("RTWebUserActionLogger").logCheckpoint({checkpoint:"Attempting to upload tslog",callID:d});var g=b;f&&(g=null);var h=JSON.stringify(a);c("RtcTslogFalcoEvent").logImmediately(function(){return{call_id:d,conf_name:e,time_series1:h,serv_info:f,peer_id:g}});this.$5(b,d,"TSLog Data",h);c("RTWebUserActionLogger").logCheckpoint({checkpoint:"Complete uploading tslog",callID:d})};b.doesContainSensitiveData=function(a){return String(a).indexOf("crypto")>-1};b.redactSensitiveData=function(a,b){if(a!==h){a=JSON.stringify(b);if(this.doesContainSensitiveData(a))return{redacted:!0}}return b};b.$9=function(a,b,e){e===void 0&&(e=!1);var f="basic";e&&(f=c("gkx")("1488912")?"vital":"signal");b.page_id=c("pageID");e=this.redactSensitiveData(a,b);c("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,e);d("MarauderLogger").log(a,c("FBRTCConsoleLogger").MODULE_NAME,e,void 0,void 0,void 0,void 0,f)};b.$5=function(a,b,d,e,f){f===void 0&&(f="DEBUG"),c("FBRTCConsoleLogger").getInstance().log(this.doesContainSensitiveData(e)?"redacted":e,a,b,d,f)};return a}();a.CallAction=Object.freeze({ANSWER_CALL:"answer_call",AUTO_DISABLE_VIDEO:"auto_disable_video",DENIED_PERMISSION:"denied_permission",END_CALL:"end_call",FAILED_GETTING_URI:"failed_getting_uri",OLD_URI:"old_uri",OPEN_POPUP:"open_popup",POPUP_OPENED:"popup_opened",RECEIVED_CALL:"received_call",SET_FULLSCREEN_ON:"set_fullscreen_on",SET_MUTE:"set_mute",SET_SELF_VIEW_ON:"set_self_view_on",SET_VIDEO_ON:"set_video_on",START_CALL:"start_call",START_SKYPE:"start_skype",TRY_NEW:"try_new",USER_SETTINGS_CHANGED:"user_settings_changed"});a.Trigger=Object.freeze({ADMIN_MESSAGE:"admin_message",CHAT_TAB_ICON_TOUR:"chat_tab_icon_tour",CHAT_TAB_ICON:"chat_tab_icon",CHAT_TAB_VOICE_ICON:"chat_tab_voice_icon",MULTIWAY_ADMIN_MESSAGE_JOIN_AUDIO_CALL_BUTTON:"multiway_admin_message_join_audio_call_button",MULTIWAY_ADMIN_MESSAGE_JOIN_VIDEO_CALL_BUTTON:"multiway_admin_message_join_video_call_button",MULTIWAY_ADMIN_MESSAGE_START_AUDIO_CALL_BUTTON:"multiway_admin_message_start_audio_call_button",MULTIWAY_ADMIN_MESSAGE_START_VIDEO_CALL_BUTTON:"multiway_admin_message_start_video_call_button",MULTIWAY_CHAT_TAB_SHEET_JOIN_CALL_BUTTON:"multiway_chat_tab_sheet_join_call_button",MULTIWAY_POPUP_START_CALL_BUTTON:"multiway_popup_start_call_button",MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:"multiway_thread_header_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_audio_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_audio_call_video_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_video_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_video_call_video_button",MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:"multiway_thread_header_video_button",MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON:"multiway_thread_list_join_call_button",POPUP_CALL_START_BUTTON:"popup_start_call_button",REDIAL_BUTTON:"redial_button",RESET_CALL:"install_screen_sharing_ext_dialog",RETURN_CALL:"return_call",SKYPE_DEPRECATION_DIALOG:"skype_deprecation_dialog",TIMELINE_PROFILE:"timeline_profile",VC_PRECALL_SETUP:"vc_precall_setup",WORKPLACE_GROUP_CALL:"workplace_group_call",WORKPLACE_P2P_CALL:"workplace_p2p_call",UNKNOWN:"unknown",WEB_MESSENGER:"web_messenger",TEAMWORK_USER_VIDEO_CALL_ITEM:"teamwork_user_video_call_item",TEAMWORK_USER_AUDIO_CALL_ITEM:"teamwork_user_audio_call_item"});a.Key=Object.freeze({BATTERY_START:"battery_start",BATTERY_END:"battery_end",CALL_TYPE:"call_type",CONNECTION_EFFECTIVE_TYPE:"conn_effective_type",CPU_CORES:"cpu_cores",DEVICE_INFO:"device_info",DEVICE_MEMORY:"device_memory",DEVICE_PIXEL_RATIO:"device_pixel_ratio",INITIATED_BY_PAGE_ID:"initiated_by_page_id",INITIATED_BY_APP_ID:"initiated_by_app_id",PEER_IS_MOBILE:"peer_is_mobile",RATING_SHOWN:"rating_shown",RATING:"rating5",ROOM_SURFACE:"room_surface",EFFECT_COUNT:"rtc_effect_count",EFFECT_TOTAL_DURATION:"rtc_effect_total_duration",VIDEO_DURATION_WITH_FILTER:"rtc_video_duration_with_filter_enabled",SCREEN_DURATION:"screen_duration",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",MEDIA_INPUTS:"media_inputs",VIDEO_CAPABILITIES:"video_capabilities",CB_ACTIVE:"cb_active",YEAR_CLASS:"year_class",DESKTOP_DEVICE_CLASS:"desktop_device_class",IS_BACKGROUNDED:"is_backgrounded",APPLICATION_STATE:"application_state",MAX_CONCURRENT_CONNECTED_PARTICIPANTS:"max_concurrent_connected_participants"});g["default"]=a}),98);
__d("FBRTCMediaMetricTracker",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h={count:0,current:-1,first:-1,min:-1,max:-1,mean:-1,median:-1,startedTime:-1,total:-1,updatedTime:-1};a=function(){function a(){this.$2={},this.$3={},this.$4={},this.$1={},this.$5=null}var b=a.prototype;b.getVideoStreamReportKeys=function(){return Object.keys(this.$4)};b.getJitterStreamReportKey=function(){return Object.keys(this.$2)};b.getAudioStreamReportKeys=function(){return Object.keys(this.$3)};b.addJitterBufferDelay=function(a,b){b!==null&&b!==void 0&&(this.$2[a]||(this.$2[a]=[]),this.$2[a].push(b))};b.setHistResScale=function(a,b,c){this.$1[a]||(this.$1[a]={contentType:b,histogram:[]}),this.$1[a]={contentType:b,histogram:c}};b.getHistResScale=function(a){return this.$1[a]?{contentType:this.$1[a].contentType,histogram:this.$1[a].histogram}:null};b.setVideoContentType=function(a,b){this.$4[a]||(this.$4[a]={}),this.$4[a].contentType=b};b.getVideoContentType=function(a){return this.$4[a].contentType};b.setVideoMetric=function(a,b,c){c!==null&&c!==void 0&&(this.$4[a]||(this.$4[a]={}),this.$4[a][b]=this.$6(this.$4[a][b],c))};b.$6=function(a,b){if(a!==null&&a!==void 0){a.current=b;a.updatedTime=c("performanceNow")();a.total+=b;a.count+=1;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b);a.mean=a.total/a.count;return a}else return{min:b,max:b,total:b,count:1,mean:b,first:b,startedTime:c("performanceNow")(),current:b,updatedTime:c("performanceNow")()}};b.getVideoStreamDuration=function(a,b){return this.$4[a]!=null&&this.$4[a][b]!=null?this.$4[a][b].count:0};b.getAudioStreamDuration=function(a,b){return this.$3[a]!=null&&this.$3[a][b]!=null?this.$3[a][b].count:0};b.getVideoMetric=function(a,b){return this.$4[a]?this.$4[a][b]:null};b.addMetricStat=function(a,b,c){c!==null&&c!==void 0&&(this.$3[a]||(this.$3[a]={}),this.$3[a][b]=this.$6(this.$3[a][b],c))};b.getMetricStats=function(a,b){return!this.$3[a]?null:this.$3[a][b]};b.getJitterBufferStats=function(a){if(!this.$2[a])return h;var b=this.$2[a].length;if(b===0)return h;this.$2[a].sort(function(a,b){return a-b});var c=this.$2[a].reduce(function(a,b){return a+b});if(b%2===0){var d=Math.floor((b-1)/2),e=Math.ceil((b-1)/2);d=(this.$2[a][d]+this.$2[a][e])/2}else d=this.$2[a][(b-1)/2];return{max:this.$2[a][b-1],min:this.$2[a][0],mean:c/b,median:d,total:c,count:b,first:-1,startedTime:-1,current:-1,updatedTime:-1}};b.toJsonString=function(){return JSON.stringify({stats:this.$3,jitterBufferDelays:this.$2,videoMetric:this.$4,histResScale:this.$1})};a.getPercentMediaKey=function(a,b,c){return a.concat("_",b,"_p",String(c))};a.getAvgMediaKey=function(a,b){return a.concat("_",b,"_avg")};a.fromJsonString=function(b){var c=new a();try{b=JSON.parse(b),b=b}catch(a){return c}b.stats&&(c.$3=b.stats);b.jitterBufferDelays&&(c.$2=b.jitterBufferDelays);b.videoMetric&&(c.$4=b.videoMetric);b.histResScale&&(c.$1=b.histResScale);return c};return a}();g["default"]=a}),98);
__d("FBRTCMediaMetricsConst",[],(function(a,b,c,d,e,f){"use strict";a="jitter";b="accelerate_rate";c="decoding_cng";d="decoding_normal";e="decoding_plc";var g="decoding_plc_cng",h="decoding_neteq_call",i="discard_rate",j="encode_bitrate",k="expand_rate",l="speech_expand_rate",m="preemptive_rate",n="audio_send_total_energy",o="audio_receive_total_energy",p="audio_send_log_level",q="audio_send_log_level_count",r="audio_send_loudness_level",s="audio_receive_log_level",t="audio_receive_log_level_count",u="audio_receive_loudness_level",v="audio_packets_received",w="audio_fec_packets_received",x="audio_fec_packets_discarded",y="audio_packets_received_lost",z="audio_packets_sent",A="audio_packets_sent_lost",B="video_bytes_received",C="video_bytes_sent",D="inbound_qp",E="outbound_qp",F="frames_encoded",G="frames_decoded",H="frames_received",I="frames_sent",J="keyframes_decoded",K="picture_less_indication_received",L="full_intra_request_received",M="videobwe_send_bandwidth",N="videobwe_transmit_bitrate",O="videobwe_retransmit_bitrate",P="audio_bytes_sent",Q="audio_bytes_received",R="video_pkts_sent",S="video_pkts_send_lost",T="video_pkts_received",U="video_fec_pkts_received",V="video_fec_pkts_discarded",W="video_pkts_receive_lost",X="audio_rtt_received",Y="audio_rtt_sent",Z="audio_dev_rec_stalls",$="audio_dev_total_stalls",aa="audio_dev_is_stalled",ba="audio_dev_stall_duration",ca="video_freeze_cnt",da="video_freeze_duration",ea="video_freeze_duration_500ms",fa="video_pause_cnt",ga="video_pause_duration",ha="video_capture_width",ia="video_capture_height",ja="video_sum_capture_pixel",ka="video_capture_frame_count",la="video_decoded_width",ma="video_decoded_height",na="video_encoded_width",oa="video_encoded_height",pa="audio_total_packet_send_delay",qa="video_total_packet_send_delay",ra="audio_total_encode_time",sa="video_total_encode_time",ta="audio_total_decode_time",ua="video_total_decode_time",va="audio_jitter_buffer_delay",wa="video_jitter_buffer_delay",xa="audio_jitter_buffer_emitted_count",ya="video_jitter_buffer_emitted_count",za="audio_e2e_latency",Aa="video_e2e_latency",Ba="av_sync",Ca="av_sync_abs",Da="av_sync_count",Ea="av_sync_oob",Fa="video_sum_decoded_pixel",Ga="video_sum_encoded_pixel",Ha="audio_neteq_wait_time",Ia="audio_packet_loss_rate",Ja="audio_plc_cng_rate",Ka="audio_plc_rate",La="global_audio_bitrate",Ma="global_battery_usage",Na="global_cpu_usage",Oa="global_video_bitrate",Pa="video_av_sync_abs",Qa="video_av_sync_oob",Ra="video_frame_rate",Sa="video_freeze_count_per_min",Ta="video_freeze_duration_per_min",Ua="video_neteq_wait_time",Va="video_packet_loss_rate",Wa="video_render_scale_ratio",Xa="video_cropping_ratio",Ya="video_rtt_received",Za="video_rtt_sent",$a="simulcast_layer_changes",ab="video_quality_sent",bb="video_encoded_frame_rate",cb="video_qp_sent",db="video_decode_time";f.JITTER=a;f.ACCELERATE_RATE=b;f.DECODING_CNG=c;f.DECODING_NORMAL=d;f.DECODING_PLC=e;f.DECODING_PLC_CNG=g;f.DECODING_NETEQ_CALL=h;f.DISCARD_RATE=i;f.ENCODE_BITRATE=j;f.EXPAND_RATE=k;f.SPEECH_EXPAND_RATE=l;f.PREEMPTIVE_RATE=m;f.AUDIO_SEND_TOTAL_ENERGY=n;f.AUDIO_RECEIVE_TOTAL_ENERGY=o;f.AUDIO_SEND_LOG_LEVEL=p;f.AUDIO_SEND_LOG_LEVEL_COUNT=q;f.AUDIO_SEND_LOUDNESS_LEVEL=r;f.AUDIO_RECEIVE_LOG_LEVEL=s;f.AUDIO_RECEIVE_LOG_LEVEL_COUNT=t;f.AUDIO_RECEIVE_LOUDNESS_LEVEL=u;f.AUDIO_PACKETS_RECEIVED=v;f.AUDIO_FEC_PACKETS_RECEIVED=w;f.AUDIO_FEC_PACKETS_DISCARDED=x;f.AUDIO_PACKETS_RECEIVED_LOST=y;f.AUDIO_PACKETS_SENT=z;f.AUDIO_PACKETS_SENT_LOST=A;f.VIDEO_BYTES_RECEIVED=B;f.VIDEO_BYTES_SENT=C;f.INBOUND_QP=D;f.OUTBOUND_QP=E;f.FRAMES_ENCODED=F;f.FRAMES_DECODED=G;f.FRAMES_RECEIVED=H;f.FRAMES_SENT=I;f.KEYFRAMES_DECODED=J;f.PICTURE_LOSS_INDICAION_RECEIVED=K;f.FULL_INTRA_REQUEST_RECEIVED=L;f.VIDEOBWE_SEND_BANDWIDTH=M;f.VIDEOBWE_TRANSMIT_BITRATE=N;f.VIDEOBWE_RETRANSMIT_BITRATE=O;f.AUDIO_BYTES_SENT=P;f.AUDIO_BYTES_RECEIVED=Q;f.VIDEO_PKTS_SENT=R;f.VIDEO_PKTS_SEND_LOST=S;f.VIDEO_PKTS_RECEIVED=T;f.VIDEO_FEC_PKTS_RECEIVED=U;f.VIDEO_FEC_PKTS_DISCARDED=V;f.VIDEO_PKTS_RECV_LOST=W;f.AUDIO_RTT_RECEIVED=X;f.AUDIO_RTT_SENT=Y;f.AUDIO_DEV_REC_STALLS=Z;f.AUDIO_DEV_TOTAL_STALLS=$;f.AUDIO_DEV_IS_STALLED=aa;f.AUDIO_DEV_STALL_DURATION=ba;f.VIDEO_FREEZE_COUNT=ca;f.VIDEO_FREEZE_DURATION=da;f.VIDEO_FREEZE_DURATION_500MS=ea;f.VIDEO_PAUSE_COUNT=fa;f.VIDEO_PAUSE_DURATION=ga;f.VIDEO_CAPTURE_WIDTH=ha;f.VIDEO_CAPTURE_HEIGHT=ia;f.VIDEO_SUM_CAPTURE_PIXEL=ja;f.VIDEO_CAPTURE_FRAME_COUNT=ka;f.VIDEO_DECODED_WIDTH=la;f.VIDEO_DECODED_HEIGHT=ma;f.VIDEO_ENCODED_WIDTH=na;f.VIDEO_ENCODED_HEIGHT=oa;f.AUDIO_TOTAL_PACKET_SEND_DELAY=pa;f.VIDEO_TOTAL_PACKET_SEND_DELAY=qa;f.AUDIO_TOTAL_ENCODE_TIME=ra;f.VIDEO_TOTAL_ENCODE_TIME=sa;f.AUDIO_TOTAL_DECODE_TIME=ta;f.VIDEO_TOTAL_DECODE_TIME=ua;f.AUDIO_JITTER_BUFFER_DELAY=va;f.VIDEO_JITTER_BUFFER_DELAY=wa;f.AUDIO_JITTER_BUFFER_EMITTED_COUNT=xa;f.VIDEO_JITTER_BUFFER_EMITTED_COUNT=ya;f.AUDIO_E2E_LATENCY=za;f.VIDEO_E2E_LATENCY=Aa;f.AV_SYNC=Ba;f.AV_SYNC_ABS=Ca;f.AV_SYNC_COUNT=Da;f.AV_SYNC_OOB=Ea;f.VIDEO_SUM_DECODED_PIXEL=Fa;f.VIDEO_SUM_ENCODED_PIXEL=Ga;f.AUDIO_NETEQ_WAIT_TIME=Ha;f.AUDIO_PACKET_LOSS_RATE=Ia;f.AUDIO_PLC_CNG_RATE=Ja;f.AUDIO_PLC_RATE=Ka;f.GLOBAL_AUDIO_BITRATE=La;f.GLOBAL_BATTERY_USAGE=Ma;f.GLOBAL_CPU_USAGE=Na;f.GLOBAL_VIDEO_BITRATE=Oa;f.VIDEO_AV_SYNC_ABS=Pa;f.VIDEO_AV_SYNC_OOB=Qa;f.VIDEO_FRAME_RATE=Ra;f.VIDEO_FREEZE_COUNT_PER_MIN=Sa;f.VIDEO_FREEZE_DURATION_PER_MIN=Ta;f.VIDEO_NETEQ_WAIT_TIME=Ua;f.VIDEO_PACKET_LOSS_RATE=Va;f.VIDEO_RENDER_SCALE_RATIO=Wa;f.VIDEO_CROPPING_RATIO=Xa;f.VIDEO_RTT_RECEIVED=Ya;f.VIDEO_RTT_SENT=Za;f.SIMULCAST_LAYER_CHANGES=$a;f.VIDEO_QUALITY_SENT=ab;f.VIDEO_ENCODED_FRAME_RATE=bb;f.VIDEO_QP_SENT=cb;f.VIDEO_DECODE_TIME=db}),66);
__d("FBRTCCallSummary",["ChannelClientID","ErrorMetadata","FBRTCConstants","FBRTCIceStatsParser","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCMediaMetricTracker","FBRTCMediaMetricsConst","RTWebUserActionLogger","SiteData","URI","UserAgentData","WebPerformanceDeviceInfo","ZenonBrowsers","gkx","performanceNow","uuid"],(function(a,b,c,d,e,f,g){var h=5*60*1e3,i=1e5,j=[5,50,95],k={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},l={FELLBACK_TO_AUDIO:"f_a",MEDIA_REQUESTED:"m_r",MEDIA_SUCCEEDED:"m_s",POPUP_OPENED:"opened",PRESSED_ANSWER:"p_a"},m={ESCALATION_IS_AVAILABLE:"esc_available",USER_INITIATED_REQUEST:"out_started",RECEIVED_INCOMING_REQUEST:"inc_started",REJECTED_INVALID_P2P_STATE:"rej_invalid_state",CONNECTING_TO_MULTIWAY:"u_connecting_mw",CONNECTED_TO_MULTIWAY:"u_connected_mw",PEER_CONNECTING_TO_MULTIWAY:"p_connecting_mw",PEER_CONNECTED_TO_MULTIWAY:"p_connected_mw",READY_TO_ESCALATE:"ready_esc",PEER_FAILED_TO_CONNECT_TO_MULTIWAY:"p_fail_conn",MULTIWAY_CALL_ENDED:"mw_call_ended",TIMED_OUT:"timed_out",PEER_ABORTED:"p_aborted",INTERNAL_ERROR:"internal_err"},n={ESCALATION_INITIATION_BUTTON_CLICKED:"esc_init_button",ESCALATION_APPROVED_BUTTON_CLICKED:"esc_appr_button",ESCALATION_DECLINED_BUTTON_CLICKED:"esc_decl_button",USERMEDIA_REQUEST:"media_req",USERMEDIA_SUCCESS:"media_success",USERMEDIA_FAILURE:"media_fail",SENT_ESC_REQUEST:"s_esc_req",RECV_ESC_REQUEST:"r_esc_req",SENT_ESC_REQUEST_ACK:"s_esc_req_ack",RECV_ESC_REQUEST_ACK:"s_esc_req_ack",SENT_ESC_RESPONSE:"s_esc_rep",RECV_ESC_ACCEPT:"r_esc_accept",RECV_ESC_DECLINE:"r_esc_decl",RECV_ESC_TIMEOUT:"r_esc_timeout"},o=[d("FBRTCMediaMetricsConst").ACCELERATE_RATE,d("FBRTCMediaMetricsConst").DISCARD_RATE,d("FBRTCMediaMetricsConst").EXPAND_RATE,d("FBRTCMediaMetricsConst").PREEMPTIVE_RATE,d("FBRTCMediaMetricsConst").SPEECH_EXPAND_RATE],p=[{key:d("FBRTCMediaMetricsConst").AUDIO_NETEQ_WAIT_TIME,field:"nwt",scale:1},{key:d("FBRTCMediaMetricsConst").AUDIO_PACKET_LOSS_RATE,field:"plr",scale:1e4},{key:d("FBRTCMediaMetricsConst").AUDIO_PLC_CNG_RATE,field:"plccngr",scale:1e4},{key:d("FBRTCMediaMetricsConst").AUDIO_PLC_RATE,field:"plcr",scale:1e4}],q=[{key:d("FBRTCMediaMetricsConst").VIDEO_AV_SYNC_ABS,field:"avabs",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_FRAME_RATE,field:"fr",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_NETEQ_WAIT_TIME,field:"nwt",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_PACKET_LOSS_RATE,field:"plr",scale:1e4},{key:d("FBRTCMediaMetricsConst").VIDEO_RENDER_SCALE_RATIO,field:"rsr",scale:100},{key:d("FBRTCMediaMetricsConst").VIDEO_CROPPING_RATIO,field:"cr",scale:100}],r=[{key:d("FBRTCMediaMetricsConst").VIDEO_FREEZE_COUNT_PER_MIN,field:"vfmin",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_FREEZE_DURATION_PER_MIN,field:"vfdur",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_AV_SYNC_OOB,field:"avoob",scale:1e4}],s=[{key:d("FBRTCMediaMetricsConst").GLOBAL_CPU_USAGE,field:"proc",scale:100},{key:d("FBRTCMediaMetricsConst").GLOBAL_BATTERY_USAGE,field:"bat",scale:1},{key:d("FBRTCMediaMetricsConst").GLOBAL_AUDIO_BITRATE,field:"tadb",scale:1},{key:d("FBRTCMediaMetricsConst").GLOBAL_VIDEO_BITRATE,field:"tvdb",scale:1}],t=[{key:d("FBRTCMediaMetricsConst").AUDIO_RTT_SENT,field:"artt",scale:1}],u=[{key:d("FBRTCMediaMetricsConst").VIDEO_RTT_SENT,field:"vrtt",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_QUALITY_SENT,field:"vqs",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_ENCODED_FRAME_RATE,field:"efr",scale:1},{key:d("FBRTCMediaMetricsConst").VIDEO_QP_SENT,field:"qp",scale:1}],v="globalStatsTrackId",w="grid",x="pinned",y="thumbnail",z="pinnedAudioStatsTrackId",A="pinnedVideoStatsTrackId",B="outboundAudioStatsTrackId",C="outboundScreenStatsTrackId",D="outboundVideoStatsTrackId",E=[v,z,A,B,C,D];function F(a){var b=new(c("URI"))(window.location).getPath().includes("/videocall/");if(a==="MW_PEER_ID"&&!b){a=c("gkx")("1984542");b=c("gkx")("1845186");var e=d("ZenonBrowsers").isFBWebviewWithChromeMinVersion(67)&&c("gkx")("1888615");a=a||b||e;if(a)return"ZenonPlatform"}b=c("gkx")("1341692");return b?"Old Codebase":"ZenonScotch"}a=function(){a.nullSummary=function(){return new a({peerID:"0",callID:"0",isCaller:!1,callTrigger:"NULL_SUMMARY"})};function a(b){var e;this.$41={};this.peerID=String(b.peerID);this.callID=String(b.callID);this.localCallID=(e=b.localCallID)!=null?e:c("uuid")();this.deviceID=d("ChannelClientID").getID();this.$2=b.isCaller;this.$1=b.version||a.CURRENT_SUMMARY_VERSION;this.$3=d("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel();this.$15=new Date().valueOf();this.$43={};this.$4=b.callTrigger||null;this.$6={};this.$8={};this.$9={};this.$14={};this.$34=null;this.$35=null;this.$36=null;this.$17=0;this.$18=0;this.$33=!1;this.$10={};this.$11={};this.$12={};this.$13={};this.$39=null;this.$38=null;this.$37=null;this.$5=F(this.peerID);this.$20=c("performanceNow")();this.$16=0;this.$7={};this.$19=this.$20;this.$21=0;this.$22={};this.addExtraInfo(c("FBRTCLogger").Key.DEVICE_INFO,this.$56());this.$57();this.$58();this.$59();this.$60();this.$24=c("FBRTCIceStatsParser").getInstance();this.$50=new(c("FBRTCMediaMetricTracker"))();this.$23=c("FBRTCLogger").getInstance()}var b=a.prototype;b.toJsonString=function(){this.$18=new Date().valueOf();return JSON.stringify({version:this.$1,peerID:this.peerID,callID:this.callID,localCallID:this.localCallID,deviceID:this.deviceID,isCaller:this.$2,uploadLogLevel:this.$3,callType:this.$29,conferenceName:this.$26,joinWithSID:this.$27,activeConn:this.$25,escP2PCallID:this.$28,serverInfoData:this.$30,localVideoDuration:this.$31,remoteVideoDuration:this.$32,startTime:this.$15,trigger:this.$4,signalingTime:this.$6,escStateTimes:this.$8,applicationEventTime:this.$9,videoEscTimes:this.$14,endCallReason:this.$34,endCallSubreason:this.$35,isRemoteEnded:this.$36,lastUpdatedTime:this.$17,lastSerializedTime:this.$18,unsetOnRetrieve:this.$33,openCount:this.$21,extraInfo:this.$22,gen0IceSentCount:this.$10,gen0IceReceivedCount:this.$11,iceSentCount:this.$12,iceReceivedCount:this.$13,connectionType:this.$39,mediaMetricStats:this.$50.toJsonString(),newSignalingTime:this.$7,accumulatedCallTime:this.$61(),deviceCharged:this.$42,ehist:this.getEhist(),videoReceivedCodec:this.$44,videoSentCodec:this.$45,videoDevice:this.$46,audioDevice:this.$47,audioDeviceHist:this.$48,audioSentCodec:this.$49,relayIP:this.$40,clientVersion:this.$5,pcConnectionStates:this.$41,pcIsConnected:this.$37,endIsConnected:this.$38,maxTotalDecodeTime:this.$51,totalDecodeTime:this.$52,totalEncodeTime:this.$53,keyFramesEncoded:this.$54,avSyncAbsHist:this.$55})};a.fromJsonString=function(b){var d;try{b=JSON.parse(b)}catch(a){return null}if(b.version<a.OLDEST_SUPPORTED_SUMMARY_VERSION)return null;if(!Object.prototype.hasOwnProperty.call(b,"peerID")||!Object.prototype.hasOwnProperty.call(b,"callID")||!Object.prototype.hasOwnProperty.call(b,"isCaller")||!Object.prototype.hasOwnProperty.call(b,"startTime")||!Object.prototype.hasOwnProperty.call(b,"trigger")||!Object.prototype.hasOwnProperty.call(b,"signalingTime")||!Object.prototype.hasOwnProperty.call(b,"endCallReason")||!Object.prototype.hasOwnProperty.call(b,"isRemoteEnded")||!Object.prototype.hasOwnProperty.call(b,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(b,"lastSerializedTime"))return null;var e=new a({peerID:b.peerID,callID:b.callID,isCaller:b.isCaller,localCallID:b.localCallID});e.deviceID=b.deviceID;e.$1=b.version;e.$3=b.uploadLogLevel;e.$15=b.startTime;e.$4=b.trigger;e.$5=b.clientVersion;e.$6=b.signalingTime;e.$34=b.endCallReason;e.$35=b.endCallSubreason;e.$36=b.isRemoteEnded;e.$17=b.lastUpdatedTime;e.$18=b.lastSerializedTime;e.$27=b.joinWithSID;e.$38=(d=b.endIsConnected)!=null?d:null;e.$37=(d=b.pcIsConnected)!=null?d:null;b.callType&&(e.$29=b.callType);b.conferenceName&&(e.$26=b.conferenceName);b.escP2PCallID&&(e.$28=b.escP2PCallID);b.activeConn&&(e.$25=b.activeConn);b.serverInfoData&&(e.$30=b.serverInfoData);b.localVideoDuration&&(e.$31=b.localVideoDuration);b.remoteVideoDuration&&(e.$32=b.remoteVideoDuration);b.unsetOnRetrieve&&(e.$33=b.unsetOnRetrieve);b.openCount&&(e.$21=b.openCount);b.extraInfo&&(e.$22=b.extraInfo);b.gen0IceSentCount&&(e.$10=b.gen0IceSentCount);b.gen0IceReceivedCount&&(e.$11=b.gen0IceReceivedCount);b.iceSentCount&&(e.$12=b.iceSentCount);b.iceReceivedCount&&(e.$13=b.iceReceivedCount);b.newSignalingTime&&(e.$7=b.newSignalingTime);b.pcConnectionStates&&(e.$41=b.pcConnectionStates);b.accumulatedCallTime&&(e.$16=b.accumulatedCallTime);b.escStateTimes&&(e.$8=b.escStateTimes);b.applicationEventTime&&(e.$9=b.applicationEventTime);b.videoEscTimes&&(e.$14=b.videoEscTimes);b.mediaMetricStats&&(e.$50=c("FBRTCMediaMetricTracker").fromJsonString(b.mediaMetricStats));b.connectionType&&(e.$39=b.connectionType);b.deviceCharged&&(e.$42=b.deviceCharged);b.ehist!==null&&(e.$43=b.ehist);b.videoReceivedCodec!==null&&(e.$44=b.videoReceivedCodec);b.videoSentCodec!==null&&(e.$45=b.videoSentCodec);b.videoDevice!==null&&(e.$46=b.videoDevice);b.audioDevice!==null&&(e.$47=b.audioDevice);b.audioDeviceHist!==null&&(e.$48=b.audioDeviceHist);b.audioSentCodec!==null&&(e.$49=b.audioSentCodec);b.relayIP!==null&&b.relayIP!==void 0&&(e.$40=b.relayIP);b.maxTotalDecodeTime!==null&&b.maxTotalDecodeTime!==void 0&&(e.$51=b.maxTotalDecodeTime);b.totalDecodeTime!=null&&(e.$52=b.totalDecodeTime);b.totalEncodeTime!=null&&(e.$53=b.totalEncodeTime);b.keyFramesEncoded!=null&&(e.$54=b.keyFramesEncoded);b.avSyncAbsHist!==null&&(e.$55=b.avSyncAbsHist);return e};a.restoreOrInitialize=function(b,d,e,f,g,h){d=String(d);e=String(e);b=b.retrieveCallSummary(d,e);!b?(b=new a({peerID:d,callID:e,isCaller:f}),g?(b.onFullMessageReceived({msg:g}),b.onOfferAckSent(g)):b.onCallStarted(h||c("FBRTCLogger").Trigger.UNKNOWN),h!==c("FBRTCLogger").Trigger.REDIAL_BUTTON&&c("FBRTCLogger").getInstance().logError(d,e,"Missing call summary from storage")):b.$33&&(b.$38=null,b.$34=null,b.$35=null,b.$36=null,delete b.$6[k.CALL_ENDED],delete b.$7[k.CALL_ENDED],b.$20=0,b.$33=null);return b};a.logSavedSummaries=function(a){var b=a.getLoggableSummaries(),d=b.length;if(d<=0)return;var e=c("FBRTCLogger").getInstance(),f=[];for(var g=0;g<d;g++){var h=b[g];e.logEndCallSummary(h);f.push({peerID:h.peerID,callID:h.callID})}a.removeCallSummaries(f);e.logToConsole("Logged pending summaries: "+d)};b.logThisSummary=function(a,b){b===void 0&&(b=!1);var d=c("FBRTCLogger").getInstance();a.retrieveCallSummary(this.peerID,this.callID)!=null?(d.logEndCallSummary(this,b),a.removeCallSummary(this.peerID,this.callID),d.logToConsole("Logged active summary"),c("RTWebUserActionLogger").logCheckpoint({checkpoint:"FBRTCCallSummary_logThisSummary: Logged call summary "+JSON.stringify({peerID:this.peerID,callID:this.callID})})):c("RTWebUserActionLogger").logCheckpoint({checkpoint:"FBRTCCallSummary_logThisSummary: Unable to retrieve call summary "+JSON.stringify({peerID:this.peerID,callID:this.callID})})};b.isNull=function(){var b=a.CANONICAL_NULL_SUMMARY;return this.peerID===b.peerID&&this.callID===b.callID&&this.isCaller()===b.isCaller()&&this.getCallTrigger()===b.getCallTrigger()};b.save=function(a){var b=c("performanceNow")(),d=b-this.$19;if(d>h){this.$23.logInfo(this.peerID,this.callID,"Summary too old: "+d);return}a.storeCallSummary(this.peerID,this.callID,this);this.$19=b};b.getVersion=function(){return this.$1};b.getLastUpdatedTime=function(){return this.$17};b.setLastUpdatedTime=function(a){this.$17=a};b.getExtraInfo=function(){return this.$22};b.getCallTrigger=function(){return this.$4};b.addExtraInfo=function(a,b){this.$22[a]=b,this.$60()};b.isCaller=function(){return this.$2};b.isNetworkReady=function(){if(this.$6[k.NETWORK_READY])return!0;else return!1};b.isAnswerReceived=function(){if(this.$6[k.RECV_ANSWER])return!0;else return!1};b.onCallStarted=function(a){this.$4=a,this.$62(k.CALL_STARTED),this.$60(),c("ErrorMetadata").addGlobalMetadata("RT_WEB","TYPE","CallStarted")};b.setCallTrigger=function(a){this.$4=a,this.$60()};b.setPCIsConnected=function(a){this.$37!==a&&(this.$37=a,this.$41[this.$61()]=a)};b.onPopupOpened=function(){this.deviceID=d("ChannelClientID").getID(),this.$63(l.POPUP_OPENED),this.$21++,this.$60()};b.onPressedAnswer=function(){this.$63(l.PRESSED_ANSWER),this.$60()};b.onMediaRequested=function(){this.$63(l.MEDIA_REQUESTED),this.$60()};b.onMediaSucceeded=function(){this.$63(l.MEDIA_SUCCEEDED),this.$60()};b.onFellbackToAudio=function(){this.$63(l.FELLBACK_TO_AUDIO),this.$60()};b.setConnectionType=function(a){this.$39=a,this.$60()};b.setUploadLogLevel=function(a){this.$3=a,this.$60()};b.getCallType=function(){return this.$29};b.setCallType=function(a){this.$29=a,this.addExtraInfo(c("FBRTCLogger").Key.CALL_TYPE,a),this.$60()};b.setLinkSurface=function(a){this.addExtraInfo(c("FBRTCLogger").Key.ROOM_SURFACE,a)};b.setVideoDurations=function(a,b){this.$31=a,this.$32=b,this.$60()};b.setAudioDevice=function(a){var b;this.$47=a;this.$48=(b=this.$48)!=null?b:new Array(0);this.$48.length===0?this.$48.push(a):a!==this.$48[this.$48.length-1]&&this.$48.push(a)};b.setVideoDevice=function(a){this.$46=a};b.setScreenDuration=function(a){this.addExtraInfo(c("FBRTCLogger").Key.SCREEN_DURATION,a)};b.setConferenceName=function(a){this.$26=a,this.$60()};b.setTotalVideoFilterDuration=function(a){this.addExtraInfo(c("FBRTCLogger").Key.VIDEO_DURATION_WITH_FILTER,Math.ceil(a).toString())};b.setCoExperienceEffectDuration=function(a){this.addExtraInfo(c("FBRTCLogger").Key.EFFECT_TOTAL_DURATION,Math.ceil(a).toString())};b.setEffectCount=function(a){this.addExtraInfo(c("FBRTCLogger").Key.EFFECT_COUNT,a.toString())};b.setJoinWithSID=function(a){this.$27=a,this.$60()};b.setServerInfoData=function(a){this.$30=a,this.$60()};b.setActiveConnection=function(a){this.$25=a,this.$60()};b.setEscalationP2PCallID=function(a){this.$28=a,this.$60()};b.onOfferAckSent=function(a){this.onMessageSent({type:d("FBRTCConstants").PayloadType.OFFER_ACK,flag:a.flag})};b.onMessageSent=function(a){var b=a.flag===1;switch(a.type){case d("FBRTCConstants").PayloadType.OFFER:this.$64(b,k.SENT_OFFER,k.SENT_RETRIED_OFFER);this.$65(a,this.$10,this.$12);break;case d("FBRTCConstants").PayloadType.ANSWER:this.$64(b,k.SENT_ANSWER,k.SENT_RETRIED_ANSWER);this.$65(a,this.$10,this.$12);break;case d("FBRTCConstants").PayloadType.OK:this.$62(k.SENT_OK);break;case d("FBRTCConstants").PayloadType.PRANSWER:this.$62(k.SENT_PRANSWER);break;case d("FBRTCConstants").PayloadType.OFFER_ACK:this.$64(b,k.SENT_OFFER_ACK,k.SENT_RETRIED_OFFER_ACK);break;case d("FBRTCConstants").PayloadType.ANSWER_ACK:this.$64(b,k.SENT_ANSWER_ACK,k.SENT_RETRIED_ANSWER_ACK);break;case d("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$65(a,this.$10,this.$12);break;case d("FBRTCConstants").PayloadType.ACK:a.ack_type===d("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$66(n.SENT_ESC_REQUEST_ACK);break;case d("FBRTCConstants").PayloadType.VIDEO_REQUEST:a.ack_id?this.$66(n.SENT_ESC_RESPONSE):this.$66(n.SENT_ESC_REQUEST);break;default:}this.$60()};b.$65=function(a,b,c){var d,e=null;a=this.$24.extractIceInfo(a.sdp);for(var f=0;f<a.length;f++)d=a[f].gen,e=a[f].type,d===0&&this.$67(b,e),this.$67(c,e)};b.$67=function(a,b){!a[b]?a[b]=1:a[b]+=1};b.$68=function(a){this.addExtraInfo(c("FBRTCLogger").Key.PEER_IS_MOBILE,a.isFromMobile()?"1":"0")};b.onFullMessageReceived=function(a){var b=a.msg,c=b.flag===1;switch(b.type){case d("FBRTCConstants").PayloadType.OFFER:this.$68(a);this.$64(c,k.RECV_OFFER,k.RECV_RETRIED_OFFER);this.$65(b,this.$11,this.$13);break;case d("FBRTCConstants").PayloadType.ANSWER:this.$68(a);this.$64(c,k.RECV_ANSWER,k.RECV_RETRIED_ANSWER);this.$65(b,this.$11,this.$13);break;case d("FBRTCConstants").PayloadType.OK:this.$62(k.RECV_OK);break;case d("FBRTCConstants").PayloadType.PRANSWER:this.$62(k.RECV_PRANSWER);break;case d("FBRTCConstants").PayloadType.OFFER_ACK:this.$64(c,k.RECV_OFFER_ACK,k.RECV_RETRIED_OFFER_ACK);break;case d("FBRTCConstants").PayloadType.ANSWER_ACK:this.$64(c,k.RECV_ANSWER_ACK,k.RECV_RETRIED_ANSWER_ACK);break;case d("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$65(b,this.$11,this.$13);break;case d("FBRTCConstants").PayloadType.ACK:b.ack_type===d("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$66(n.RECV_ESC_REQUEST_ACK);break;case d("FBRTCConstants").PayloadType.VIDEO_REQUEST:b.ack_id?b.videoon||b.reqVideoOn?this.$66(n.RECV_ESC_ACCEPT):this.$66(n.RECV_ESC_DECLINE):b.videoon||b.reqVideoOn?this.$66(n.RECV_ESC_REQUEST):this.$66(n.RECV_ESC_TIMEOUT);break;default:}this.$60()};b.onMsgAckReceived=function(a,b){a=a.msg.flag===1;b?this.$64(a,k.RECV_OFFER_ACK,k.RECV_RETRIED_OFFER_ACK):this.$64(a,k.RECV_ANSWER_ACK,k.RECV_RETRIED_ANSWER_ACK)};b.onNetworkReady=function(){this.$62(k.NETWORK_READY),this.$60()};b.onCallConnected=function(){this.$62(k.CALL_CONNECTED),this.$60()};b.onCallEnded=function(a,b,c,d){this.$33=c,this.$34=a,this.$35=d,this.$36=b,this.$38===null&&(this.$38=this.$37),this.$62(k.CALL_ENDED),this.$60()};b.setOfferSentTime=function(){this.$62(k.SENT_OFFER)};b.setOfferAckReceivedTime=function(){this.$62(k.RECV_OFFER_ACK)};b.setAnswerSentTime=function(){this.$62(k.SENT_ANSWER)};b.setAnswerReceivedTime=function(){this.$62(k.RECV_ANSWER)};b.setJoinRequestSent=function(){this.$62(k.SENT_JOIN_REQUEST),this.$60()};b.setJoinResponseReceived=function(){this.$62(k.RECV_JOIN_RESPONSE),this.$60()};b.setJoinResponseProcessed=function(){this.$62(k.PROC_JOIN_RESPONSE),this.$60()};b.setRingRequestReceived=function(){this.$62(k.RECV_RING_REQUEST),this.$60()};b.setRingResponseSent=function(){this.$62(k.SENT_RING_RESPONSE),this.$60()};b.setEscalationAvailable=function(){this.$69(m.ESCALATION_IS_AVAILABLE)};b.setEscalationInitiated=function(){this.$69(m.USER_INITIATED_REQUEST)};b.setReceivedEscalationRequest=function(){this.$69(m.RECEIVED_INCOMING_REQUEST)};b.setInvalidP2PEscalationState=function(){this.$69(m.REJECTED_INVALID_P2P_STATE)};b.setEscalationConnectingToMultiway=function(){this.$69(m.CONNECTING_TO_MULTIWAY)};b.setEscalationConnectedToMultiway=function(){this.$69(m.CONNECTED_TO_MULTIWAY)};b.setEscalationPeerConnectingToMultiway=function(){this.$69(m.PEER_CONNECTING_TO_MULTIWAY)};b.setEscalationPeerConnectedToMultiway=function(){this.$69(m.PEER_CONNECTED_TO_MULTIWAY)};b.setReadyToEscalate=function(){this.$69(m.READY_TO_ESCALATE)};b.setEscalationPeerFailedToConnectToMultiway=function(){this.$69(m.PEER_FAILED_TO_CONNECT_TO_MULTIWAY)};b.setEscalationTimedOut=function(){this.$69(m.TIMED_OUT)};b.setVidEscalationInitClick=function(){this.$66(n.ESCALATION_INITIATION_BUTTON_CLICKED)};b.setVidEscalationAcceptedClick=function(){this.$66(n.ESCALATION_APPROVED_BUTTON_CLICKED)};b.setVidEscalationDeclinedClick=function(){this.$66(n.ESCALATION_DECLINED_BUTTON_CLICKED)};b.setVidEscalationMediaRequested=function(){this.$66(n.USERMEDIA_REQUEST)};b.setVidEscalationMediaSuccess=function(){this.$66(n.USERMEDIA_SUCCESS)};b.setVidEscalationMediaFailed=function(){this.$66(n.USERMEDIA_FAILURE)};b.setVideoCapabilities=function(a){this.addExtraInfo(c("FBRTCLogger").Key.VIDEO_CAPABILITIES,a)};b.setMediaInputs=function(a){this.addExtraInfo(c("FBRTCLogger").Key.MEDIA_INPUTS,a)};b.getVideoReceivedCodec=function(){return this.$44};b.setVideoReceivedCodec=function(a){this.$44=a};b.getVideoSentCodec=function(){return this.$45};b.setVideoSentCodec=function(a){this.$45=a};b.getEhist=function(){return this.$43};b.setEhist=function(a){this.$43=a};b.getAudioSentCodec=function(){return this.$49};b.setAudioSentCodec=function(a){this.$49=a};b.setVideoMaxTotalDecodeTime=function(a){var b;this.$51=Math.max((b=this.$51)!=null?b:0,a)};b.getTotalDecodeTime=function(){return this.$52};b.setTotalDecodeTime=function(a){this.$52=a};b.getTotalEncodeTime=function(){return this.$53};b.setTotalEncodeTime=function(a){this.$53=a};b.getKeyFramesEncoded=function(){return this.$54};b.setKeyFramesEncoded=function(a){this.$54=a};b.$70=function(){return this.$55};b.setAvSyncAbsHist=function(a){var b;b=(b=a)!=null?b:[];b=b.some(function(a){return a>0});b&&(this.$55=a)};b.toString=function(){var a={core_metrics:this.$71(),time_series:null};return JSON.stringify(a)};b.$71=function(){var a={ver:this.$1,log_level:d("FBRTCConstants").uploadLogLevelString(this.$3),caller:this.$2,call_type:this.$29,active_conn:this.$25,app_event_times:this.$9,conf_name:this.$26,CoreAudioMetrics:this.$72(),join_with_sid:this.$27,esc_p2p_call_id:this.$28,esc_state_times:this.$8,vid_esc_times:this.$14,serv_info:this.$30,conn:this.$73(),peer_id:this.peerID,has_video:!0,open_count:this.$21,signaling:this.$74(),sender:this.$75(),receiver:this.$76(),end:this.$77(),video:this.$78(),push_phase:c("SiteData").push_phase,DebugAudioMetrics:this.$79(),device_charged:this.$42,client_version:this.$5,perf:this.$80(),grid:this.$81(),pinned:this.$82(),thumbnail:this.$83(),sys_pct:this.$84(),sender_pct:this.$85()};return a};b.$79=function(){return{NetworkReceive:{jb_nm:this.$86()}}};b.$87=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$50.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$50.getVideoContentType(b)===c){b=d.$50.getVideoMetric(b,a);b&&(e+=b.total,f+=b.count)}});return f===0?null:Math.round(e*b/f)};b.$88=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$50.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$50.getVideoContentType(b)===c){b=d.$50.getVideoMetric(b,a);b&&(e+=b.current,f+=1)}});return f===0?null:Math.round(e*b)};b.$89=function(a,b){var c=this,d=0,e=0;b==null&&(b=1);var f=this.$50.getAudioStreamReportKeys();f.forEach(function(b){b=c.$50.getMetricStats(b,a);b&&(d+=b.current,e+=1)});return e===0?null:Math.round(d*b)};b.$86=function(){var a=this,b={},c=this.$50.getAudioStreamReportKeys();if(c.length<1)return b;o.forEach(function(d){var e=0,f=0,g=-Infinity,h=Infinity;c.forEach(function(b){b=a.$50.getMetricStats(b,d);b!=null&&b.total!=null&&(e+=b.count,f+=b.total,g=Math.max(g,b.max),h=Math.min(h,b.min))});e>0&&(b[d]={m:Math.round(1e4*h),M:Math.round(1e4*g),avg:Math.round(f*1e4/e)})});b.neteq={meanWait:this.$90()};return b};b.$90=function(){var a=this.$89(d("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_DELAY),b=this.$89(d("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_EMITTED_COUNT);return a!=null&&b!=null&&b>0?Math.round(a*1e3/b):-1};b.$72=function(){var a=this,b=this.$50.getAudioStreamReportKeys();b=b.reduce(function(b,c){c=a.$50.getMetricStats(c,d("FBRTCMediaMetricsConst").AUDIO_DEV_IS_STALLED);return!c||c.updatedTime==null||c.current==null?b:c.updatedTime>b.timeStamp?{val:c.current,timeStamp:c.updatedTime}:b},{val:-1,timeStamp:-Infinity}).val>0?1:0;var c=this.$89(d("FBRTCMediaMetricsConst").AUDIO_DEV_REC_STALLS),e=this.$89(d("FBRTCMediaMetricsConst").AUDIO_DEV_TOTAL_STALLS),f=this.$89(d("FBRTCMediaMetricsConst").AUDIO_DEV_STALL_DURATION),g=this.$91();g=g.count===0?0:Math.round(g.levelSum/g.count);e={astall:e,audio_device:this.$47,audio_device_hist:this.$48,isstall:b,rstall:c,rx_chan_proc_lvl:g,sdur:f};return e};b.$73=function(){var a={dtls:1},b=this.$75();b.avgrtt&&(a.avgrtt=b.avgrtt,a.maxrtt=b.maxrtt,a.minrtt=b.minrtt);this.$40!==null&&(a.relay_ip=this.$40);a.ctd=this.$41;return a};b.$74=function(){var a={};this.$4&&(a.trigger=this.$4);a.start_time=this.$15;a.time_from_start=this.$6;a.new_time_from_start=this.$7;var b=this.$92();b>0&&(a.duration=b);return a};b.$92=function(a){var b=this.$7[k.CALL_CONNECTED]||this.$7[k.NETWORK_READY];if(!b)return 0;a=this.$7[k.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$16||this.$61();return Math.max(0,a-b)};b.$75=function(){var a=this,b={},c=this.$50.getAudioStreamReportKeys(),e=0,f=0,g=0;c.forEach(function(b){b=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_BYTES_SENT);b!=null&&(e+=b.current,f+=b.current-b.first,g+=b.updatedTime-b.startedTime)});g>0&&(b.ube_avg=Math.round(f*8e3/g));b.bytes=e;b.plost=this.$89(d("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT_LOST);b.psent=this.$89(d("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT);var h=this.$50.getMetricStats(B,d("FBRTCMediaMetricsConst").AUDIO_SEND_LOUDNESS_LEVEL),i=this.$50.getMetricStats(B,d("FBRTCMediaMetricsConst").AUDIO_SEND_LOG_LEVEL_COUNT);h&&i&&(b.tx_sum_lvl=h.current,b.taulc=i.current);var j=0,k=0,l=null,m=null;c.forEach(function(b){b=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_RTT_SENT);b&&(k+=b.count,j+=b.total,l=l==null?b.min:Math.min(l,b.min),m=m==null?b.max:Math.max(m,b.max))});k>0&&(b.avgrtt=Math.round(j/k),b.maxrtt=m,b.minrtt=l);this.$10&&(b.ice_g0=this.$10);this.$12&&(b.ice=this.$12);this.$49!=null&&this.$49!==""&&(b.codec={www:this.$49});return b};b.$76=function(){var a=this,b={},c=this.$50.getAudioStreamReportKeys();b.jbd=this.$89(d("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_DELAY,1e3);b.jbec=this.$89(d("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_EMITTED_COUNT);var e=new Map([[d("FBRTCMediaMetricsConst").DECODING_PLC,0],[d("FBRTCMediaMetricsConst").DECODING_PLC_CNG,0],[d("FBRTCMediaMetricsConst").DECODING_CNG,0],[d("FBRTCMediaMetricsConst").DECODING_NORMAL,0],[d("FBRTCMediaMetricsConst").DECODING_NETEQ_CALL,0]]);c.forEach(function(b){if(E.includes(b))return;e.forEach(function(c,d){c=a.$50.getMetricStats(b,d);if(c!=null){var f;f=(f=e.get(d))!=null?f:0;e.set(d,f+c.current)}})});b.dec_plc=e.get(d("FBRTCMediaMetricsConst").DECODING_PLC);b.dec_plc_cng=e.get(d("FBRTCMediaMetricsConst").DECODING_PLC_CNG);b.dec_cng=e.get(d("FBRTCMediaMetricsConst").DECODING_CNG);b.dec_normal=e.get(d("FBRTCMediaMetricsConst").DECODING_NORMAL);b.neteq_calls=e.get(d("FBRTCMediaMetricsConst").DECODING_NETEQ_CALL);var f=this.$50.getMetricStats(v,d("FBRTCMediaMetricsConst").AUDIO_SEND_LOUDNESS_LEVEL),g=this.$50.getMetricStats(v,d("FBRTCMediaMetricsConst").AUDIO_SEND_LOG_LEVEL_COUNT);f&&g&&(b.rx_sum_lvl=f.current,b.taulc=g.current);b.fecpd=this.$89(d("FBRTCMediaMetricsConst").AUDIO_FEC_PACKETS_DISCARDED);b.fecpr=this.$89(d("FBRTCMediaMetricsConst").AUDIO_FEC_PACKETS_RECEIVED);var h=0;c.forEach(function(b){b=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);b&&(h+=b.current)});b.bytes=h;var j=0,k=0;c.forEach(function(b){b=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);if(b){var c=b.updatedTime-b.startedTime;c>0&&(j+=b.current-b.first,k+=c)}});k>0&&(b.dbe_avg=Math.round(j*8e3/k));var l=0;c.forEach(function(b){b=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED_LOST);b&&(l+=b.current)});b.plost=l;var m=0,n,o,p,q=0,r=0;c.forEach(function(b){var c=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED),e=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_RTT_RECEIVED);b=a.$50.getMetricStats(b,d("FBRTCMediaMetricsConst").AUDIO_RECEIVE_TOTAL_ENERGY);b!=null&&(q+=b.current,r+=b.updatedTime-b.startedTime);c!=null&&(m+=c.current,e!=null&&e.mean!=null&&(n=n==null?c.current*e.mean:n+c.current*e.mean,p=p==null?e.max:Math.max(p,e.max),o=o==null?e.min:Math.min(o,e.min)))});b.taue=Math.round(q*i);b.taut=Math.round(r);m>0&&n!=null&&(b.avgrtt=Math.round(n/m),b.maxrtt=p,b.minrtt=o);b.precv=m;this.$11&&(b.ice_g0=this.$11);this.$13&&(b.ice=this.$13);return b};b.$77=function(){var a={};this.$34!=null&&(a.end_call_reason_string=d("FBRTCConstants").callEndReasonString(this.$34),this.$35!==null&&(a.end_call_subreason_string=this.$35),a.remote_ended=this.$36,a.end_ctd=this.$38);this.$39&&(a.conn_type=this.$39);return a};b.$78=function(){var a={ch:null,cw:null,ah:null,aw:null,efrate:this.$93(),ehist:this.getEhist(),eipxl:null,ename:this.$45,eopxl:null,fcap:this.$88(d("FBRTCMediaMetricsConst").VIDEO_CAPTURE_FRAME_COUNT),eqps:this.$88(d("FBRTCMediaMetricsConst").OUTBOUND_QP),frames:this.$88(d("FBRTCMediaMetricsConst").FRAMES_ENCODED),kframes:this.$54,fcsn:this.$88(d("FBRTCMediaMetricsConst").FRAMES_SENT),histResScale:null,psent:this.$88(d("FBRTCMediaMetricsConst").VIDEO_PKTS_SENT),plost:this.$88(d("FBRTCMediaMetricsConst").VIDEO_PKTS_SEND_LOST),ss:{avbr:null,avbw:this.$87(d("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH,1,"screen"),dur:null,eiframes:null,eipxl:null,eopxl:null,eqps:this.$88(d("FBRTCMediaMetricsConst").OUTBOUND_QP,1,"screen"),frames:this.$88(d("FBRTCMediaMetricsConst").FRAMES_ENCODED,1,"screen")},sim_l_chg:this.$88(d("FBRTCMediaMetricsConst").SIMULCAST_LAYER_CHANGES,1),tet:this.$88(d("FBRTCMediaMetricsConst").VIDEO_TOTAL_ENCODE_TIME,1e3),tpsd:this.$88(d("FBRTCMediaMetricsConst").VIDEO_TOTAL_PACKET_SEND_DELAY,1e3),video_device:this.$46};return{sender:this.$94(a),receiver:this.$95(),ld:this.$31,rd:this.$32,bwe:this.$96()}};b.$93=function(){var a=this.$31,b=this.$88(d("FBRTCMediaMetricsConst").FRAMES_ENCODED);if(a!=null&&a>0&&b!=null&&b>0)return Math.round(b*1e3/a)};b.$80=function(){var a,b=this.$92()/1e3;if(b<=0)return;a=((a=this.$52)!=null?a:0)+((a=this.$53)!=null?a:0);a=Math.round(100*(a/b));return{cpu:{proc:{avg:a}}}};b.$91=function(){var a=this,b=this.$50.getAudioStreamReportKeys();b=b.reduce(function(b,c){if(c===v||c===B)return b;var e=a.$50.getMetricStats(c,d("FBRTCMediaMetricsConst").AUDIO_RECEIVE_LOG_LEVEL);c=a.$50.getMetricStats(c,d("FBRTCMediaMetricsConst").AUDIO_RECEIVE_LOG_LEVEL_COUNT);return!e||!c?b:{count:b.count+c.current,levelSum:b.levelSum+e.current}},{count:0,levelSum:0});return b};b.$96=function(){var a=this,b={avg_enc_bitrate:this.$97(),avg_send_bw:this.$98(),avg_trans_bitrate:null,avg_retrans_bitrate:null},c=this.$50.getVideoStreamReportKeys();c.some(function(c){var e=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEOBWE_TRANSMIT_BITRATE);c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEOBWE_RETRANSMIT_BITRATE);if(e&&c){b.avg_trans_bitrate=e.mean;b.avg_retrans_bitrate=c.mean;return!0}return!1});return b};b.$97=function(){var a=this,b=this.$50.getVideoStreamReportKeys(),c=0,e=0;b.forEach(function(b){b=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").ENCODE_BITRATE);b&&(c+=b.total,e+=b.count)});return e===0?null:Math.round(c/e)};b.$98=function(){var a=this,b=this.$50.getVideoStreamReportKeys(),c=null;b.some(function(b){c=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH);return c?!0:!1});c&&(c=c.mean);return c};b.$85=function(){var a=this.$99(t,B,w),b=this.$100(u,C,w),c=this.$100(u,D,w);return{audio:a,screen:b,video:c}};b.$99=function(a,b,d){var e=this,f={};a.forEach(function(a){var g,h=a.field,i=a.key;a=a.scale;var k=[];g=(g=e.$50.getMetricStats(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(i,d)))==null?void 0:g.current;j.forEach(function(a){a=(a=(a=e.$50.getMetricStats(b,c("FBRTCMediaMetricTracker").getPercentMediaKey(i,d,a)))==null?void 0:a.current)!=null?a:0;k.push(a)});g!=null&&(f[h]=e.$101(g,k,a,j))});return Object.keys(f).length>0?f:null};b.$100=function(a,b,d){var e=this,f={};a.forEach(function(a){var g,h=a.field,i=a.key;a=a.scale;var k=[];g=(g=e.$50.getVideoMetric(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(i,d)))==null?void 0:g.current;j.forEach(function(a){a=(a=(a=e.$50.getVideoMetric(b,c("FBRTCMediaMetricTracker").getPercentMediaKey(i,d,a)))==null?void 0:a.current)!=null?a:0;k.push(a)});g!=null&&(f[h]=e.$101(g,k,a,j))});return Object.keys(f).length>0?f:null};b.$84=function(){return this.$99(s,v,w)};b.$81=function(){var a=this,b={audio:{avg:{},max:{},min:{}},video:{avg:{},max:{},min:{}}},c=this.$50.getAudioStreamReportKeys(),d=this.$50.getVideoStreamReportKeys();p.forEach(function(d){var e=d.field,f=d.key;d=d.scale;f=a.$102(f,c,d,!0,j);f!=null&&(b.audio.avg[e]=f.avg,b.audio.max[e]=f.max,b.audio.min[e]=f.min)});q.forEach(function(c){var e=c.field,f=c.key;c=c.scale;f=a.$102(f,d,c,!1,j);f!=null&&(b.video.avg[e]=f.avg,b.video.max[e]=f.max,b.video.min[e]=f.min)});r.forEach(function(c){var e=c.field,f=c.key;c=c.scale;f=a.$102(f,d,c,!1,[]);f!=null&&(b.video.avg[e]=f.avg.avg,b.video.max[e]=f.max.avg,b.video.min[e]=f.min.avg)});return b};b.$103=function(a,b,d,e,f){var g=this,h=0,i=new Array(f.length).fill(0),j=0,k=0;b.forEach(function(b){var d=null,l=[];if(e){var m;j=g.$50.getAudioStreamDuration(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,y));d=(m=g.$50.getMetricStats(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,y)))==null?void 0:m.current;f.forEach(function(d){d=(d=g.$50.getMetricStats(b,c("FBRTCMediaMetricTracker").getPercentMediaKey(a,y,d)))==null?void 0:d.current;l.push(d)})}else{j=g.$50.getVideoStreamDuration(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,y));d=(m=g.$50.getVideoMetric(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,y)))==null?void 0:m.current;f.forEach(function(d){d=(d=g.$50.getVideoMetric(b,c("FBRTCMediaMetricTracker").getPercentMediaKey(a,y,d)))==null?void 0:d.current;l.push(d)})}d!=null&&(h+=d*j,i=l.map(function(a,b){return a!=null?a*j+i[b]:i[b]}),k+=j)});if(k===0)return null;b=h/k;var l=i.map(function(a){return a/k});return this.$101(b,l,d,f)};b.$102=function(a,b,d,e,f){var g=this,h=0,i=new Array(f.length).fill(0),j=0,k=new Array(f.length).fill(0),l=0,m=new Array(f.length).fill(0),n=0,o=0;b.forEach(function(b){var d=null,p=[];if(e){var q;n=g.$50.getAudioStreamDuration(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,w));d=(q=g.$50.getMetricStats(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,w)))==null?void 0:q.current;f.forEach(function(d){d=(d=g.$50.getMetricStats(b,c("FBRTCMediaMetricTracker").getPercentMediaKey(a,w,d)))==null?void 0:d.current;p.push(d)})}else{n=g.$50.getVideoStreamDuration(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,w));d=(q=g.$50.getVideoMetric(b,c("FBRTCMediaMetricTracker").getAvgMediaKey(a,w)))==null?void 0:q.current;f.forEach(function(d){d=(d=g.$50.getVideoMetric(b,c("FBRTCMediaMetricTracker").getPercentMediaKey(a,w,d)))==null?void 0:d.current;p.push(d)})}d!=null&&n>0&&(h+=d*n,i=p.map(function(a,b){return a!=null?a*n+i[b]:i[b]}),o===0?(j=d,l=d,k=p,m=p):d>j?(j=d,k=p):d<l&&(l=d,m=p),o+=n)});if(o===0)return null;b=h/o;var p=i.map(function(a){return a/o});b={avg:this.$101(b,p,d,f),min:this.$101(l,m,d,f),max:this.$101(j,k,d,f)};return b};b.$101=function(a,b,c,d){var e={};e.avg=Math.round(a*c);d.forEach(function(a,d){a="p".concat(String(a));e[a]=Math.round(b[d]*c)});return e};b.$83=function(){var a=this,b={audio:{},video:{}},c=this.$50.getAudioStreamReportKeys(),d=this.$50.getVideoStreamReportKeys(),e=!1;p.forEach(function(d){var f=d.field,g=d.key;d=d.scale;g=a.$103(g,c,d,!0,j);g!=null&&(b.audio[f]=g,e=!0)});q.forEach(function(c){var f=c.field,g=c.key;c=c.scale;g=a.$103(g,d,c,!1,j);g!=null&&(b.video[f]=g,e=!0)});r.forEach(function(c){var f=c.field,g=c.key;c=c.scale;g=a.$103(g,d,c,!1,[]);g!=null&&(b.video[f]=g.avg,e=!0)});return!e?null:b};b.$82=function(){var a=this,b=this.$50.getAudioStreamReportKeys(),d=this.$50.getVideoStreamReportKeys();if(!b.includes(z)&&!d.includes(A))return null;var e={audio:{},video:{}};p.forEach(function(b){var d,f=b.field,g=b.key;b=b.scale;var h=[];d=(d=a.$50.getMetricStats(z,c("FBRTCMediaMetricTracker").getAvgMediaKey(g,x)))==null?void 0:d.current;j.forEach(function(b){b=(b=(b=a.$50.getMetricStats(z,c("FBRTCMediaMetricTracker").getPercentMediaKey(g,x,b)))==null?void 0:b.current)!=null?b:0;h.push(b)});d!=null&&(e.audio[f]=a.$101(d,h,b,j))});q.forEach(function(b){var d,f=b.field,g=b.key;b=b.scale;var h=[];d=(d=a.$50.getVideoMetric(A,c("FBRTCMediaMetricTracker").getAvgMediaKey(g,x)))==null?void 0:d.current;j.forEach(function(b){b=(b=(b=a.$50.getVideoMetric(A,c("FBRTCMediaMetricTracker").getPercentMediaKey(g,x,b)))==null?void 0:b.current)!=null?b:0;h.push(b)});d!=null&&(e.video[f]=a.$101(d,h,b,j))});r.forEach(function(b){var d=b.field,f=b.key;b=b.scale;var g=[];f=(f=a.$50.getVideoMetric(A,c("FBRTCMediaMetricTracker").getAvgMediaKey(f,x)))==null?void 0:f.current;f!=null&&(e.video[d]=a.$101(f,g,b,[]).avg)});return e};b.$94=function(a){var b=this,e=this.$50.getVideoStreamReportKeys(),f=new Array(5).fill(0),g=0;e.forEach(function(a){a=b.$50.getHistResScale(a);a&&(g+=1,a.histogram.forEach(function(a,b){f[b]+=a}))});a.histResScale=g===0?null:f;e.reverse().some(function(c){var e=b.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_CAPTURE_WIDTH),f=b.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_CAPTURE_HEIGHT),g=b.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_ENCODED_WIDTH);c=b.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_ENCODED_HEIGHT);e&&f&&(a.cw=e.current,a.ch=f.current);if(g&&c){a.aw=g.current;a.ah=c.current;return!0}return!1});this.$22[c("FBRTCLogger").Key.SCREEN_DURATION]!=null&&typeof this.$22[c("FBRTCLogger").Key.SCREEN_DURATION]==="number"&&(a.ss.dur=this.$22[c("FBRTCLogger").Key.SCREEN_DURATION]);e=this.$88(d("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT,1,"screen");e!=null&&a.ss.dur!=null&&a.ss.dur>0&&(a.ss.avbr=Math.round(1e3*8*e/a.ss.dur));e=this.$88(d("FBRTCMediaMetricsConst").VIDEO_SUM_ENCODED_PIXEL,1,"screen");var h=this.$88(d("FBRTCMediaMetricsConst").FRAMES_ENCODED,1,"screen");e!=null&&h!=null&&h>0&&(a.ss.eopxl=Math.round(e/h));e=this.$88(d("FBRTCMediaMetricsConst").VIDEO_SUM_CAPTURE_PIXEL,1,"screen");h=this.$88(d("FBRTCMediaMetricsConst").VIDEO_CAPTURE_FRAME_COUNT,1,"screen");e!=null&&h!=null&&h>0&&(a.ss.eiframes=h,a.ss.eipxl=Math.round(e/h));e=this.$88(d("FBRTCMediaMetricsConst").VIDEO_SUM_ENCODED_PIXEL,1);h=this.$88(d("FBRTCMediaMetricsConst").FRAMES_ENCODED,1);e!=null&&h!=null&&h>0&&(a.eopxl=Math.round(e/h));e=this.$88(d("FBRTCMediaMetricsConst").VIDEO_SUM_CAPTURE_PIXEL,1);h=this.$88(d("FBRTCMediaMetricsConst").VIDEO_CAPTURE_FRAME_COUNT,1);e!=null&&h!=null&&h>0&&(a.eipxl=Math.round(e/h));return a};b.$95=function(){var a=this,b=this.$50.getVideoStreamReportKeys(),c=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;b.forEach(function(b){var l=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_PKTS_RECEIVED),m=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_PKTS_RECV_LOST);l&&m&&(f+=l.current,g+=m.current);l=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_BYTES_RECEIVED);l&&(c+=l.current);m=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").FRAMES_DECODED);m&&(h+=m.current);l=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").KEYFRAMES_DECODED);l&&(i+=l.current);m=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").PICTURE_LOSS_INDICAION_RECEIVED);m&&(j+=m.current);l=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").FULL_INTRA_REQUEST_RECEIVED);l&&(k+=l.current);m=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_DECODE_TIME);m&&(e+=m.current)});var l={jtkey:i,pli:j,fir:k,dec_bytes:c,dec_frame:h,dec_time:this.$51?Math.round(this.$51):null,dec_time_all_streams:Math.round(e),dname:this.$44,dpxl:null,frd:h,frcnt:null,jtasb:null,precv:f,plost:g,qps:this.$88(d("FBRTCMediaMetricsConst").INBOUND_QP),rh:null,rw:null,tdt:this.$88(d("FBRTCMediaMetricsConst").VIDEO_TOTAL_DECODE_TIME,1e3),jbd:null,jbec:null,recjbl:null,e2el:null,av:null,avabs:null,avhist:this.$70(),avoob:null},m=this.$88(d("FBRTCMediaMetricsConst").VIDEO_JITTER_BUFFER_DELAY,1e3),n=this.$88(d("FBRTCMediaMetricsConst").VIDEO_JITTER_BUFFER_EMITTED_COUNT);l.jbd=m;l.jbec=n;m!=null&&n!=null&&n>0&&(l.recjbl=Math.round(m/n));var o=0,p=0,q=0,r=0,s=0;b.forEach(function(b){var c=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").AV_SYNC),e=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").AV_SYNC_ABS),f=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").AV_SYNC_OOB),g=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").AV_SYNC_COUNT);b=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").FRAMES_DECODED);b!=null&&c!=null&&e!=null&&c.mean!=null&&e.mean!=null&&(q+=b.current,o+=c.mean*b.current,p+=e.mean*b.current);f!=null&&g!=null&&(s+=g.current,r+=f.current)});q>0&&(l.av=Math.round(o/q),l.avabs=Math.round(p/q));s>0&&(l.avoob=Math.round(r*1e4/s));var t=0,u=0;b.forEach(function(b){var c=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_E2E_LATENCY);b=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").FRAMES_DECODED);c!=null&&c.mean!=null&&b!=null&&(t+=b.current,u+=c.mean*b.current)});t>0&&(l.e2el=Math.round(u/t));l.frcnt=b.reduce(function(b,c){c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_FREEZE_COUNT);return b+(c?c.current:0)},0);l.frdur=b.reduce(function(b,c){c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_FREEZE_DURATION);return b+(c?c.current:0)},0);l.frdur=Math.round(l.frdur);l.frdur500=b.reduce(function(b,c){c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_FREEZE_DURATION_500MS);return b+(c?c.current:0)},0);l.frdur500=Math.round(l.frdur500);l.pact=b.reduce(function(b,c){c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_PAUSE_COUNT);return b+(c?c.current:0)},0);l.padur=b.reduce(function(b,c){c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").VIDEO_PAUSE_DURATION);return b+(c?c.current:0)},0);l.padur=Math.round(l.padur);var v=0;b.forEach(function(b){var c=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_DECODED_HEIGHT);b=a.$50.getVideoMetric(b,d("FBRTCMediaMetricsConst").VIDEO_DECODED_WIDTH);b&&c&&b.updatedTime>v&&(l.rw=b.current,l.rh=c.current,v=b.updatedTime)});l.jtasb=b.reduce(function(b,c){c=a.$50.getVideoMetric(c,d("FBRTCMediaMetricsConst").FRAMES_RECEIVED);return b+(c?c.current:0)},0);m=this.$88(d("FBRTCMediaMetricsConst").VIDEO_SUM_DECODED_PIXEL,1);n=this.$88(d("FBRTCMediaMetricsConst").FRAMES_DECODED,1);m!=null&&n!=null&&n>0&&(l.dpxl=Math.round(m/n));return l};b.$104=function(){return new Date().valueOf()-this.$15};b.$61=function(){var a=c("performanceNow")()-this.$20;return Math.floor(this.$16+a)};b.$62=function(a){if(this.$6[a])return;this.$6[a]=this.$104();this.$7[a]=this.$61()};b.$69=function(a){if(this.$8[a])return;this.$8[a]=this.$104()};b.$63=function(a){if(this.$9[a])return;this.$9[a]=this.$104()};b.$66=function(a){if(this.$14[a])return;this.$14[a]=this.$104()};b.setDeviceCharged=function(a){this.$42!==!0&&(this.$42=a)};b.$64=function(a,b,c){a?this.$62(c):this.$62(b)};b.$60=function(){this.$17=new Date().valueOf()};b.$56=function(){var a=c("UserAgentData").browserName,b=c("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(b+=" Mobile",a==="Chrome"&&(a="Mobile "+a));return{device:c("UserAgentData").deviceName,os:b,os_version:c("UserAgentData").platformFullVersion,browser:a,browser_version:c("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}};b.$57=function(){window.navigator.connection!=null&&window.navigator.connection.effectiveType!=null&&this.addExtraInfo(c("FBRTCLogger").Key.CONNECTION_EFFECTIVE_TYPE,window.navigator.connection.effectiveType)};b.$59=function(){var a=d("WebPerformanceDeviceInfo").getMobileYearClass();a!=null&&a>0?this.addExtraInfo(c("FBRTCLogger").Key.YEAR_CLASS,a):this.addExtraInfo(c("FBRTCLogger").Key.DESKTOP_DEVICE_CLASS,d("WebPerformanceDeviceInfo").getDeviceLevel())};b.$58=function(){navigator.hardwareConcurrency!=null&&this.addExtraInfo(c("FBRTCLogger").Key.CPU_CORES,navigator.hardwareConcurrency),window.navigator.deviceMemory!=null&&this.addExtraInfo(c("FBRTCLogger").Key.DEVICE_MEMORY,window.navigator.deviceMemory),this.addExtraInfo(c("FBRTCLogger").Key.DEVICE_PIXEL_RATIO,window.devicePixelRatio)};b.getCallDuration=function(){var a=c("gkx")("707989");return this.$92({assumeOngoing:a})};b.getConnectedStartTime=function(){return this.$6[k.CALL_CONNECTED]?this.$6[k.CALL_CONNECTED]+this.$15:0};b.getCurrentTimeFromCallConnected=function(){var a=this.$7[k.CALL_CONNECTED];return this.$61()-a};b.getMediaMetricTracker=function(){return this.$50};b.getEndCallReason=function(){return this.$34!=null?d("FBRTCConstants").callEndReasonString(this.$34):"Unknown"};b.getRelayIP=function(){return this.$40};b.setRelayIP=function(a){this.$40=a};b.getClientVersion=function(){return this.$5};b.getHeartbeatData=function(){return this.$71()};b.wasCallEnded=function(){return this.$6[k.CALL_ENDED]!=null};return a}();a.CANONICAL_NULL_SUMMARY=Object.freeze(a.nullSummary());a.OLDEST_SUPPORTED_SUMMARY_VERSION=19;a.CURRENT_SUMMARY_VERSION=24;a.REPORT_KEY="reportID";g["default"]=a}),98);
__d("FBRTCCallSummaryStore",["CacheStorage","FBLogger","FBRTCCallSummary","FBRTCLogger","RTWebUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=2e3,l=3,m=3*60*1e3,n=null;a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=new(c("CacheStorage"))(h,i),this.$2=c("FBRTCLogger").getInstance()}var b=a.prototype;b.storeCallSummary=function(a,b,d){if(d.isNull()){c("RTWebUserActionLogger").logError({errorDomain:"FBRTCCallSummaryStore_storeCallSummary",errorType:"FBRTCCallSummaryStore Storing invalid FBRTCCallSummary!",callID:b,userID:a});c("FBLogger")("rtweb").mustfix("Storing invalid FBRTCCallSummary!");return}var e=this;this.$3(function(c){c[a]||(c[a]={});var f=c[a][b];if(f){f=e.$4(f);if(f&&f.getLastUpdatedTime()>d.getLastUpdatedTime()){e.$2.logToConsole("Outdated summaries");return null}}c[a][b]=e.$5(d);return c},e.$2.logError.bind(e.$2,a,b))};b.retrieveCallSummary=function(a,b){var c=this.getCallSummaries(),d=null;c[a]&&(d=c[a][b]);if(d)return this.$4(d);else return null};b.removeCallSummary=function(a,b){this.removeCallSummaries([{peerID:a,callID:b}])};b.removeCallSummaries=function(a){var b=this;this.$3(function(c){var d=a.length;for(var e=0;e<d;e++){var f=a[e].peerID,g=a[e].callID;c[f]&&c[f][g]&&(delete c[f][g],b.$6(c[f])&&delete c[f])}return c},this.$2.logError.bind(this.$2,null,null))};b.getLoggableSummaries=function(){var a=this.getCallSummaries(),b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)){var e=this.$4(a[c][d],m);e&&b.push(e)}return b};b.$6=function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};b.$5=function(a){a={__t:Date.now(),__d:a.toJsonString()};return a};b.$4=function(a,b){return a&&(!b||Date.now()-a.__t>=b)?c("FBRTCCallSummary").fromJsonString(a.__d):null};b.getCallSummaries=function(){var a=this.$1.get(j)||{};return a};b.$3=function(a,b,d,e){d===void 0&&(d=l);(d===void 0||d===null)&&(d=l);var f=this.getCallSummaries(),g=this.getCallSummaries();f=a(f);if(f===null)return;var h=this.getCallSummaries();if(c("areEqual")(g,h))this.$1.set(j,f),this.logStorageError(this.$1.getLastSetException());else if(d>0){b("Retry lock");if(e){var i=this;c("setTimeout")(function(){i.$3(a,b,d-1,!0)},k)}else this.$3(a,b,d-1,!0)}else b("Failed to lock")};b.logStorageError=function(a){a!=null&&c("RTWebUserActionLogger").logError({errorDomain:"FBRTCCallSummaryStore_storeCallSummary",errorType:a.name})};return a}();g["default"]=a}),98);
__d("FBRTCCallSummaryUploader",["Banzai","DateConsts","FBRTCCallSummary","FBRTCCallSummaryStore","ZenonCallSummaryUploader","cr:11757","gkx"],(function(a,b,c,d,e,f,g){var h=1*d("DateConsts").MS_PER_MIN,i=null;function a(){if(c("gkx")("4700")){if(i!==null)return;i=window.setInterval(function(){var a=c("FBRTCCallSummaryStore").getInstance();d("ZenonCallSummaryUploader").logCallSummaries();b("cr:11757")==null?void 0:b("cr:11757").logCallSummaries();c("FBRTCCallSummary").logSavedSummaries(a)},h)}else c("Banzai").subscribe(c("Banzai").SEND,function(){var a=c("FBRTCCallSummaryStore").getInstance();d("ZenonCallSummaryUploader").logCallSummaries();b("cr:11757")==null?void 0:b("cr:11757").logCallSummaries();c("FBRTCCallSummary").logSavedSummaries(a)})}g.init=a}),98);
__d("StaticContainer.react",["React"],(function(a,b,c,d,e,f,g){var h=d("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:h.Children.only(a)};return b}(h.Component);g["default"]=a}),98);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","SecurePostMessage","StaticContainer.react","URI","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mountFrameRef=function(a){this.frame=a};d.updateFrame=function(){var a=this,c=this.frame;if(!c)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);b("ControlledReferer").shouldUseFacebookReferer(c,function(){var d=c.contentWindow.document;d.body.innerHTML='\n        <form method="GET" id="theform"></form>\n        '+b("ControlledRefererIFrameConfig").additional_markup+"\n      ";var e=new(h||(h=b("URI")))(a.props.src).qualify(),f=d.getElementById("theform");f.action=e.toString();e=e.getQueryData();for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){var i=d.createElement("input");i.name=g;i.setAttribute("value",e[g]);i.autocomplete="off";i.type="hidden";f.appendChild(i)}d.body.innerHTML+='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';a.props.onFrameRender&&a.props.onFrameRender(a.props)})};d.componentDidMount=function(){this.updateFrame()};d.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};d.render=function(){var a=this,c=this.props;c.src;c.onFrameRender;c.onBeforeFrameRender;c=babelHelpers.objectWithoutPropertiesLoose(c,["src","onFrameRender","onBeforeFrameRender"]);return i.jsx(b("StaticContainer.react"),{children:i.jsx("iframe",babelHelpers["extends"]({},c,{ref:function(b){return a.mountFrameRef(b)}}))})};d.postMessage=function(a,c){this.frame&&b("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,c)};return c}(i.PureComponent);e.exports=a}),null);